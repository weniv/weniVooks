---
chapter: React Router
title: 파라미터
date: 2024-07-08
---

# 1. URL 파라미터

`users/:userId`와 같이 `/:id`형식의 URL 패턴을 사용하면 URL의 일부분을 변수처럼 사용할 수 있습니다. 이러한 URL의 동적인 부분을 `URL 파라미터`라고 부릅니다. 이를 활용하여 동적 라우팅을 구현할 수 있습니다. 동적 라우팅이란 하나의 라우트 설정으로 여러 다른 URL에 대응할 수 있게 해주는 방식입니다. 예를 들어, "users/:userId" 경로는 "users/user1”, "users/user2"와 같은 다양한 URL과 동적으로 매칭될 수 있습니다. 이렇게 설정된 동적 라우트는 URL의 특정 부분이 변경되어도 같은 컴포넌트를 렌더링하면서, 변경된 부분의 값을 파라미터로 받아 처리할 수 있게 합니다. React Router에서는 이러한 파라미터를 사용하여 컴포넌트 내에서 동적으로 URL 데이터를 추출하고 처리할 수 있습니다. 예를 들면, "users/user1”, "users/user2"는 사용자 프로필 페이지를 보여주는 동일한 컴포넌트를 렌더링합니다. user1, user2와 같은 userId 부분이 변경되면 이를 파라미터로 받아 처리하여 해당하는 사용자의 프로필을 표시할 수 있도록 합니다. 이렇게 함으로써, 여러 다른 사용자 프로필 페이지를 위해 각각 새로운 컴포넌트를 만들 필요 없이, 하나의 컴포넌트로 다양한 사용자 프로필을 표시할 수 있게 됩니다.

# 2. 파라미터 설정

URL 파라미터를 이용해 봅시다.

`App.jsx`
```jsx
import {
  BrowserRouter,
  Routes,
  Route,
  Link,
  useLocation,
} from 'react-router-dom';

function App() {
  return (
    <BrowserRouter>
      <Link to="/"> home </Link>
      <Link to="/one"> one </Link>
      <Link to="/two"> two </Link>
      <Link to="/three"> three </Link>
      <Link to="/blog/1"> blog_1 </Link>
      <Link to="/blog/2"> blog_2 </Link>
      <Link to="/blog/3"> blog_3 </Link>
      <Routes>
        <Route path="/" element={<Index />} />
        <Route path="/one" element={<One name="react" />} />
        <Route path="/two" element={<Two />} />
        <Route path="/three" element={<Three />} />
        <Route path="/blog/:id" element={<Blog />} />
      </Routes>
    </BrowserRouter>
  );
}

function Index() {
  return <h1>hello world0</h1>;
}

function One({ name }) {
  return <h1>{name} world</h1>;
}

function Two() {
  return <h1>hello world2</h1>;
}

function Three() {
  return <h1>hello world3</h1>;
}

function Blog() {
  return <h1>hello Blog</h1>;
}

export default App;
```

“localhost:3000/blog/1”이나 “localhost:3000/blog/react”처럼 blog/ 뒤에 어떤 문자가 오든 ‘Blog’컴포넌트와 연결되어 있어 화면에 “hello Blog”가 보여집니다.

## 2.1 useLocation 훅

URL의 파라미터, 쿼리스트링, 해시 값에 따라 Fetch나 Axios 같은 비동기 통신을 통해 서버에 해당하는 데이터를 요청하여 원하는 데이터를 받아올 수 있습니다. 서버에 데이터를 요청할 때는 URL의 정보가 필요합니다. URL의 정보를 가져오기 위해 React Router에서 제공하는 여러 훅을 이용할 수 있습니다. useLocation 훅은 현재 경로의 정보를 가져오는데, URL의 경로(pathname), 쿼리스트링(search), 해시(hash) 등을 포함하는 객체를 반환합니다.

useLocation 훅을 이용해 URL의 정보를 출력해보겠습니다.

`App.jsx`
```jsx
import {
  BrowserRouter,
  Routes,
  Route,
  Link,
  useLocation,
} from 'react-router-dom';

function App() {
  return (
    <BrowserRouter>
      <Link to="/"> home </Link>
      <Link to="/one"> one </Link>
      <Link to="/two"> two </Link>
      <Link to="/three"> three </Link>
      <Link to="/blog/1"> blog_1 </Link>
      <Link to="/blog/2"> blog_2 </Link>
      <Link to="/blog/3"> blog_3 </Link>
      <Routes>
        <Route path="/" element={<Index />} />
        <Route path="/one" element={<One name="react" />} />
        <Route path="/two" element={<Two />} />
        <Route path="/three" element={<Three />} />
        <Route path="/blog/:id" element={<Blog />} />
      </Routes>
    </BrowserRouter>
  );
}

function Index() {
  return <h1>hello world0</h1>;
}

function One({ name }) {
  return <h1>{name} world</h1>;
}

function Two() {
  return <h1>hello world2</h1>;
}

function Three() {
  return <h1>hello world3</h1>;
}

function Blog() {
  const location = useLocation();
  console.log(location);
  return <h1>hello Blog</h1>;
}

export default App;
```

주소창의 URL을 변경하여 확인해봅시다.

URL을 "http://localhost:3000/blog/react?chapter=3#useLocation" 으로 지정하면 콘솔창에 다음과 같은 정보가 출력됩니다.

![useLocation 예시 1](/images/basecamp-react/chapter03-3/chapter03-3-1.png)

- pathname은 /blog/react입니다.
- search는 ?chapter=3입니다.
- hash는 #useLocation입니다.

URL을 “http://localhost:3000/blog/javascript?chapter=2” 로 수정하면 다음과 같은 정보가 출력됩니다.

![useLocation 예시 2](/images/basecamp-react/chapter03-3/chapter03-3-2.png)

- pathname은 /blog/javascript입니다.
- search는 ?chapter=2입니다.
- hash는 없습니다.

## 2.2 useParams 훅

useLocation 훅이 URL의 경로(pathname), 쿼리스트링(search), 해시(hash) 등을 포함하는 객체를 반환한다면, useParams 훅은 URL의 동적 파라미터만을 객체로 반환합니다. useParams를 사용하면 URL의 동적 부분을 쉽게 추출하고 활용할 수 있어, 동적 라우팅을 구현할 때 매우 유용합니다.

`App.jsx`
```jsx
import { BrowserRouter, Routes, Route, Link, useLocation, useParams } from "react-router-dom";

...

function Blog() {
    const location = useLocation();
    console.log(location)
    const parameter = useParams();
    console.log(parameter)
    return <h1>hello Blog</h1>
}

...
```

이 코드를 실행하고 콘솔창을 확인하면, /blog/:id 경로에서 id에 해당하는 파라미터 값이 출력되는 것을 볼 수 있습니다. 예를 들어, "/blog/1"로 이동하면 콘솔에 `{id: "1"}`이 출력됩니다.

:::div{.callout}

**useLocation 훅을 이용해서도 파라미터만 잘라낼 수 있습니다.**

```jsx
const location = useLocation();
const path = location.pathname.split('/')[2];
```

useParams 훅을 이용하는 방식과 위 방식 모두 유효하지만, useParams를 사용하면 코드가 더 간결해지고 라우트 정의와 일관성을 유지할 수 있습니다. 상황에 따라 적절한 방법을 선택하여 사용할 수 있습니다.

:::

이외에도 React Router에서 제공하는 다양한 훅이 있습니다. 더 많은 정보는 아래 공식홈페이지에서 확인할 수 있습니다.

::a[React Router]{class='btn-link' href="https://reactrouter.com/en/main" target="\_blank"}

:::div{.box}
URL의 구조에 대해 알고 싶다면 아래 링크를 참고해주세요.

::a[WHATWG URL's origin property]{class='btn-link' href="https://www.notion.so/WHATWG-URL-s-origin-property-852081643e2c490d8ad0984e16b0a590?pvs=21" target="\_blank"}
:::
