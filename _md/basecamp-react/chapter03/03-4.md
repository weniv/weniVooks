---
chapter: React Router
title: 중첩 라우팅
date: 2024-07-09
---

# 1. 중첩 라우팅

## 1. 기본 예시

URL 구조를 계층적으로 구성하는 중첩 라우팅에 대해 학습해보겠습니다. 아래 URL 주소에 각각 접속하여 어떤 컴포넌트가 렌더링되는지 확인해보세요.

```jsx
localhost:3000/three/
localhost:3000/three/subone
localhost:3000/three/subtwo
```

```jsx
import {
  BrowserRouter,
  Routes,
  Route,
  Link,
  useLocation,
  Outlet,
} from 'react-router-dom';

function App() {
  return (
    <BrowserRouter>
      <Link to="/"> Home </Link>
      <Link to="/one"> One </Link>
      <Link to="/two"> Two </Link>
      <Link to="/three"> Three </Link>
      <Routes>
        <Route path="/" element={<Index />} />
        <Route path="/one" element={<One name="react" />} />
        <Route path="/two" element={<Two />} />
        {/* 중첩 라우팅 */}
        <Route path="/three/*" element={<Outlet />}>
          <Route path="" element={<ThreeIndex />} />
          <Route path="subone" element={<SubOne />} />
          <Route path="subtwo" element={<SubTwo />} />
        </Route>
      </Routes>
    </BrowserRouter>
  );
}

function Index() {
  return <h1>Hello World0</h1>;
}

function One({ name }) {
  return <h1>{name} World</h1>;
}

function Two() {
  return <h1>Hello World2</h1>;
}

function ThreeIndex() {
  const location = useLocation();
  console.log(location);
  return <h1>Hello Three Index</h1>;
}

function SubOne() {
  const location = useLocation();
  console.log(location);
  return <h1>Hello Sub 1</h1>;
}

function SubTwo() {
  const location = useLocation();
  console.log(location);
  return <h1>Hello Sub 2</h1>;
}

export default App;
```

/three 경로는 기본 경로와 두 개의 하위 경로(subone, subtwo)를 가집니다. "/three/\*"에서 \* 표시는 /three/ 이하의 모든 경로를 의미합니다. \<Outlet> 컴포넌트는 하위 라우트의 컴포넌트가 렌더링될 위치를 지정합니다.

각 URL에 접속하면 렌더링되는 컴포넌트는 다음과 같습니다.

- "localhost:3000/three" : \<ThreeIndex> 컴포넌트
- "localhost:3000/three/subone" : \<SubOne> 컴포넌트
- "localhost:3000/three/subtwo" : \<SubTwo> 컴포넌트

## 2. \<Outlet>

이제, \<Outlet> 컴포넌트의 역할을 더 쉽게 이해할 수 있는 예시를 살펴보겠습니다. 위니북스의 HTML/CSS, JavaScript, React 도서에 각각 접근할 수 있는 URL 구조를 작성했습니다.

```jsx
localhost:3000/wenivooks/
localhost:3000/wenivooks/basecamp-html-css
localhost:3000/wenivooks/basecamp-javascript
localhost:3000/wenivooks/basecamp-react
```

```jsx
import { BrowserRouter, Routes, Route, Link, Outlet } from 'react-router-dom';

function App() {
  return (
    <BrowserRouter>
      <Navigation />
      <Routes>
        <Route path="/" element={<Index />} />
        <Route path="/wenivooks/*" element={<Wenivooks />}>
          <Route path="basecamp-html-css" element={<BasecampHtmlCss />} />
          <Route path="basecamp-javascript" element={<BasecampJavaScript />} />
          <Route path="basecamp-react" element={<BasecampReact />} />
        </Route>
      </Routes>
    </BrowserRouter>
  );
}

function Navigation() {
  return (
    <nav>
      <ol>
        <li>
          <Link to="/wenivooks"> Home </Link>
          <ul>
            <li>
              <Link to="/wenivooks/basecamp-html-css"> HTML/CSS </Link>
            </li>
            <li>
              <Link to="/wenivooks/basecamp-javascript"> JavaScript </Link>
            </li>
            <li>
              <Link to="/wenivooks/basecamp-react"> React </Link>
            </li>
          </ul>
        </li>
      </ol>
    </nav>
  );
}

function Index() {
  return <h1>Index</h1>;
}

function Wenivooks() {
  return (
    <div>
      <h1>Welcome weniVooks! 😀</h1>
      <Outlet />
    </div>
  );
}

function BasecampHtmlCss() {
  return <h2>HTML/CSS 베이스캠프입니다.</h2>;
}

function BasecampJavaScript() {
  return <h2>JavaScript 베이스캠프입니다.</h2>;
}

function BasecampReact() {
  return <h2>React 베이스캠프입니다.</h2>;
}

export default App;
```

\<Outlet> 컴포넌트는 /wenivooks 경로에 접근하면 보여지는 \<Wenivooks> 컴포넌트 내에 있습니다. "localhost:3000/wenivooks/"로 접속하면 "Welcome weniVooks! 😀" 문구가 화면에 표시됩니다. 하위 경로로 접속할 수 있는 링크 요소를 클릭하거나 주소창의 URL을 변경하여 하위 경로에 접근하면 다음과 같은 결과가 나타납니다.

:::div{.beforeAfter}
| URL | 화면 |
| ------------------------------------------ | ------------------------------------------ |
| localhost:3000/wenivooks/basecamp-html-css | ![localhost:3000/wenivooks/basecamp-html-css 화면](/images/basecamp-react/chapter03-4/chapter03-4-1.png) |
| localhost:3000/wenivooks/basecamp-javascript | ![localhost:3000/wenivooks/basecamp-javascript 화면](/images/basecamp-react/chapter03-4/chapter03-4-2.png) |
| localhost:3000/wenivooks/basecamp-react | ![localhost:3000/wenivooks/basecamp-react 화면](/images/basecamp-react/chapter03-4/chapter03-4-3.png) |
:::

구조가 보이시나요? 하위 경로로 접근했을 때 /wenivooks 경로와 연결된 \<Wenivooks> 컴포넌트의 “Welcome weniVooks! 😀” 문구가 공통적으로 화면에 보여집니다. \<Outlet> 컴포넌트의 위치에는 해당하는 하위 경로와 연결된 각 컴포넌트(BasecampHtmlCss, BasecampJavaScript, BasecampReact)가 렌더링됩니다.

이처럼 중첩된 라우팅은 공통 레이아웃(여기서는 'Welcome weniVooks! 😀')을 유지하면서 특정 부분(\<Outlet>이 위치한 곳)만 동적으로 변경할 수 있게 해줍니다.

:::div{.callout}

**`Quiz` - Route 사용하여 페이지 경로 만들기**

3장에서 배운 리액트 라우터를 `퀴즈`를 통해 복습해봅시다.

- **Home Page :** /
- **Product Detail Page** : /products/:id
  - ex) /products/1 , /products/2, /products/3, /products/4
- **Product Detail Notice Page :** /products/:id/notice
  - ex) /products/1/notice , /products/2/notice…
- **Cart Page :** /cart
- **Coupon Page :** /users/coupon
- **Question Page :** /users/question
- **Notice Page :** /users/notice
- **User Page :** /users

:::
