---
chapter: React Router
title: BrowserRouter, Routes, Route
date: 2024-07-05
---

# 1. BrowserRouter, Routes, Route

먼저 간단한 실습을 진행해보겠습니다. App.jsx 파일에 아래 코드를 복사하여 붙여넣은 후 실행해주세요.

```jsx
import { BrowserRouter, Routes, Route } from 'react-router-dom';

function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/" element={<Index />} />
        <Route path="/one" element={<One />} />
        <Route path="/two" element={<Two />} />
        <Route path="/three" element={<Three />} />
      </Routes>
    </BrowserRouter>
  );
}

function Index() {
  return <h1>hello world0</h1>;
}

function One() {
  return <h1>hello world1</h1>;
}

function Two() {
  return <h1>hello world2</h1>;
}

function Three() {
  return <h1>hello world3</h1>;
}

export default App;
```

이제 접속하는 URL에 따라 해당하는 화면(컴포넌트)이 바뀌는 걸 확인해보겠습니다.

1. 처음 접속하면 ‘localhost:3000/’으로 연결되며, 'Index' 컴포넌트와 연결되어 있어 “hello world0”라는 문구가 화면에 표시됩니다.
2. 'localhost:3000/one'으로 접속하면 'One' 컴포넌트가 렌더링되어 "hello world1"이 화면에 표시됩니다.
3. 'localhost:3000/two'로 접속하면 'Two' 컴포넌트가 렌더링되어 "hello world2"가 화면에 표시됩니다.
4. 'localhost:3000/three'로 접속하면 'Three' 컴포넌트가 렌더링되어 "hello world3"가 화면에 표시됩니다.

:::div{.box}
위 코드에서는 React Router DOM 라이브러리의 BrowserRouter, Routes, Route 세 가지 주요 컴포넌트를 사용하였습니다.

1. **BrowserRouter 컴포넌트** : 브라우저 주소창의 URL이 변경될 때마다 이를 감지하고 현재 위치를 저장합니다. URL과 UI를 연결하여 주소가 바뀌면 해당하는 화면(컴포넌트)을 보여줍니다. 또한 브라우저의 뒤로 가기, 앞으로 가기 기능을 지원합니다.
2. **Routes 컴포넌트** : 여러 Route 컴포넌트를 감싸는 상위 컴포넌트로, URL이 변경되면 하위의 모든 Route 컴포넌트 중 현재 주소와 일치하는 Route를 찾아 렌더링합니다.
3. **Route 컴포넌트** : 현재 URL에 맞는 UI를 렌더링하는 역할을 합니다. path 속성에는 경로를, element 속성에는 해당 경로와 매칭할 컴포넌트를 작성하여 특정 URL 경로에 어떤 컴포넌트를 보여줄지 지정합니다.
   :::

# 2. Component props 전달하기

컴포넌트에 props를 전달하는 방법은 기존 방식과 동일합니다.

```jsx
import { BrowserRouter, Routes, Route } from 'react-router-dom';

function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/" element={<Index />} />
        <Route path="/one" element={<One name="react" />} />
        <Route path="/two" element={<Two />} />
        <Route path="/three" element={<Three />} />
      </Routes>
    </BrowserRouter>
  );
}

function Index() {
  return <h1>hello world0</h1>;
}

function One({ name }) {
  return <h1>{name} world</h1>;
}

function Two() {
  return <h1>hello world2</h1>;
}

function Three() {
  return <h1>hello world3</h1>;
}

export default App;
```

'localhost:3000/one'으로 접속하면 name prop으로 전달한 'react'가 \<One /> 컴포넌트로 전달되어 "react world"이라는 문구가 화면에 표시됩니다.

# 3. Link

React Router에서 제공하는 Link 컴포넌트에 대해 알아보도록 하겠습니다. Link 컴포넌트는 클릭하면 다른 경로로 이동하는 링크 요소를 생성합니다. 이때 주소는 바뀌지만, 페이지가 새로고침되지 않습니다.

```jsx
import { BrowserRouter, Routes, Route, Link } from 'react-router-dom';

function App() {
  return (
    <BrowserRouter>
      <Link to="/"> home </Link>
      <Link to="/one"> one </Link>
      <Link to="/two"> two </Link>
      <Link to="/three"> three </Link>
      {/* 라우트를 감싸줍니다. */}
      <Routes>
        <Route path="/" element={<Index />} />
        <Route path="/one" element={<One name="react" />} />
        <Route path="/two" element={<Two />} />
        <Route path="/three" element={<Three />} />
      </Routes>
    </BrowserRouter>
  );
}

function Index() {
  return <h1>hello world0</h1>;
}

function One({ name }) {
  return <h1>{name} world</h1>;
}

function Two() {
  return <h1>hello world2</h1>;
}

function Three() {
  return <h1>hello world3</h1>;
}

export default App;
```

Link 컴포넌트를 작성하면 화면에서 아래와 같은 링크 요소를 볼 수 있습니다.

![Link 컴포넌트 링크 요소](/images/basecamp-react/chapter03/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-07-05_15.28.28.png)

이는 HTML의 a 태그(앵커 태그)와 외관상 똑같아 보입니다. 하지만 a 태그와 Link 컴포넌트는 동작 방식이 다릅니다.

- a 태그는 클릭하면 href 속성에 작성된 경로로 이동하면서 페이지가 새로고침되어 전체 페이지를 다시 불러옵니다. 이로 인해 속도가 느려질 수 있습니다.
- Link 컴포넌트는 클릭하면 주소가 바뀌어도 페이지가 새로고침 되지 않습니다. 대신 필요한 DOM 요소만 변경하여 화면의 일부분만 업데이트합니다. 따라서 a 태그보다 빠른 속도와 부드러운 사용자 경험을 제공합니다.

이러한 이유로 React Router를 사용할 때는 일반적인 페이지 내부 이동에 a 태그 대신 Link 컴포넌트를 사용합니다.

## 3.1 to 속성
접근할 경로를 지정하는 to속성에 대해 자세히 알아보겠습니다.

### 3.1.1 경로 지정 방식

경로 지정 방식은 크게 두 가지로 나눌 수 있습니다.

1. **상대 경로**
   - 현재 경로를 기준으로 합니다.
   - 예: 현재 경로가 /home이고 \<Link to="one">인 경우, 최종 경로는 /home/one이 됩니다.
   - `..`를 사용하여 상위 경로로 이동할 수 있습니다. 예: 현재 경로가 /home/one이고 \<Link to="..">인 경우, 최종 경로는 /home이 됩니다.
2. **절대 경로**
   - 최상위 루트(/)를 기준으로 합니다.
   - 예: 현재 경로가 /home이고 \<Link to="/one">인 경우, 최종 경로는 /one이 됩니다.


### 3.1.2 경로 형태
경로는 문자열이나 객체 형태로 작성할 수 있습니다.

```jsx
// 문자열
<Link to="/courses?sort=name&sorting=asc#the-hash" />

// 객체
<Link
  to={{
    pathname: "/courses",
    search: "?sort=name&sorting=asc",
    hash: "#the-hash",
    state: { fromDashboard: true }
  }}
/>
```

자세하게 살펴보겠습니다.

- **`pathname`** : 이동할 경로를 나타내는 문자열입니다.
- **`search`** : 쿼리스트링을 나타내는 문자열입니다.
- **`hash`** : URL의 해시를 나타내는 문자열입니다.
- **`state`** : 이동할 경로와 함께 전달할 상태 정보입니다. URL에 보이지 않습니다.

:::div{.callout}

### 쿼리스트링

URL의 뒷부분에 작성하여 서버에 데이터를 전달하는 방법 중 하나로 `?key=value` 형태입니다. ?sort=name&sorting=asc처럼 &를 사용하여 여러 데이터를 전달할 수 있습니다.

:::
