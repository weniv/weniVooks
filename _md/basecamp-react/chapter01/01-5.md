---
chapter: 준비
title: Server
date: 2024-07-18
---

`Server`는 클라이언트의 요청에 응답하여 서비스나 데이터를 제공하는 컴퓨터 프로그램 또는 장치입니다. 클라이언트-서버 모델은 웹의 기본 구조로, 클라이언트(주로 웹 브라우저)가 사용자 인터페이스를 제공하고 요청을 보내면, 서버는 그 요청을 처리하고 응답을 반환하는 중요한 역할을 합니다.

`API`는 Application Programming Interface의 약자로, 애플리케이션 간의 통신 방법을 정의한 인터페이스입니다. 이는 웹 개발에서 주로 서버의 리소스에 접근하고 조작하는 방법을 제공하는 역할을 합니다.

이러한 API와 밀접한 관계인 `HTTP`는 Hypertext Transfer Protocol의 약자로, 월드 와이드 웹(WWW)에서 정보를 주고받을 수 있는 프로토콜입니다. 클라이언트와 서버 간의 요청-응답의 방식으로 작동합니다.

지금까지 우리는 React 애플리케이션에서 서버와 어떻게 상호작용하는지에 대한 기본적인 개념들을 살펴보았습니다. 이러한 지식을 바탕으로, 이제 실제 개발 과정을 더욱 효율적으로 만들어주는 유용한 도구들에 대해 알아보겠습니다. 이러한 도구들은 개발자가 백엔드 구현에 시간을 들이지 않고도 프론트엔드 개발에 집중할 수 있게 해주며, 프로젝트의 초기 단계에서 특히 유용합니다.

# 1. JSON Server

프론트엔드 개발자가 백엔드 API가 없이도 빠르게 가상의 REST API를 만들 수 있게 해주는 Node.js 기반의 도구입니다. 실제 서버를 구축하지 않고도 API를 시뮬레이션할 수 있어, 프론트엔드 개발 및 프로토타이핑에 매우 유용하게 쓰입니다.

## 1.1. JSON 설치

터미널에서 다음 코드를 입력하고 실행해 주시면 JSON 설치가 완료됩니다.

```shell
npm install -g json-server
```

공식 메뉴얼과 JSON Viewer 관련 Chrome 확장 도구 아래 링크들을 참고해 주세요.

::a[json-server]{class='btn-link' href="https://github.com/typicode/json-server" target="\_blank"}

::a[JSON Viewer]{class='btn-link' href="https://chromewebstore.google.com/detail/json-viewer/gbmdgpbipfallnflgajpaliibnhdgobh?hl=ko" target="\_blank"}

## 1.2. 기본 사용법

JSON Server를 실행하기 위해 JSON 파일을 생성해 보겠습니다.

`db.json`

```json
{
  "product": [
    {
      "id": 1,
      "productName": "버그를 Java라 버그잡는 개리씨 키링 개발자키링 금속키링",
      "price": 12500,
      "stockCount": 100,
      "thumbnailImg": "asset/img/1/thumbnailImg.jpg",
      "option": [],
      "discountRate": 0,
      "shippingFee": 1500,
      "detailInfoImage": [
        "asset/detail/2/detail1.png",
        "asset/detail/2/detail2.png"
      ],
      "viewCount": 0,
      "pubDate": "2022-02-28",
      "modDate": "2022-02-28"
    },
    {
      "id": 2,
      "productName": "우당탕탕 라이캣의 실험실 스티커 팩",
      "price": 3500,
      "stockCount": 1000,
      "thumbnailImg": "asset/img/2/thumbnailImg.jpg",
      "option": [],
      "discountRate": 0,
      "shippingFee": 1500,
      "detailInfoImage": [
        "asset/detail/2/detail1.png",
        "asset/detail/2/detail2.png"
      ],
      "viewCount": 0,
      "pubDate": "2022-02-28",
      "modDate": "2022-02-28"
    },
    {
      "id": 3,
      "productName": "딥러닝 개발자 무릎 담요",
      "price": 17500,
      "stockCount": 0,
      "thumbnailImg": "asset/img/3/thumbnailImg.jpg",
      "option": [],
      "discountRate": 0,
      "shippingFee": 1500,
      "detailInfoImage": [
        "asset/detail/3/detail1.png",
        "asset/detail/3/detail2.png",
        "asset/detail/3/detail3.png"
      ],
      "viewCount": 0,
      "pubDate": "2022-02-28",
      "modDate": "2022-02-28"
    },
    {
      "id": 4,
      "productName": "네 개발잡니다 개발자키링 금속키링",
      "price": 13500,
      "stockCount": 100,
      "thumbnailImg": "asset/img/4/thumbnailImg.jpg",
      "option": [],
      "discountRate": 0,
      "shippingFee": 1500,
      "detailInfoImage": [
        "asset/detail/4/detail1.png",
        "asset/detail/4/detail2.png"
      ],
      "viewCount": 0,
      "pubDate": "2022-02-28",
      "modDate": "2022-02-28"
    },
    {
      "id": 5,
      "productName": "Hack Your Life 개발자 노트북 파우치",
      "price": 36000,
      "stockCount": 230,
      "thumbnailImg": "asset/img/5/thumbnailImg.jpg",
      "option": [
        {
          "id": 1,
          "optionName": "13인치",
          "additionalFee": 0
        },
        {
          "id": 2,
          "optionName": "15인치",
          "additionalFee": 1000
        }
      ],
      "discountRate": 19,
      "shippingFee": 1500,
      "detailInfoImage": [
        "asset/detail/5/detail1.png",
        "asset/detail/5/detail2.png"
      ],
      "viewCount": 0,
      "pubDate": "2022-02-28",
      "modDate": "2022-02-28"
    },
    {
      "id": 6,
      "productName": "[NEW] 위니브 개발자, 캐릭터 스티커팩 2종",
      "price": 5500,
      "stockCount": 1000,
      "thumbnailImg": "asset/img/6/thumbnailImg.jpg",
      "option": [
        {
          "id": 1,
          "optionName": "위니브 개발자 스티커팩",
          "additionalFee": 0
        },
        {
          "id": 2,
          "optionName": "위니브 프랜즈 스티커팩",
          "additionalFee": 0
        },
        {
          "id": 3,
          "optionName": "스티커팩 세트(개발자+프렌즈)",
          "additionalFee": 5000
        }
      ],
      "discountRate": 0,
      "shippingFee": 1500,
      "detailInfoImage": [
        "asset/detail/6/detail1.png",
        "asset/detail/6/detail2.png",
        "asset/detail/6/detail3.png",
        "asset/detail/6/detail4.png",
        "asset/detail/6/detail5.png"
      ],
      "viewCount": 0,
      "pubDate": "2022-02-28",
      "modDate": "2022-02-28"
    },
    {
      "id": 7,
      "productName": "제주코딩베이스캠프 코딩 연습장 세트",
      "price": 8000,
      "stockCount": 1000,
      "thumbnailImg": "asset/img/7/thumbnailImg.jpg",
      "option": [],
      "discountRate": 0,
      "shippingFee": 1500,
      "detailInfoImage": [
        "asset/detail/7/detail1.png",
        "asset/detail/7/detail2.png"
      ],
      "viewCount": 0,
      "pubDate": "2022-02-28",
      "modDate": "2022-02-28"
    }
  ]
}
```

위 파일을 생성하고 터미널에 다음 명령어를 입력하여 서버를 실행해 보겠습니다.

```shell
json-server --watch db.json --port 3001
```

:::div{.callout}
서버 실행 시, 보안 경고가 발생하였다면 아래 링크를 참고하여 문제 해결을 해주시면 됩니다.

::a[json-server --watch 실행 시 에러 해결]{class='btn-link' href="https://unit-15.tistory.com/83" target="\_blank"}

:::

아래 URL들은 JSON Server가 제공하는 다양한 쿼리 옵션을 효과적으로 보여주며, 프론트엔드 개발자가 실제 백엔드 API와 유사한 방식으로 데이터를 조작할 수 있음을 나타냅니다.

```shell
http://localhost:3001/product    // 기본 데이터 조회
http://localhost:3001/product/2    //
http://localhost:3001/product?_sort=id&_order=DESC    // ID 기준 내림차순 정렬
http://localhost:3001/product?_sort=id&_order=ASC    // ID 기준 오름차순 정렬
http://localhost:3001/product?id_gte=1    // ID가 1 이상인 데이터 조회
http://localhost:3001/product?id_lte=1    // ID가 1 이하인 데이터 조회
http://localhost:3001/product?_start=0&_end=5    // 데이터 페이지네이션(0부터 5개 항목 조회)
```

:::div{.callout}
`gte`: 크거나 같다, `lte`: 작거나 같다 `ne`: 부정 이라는 뜻을 내포하고 있습니다.

:::

## 1.3. 주요 특징

JSON은 별도의 코딩 없이 JSON 파일만으로 `가짜 API`를 생성할 수 있습니다. `RESTful 라우트`가 자동으로 생성되며 데이터 수정 시에도 자동으로 저장되는 장점이 있습니다. 또한, 커스텀 라우트를 지원하며 웹 인터페이스를 통해 데이터를 확인하고 수정이 가능합니다.

다음은 React 프로젝트에서 JSON Server를 어떻게 활용하는지 코드를 통해 알아보겠습니다. 데이터는 object형식이어야만 정상적인 작동이 됩니다. array 형식은 불가하다는 것을 기억해 주세요!

```javascript
import React, { useState, useEffect } from 'react';
import axios from 'axios';

function PostList() {
  const [posts, setPosts] = useState([]);

  useEffect(() => {
    axios
      .get('http://localhost:3000/posts')
      .then((response) => {
        setPosts(response.data);
      })
      .catch((error) => console.error('Error:', error));
  }, []);

  return (
    <ul>
      {posts.map((post) => (
        <li key={post.id}>{post.title}</li>
      ))}
    </ul>
  );
}
```

이제 JSON Server의 주요 장점과 한계점을 요약해 보겠습니다. 이를 통해 JSON Server가 어떤 상황에서 유용하게 활용될 수 있는지, 그리고 어떤 경우에 다른 대안을 고려해야 할지 이해할 수 있을 것입니다.

| 장점                                   | 단점                                        |
| -------------------------------------- | ------------------------------------------- |
| 빠른 프로토타이핑 가능                 | 실제 서버의 복잡한 로직 구현 불가           |
| 설정이 간단함                          | 대규모 데이터나 복잡한 관계를 다루기 어려움 |
| 실제 서버 개발 전 프론트엔드 개발 가능 | 프로덕션 환경에서 사용 불가                 |

# 2. Postman

`API(Application Programming Interface) 개발하고 테스트`하는 데 사용되는 강력한 도구인 Postman을 소개해 드리겠습니다.

포스트맨과 JSON Server와의 연관성에 대해 설명드리자면, JSON Server로 만든 mock API를 Postman으로 쉽게 테스트할 수 있습니다. 이러한 상호작용을 통해 프론트엔드 개발을 시작하기 전, API 구조 및 동작을 미리 검증할 수 있습니다.

포스트맨은 개발자, QA 엔지니어뿐만 아니라 제품 관리자들이 `API를 쉽게 생성, 공유, 테스트 및 문서화`할 수 있도록 돕습니다. 자세한 사용법은 아래 링크를 참고해 주세요.

::a[Postman 사용법]{class='btn-link' href="https://paullabworkspace.notion.site/postman-c129381b00374a88afd73a56e5ed1be1" target="\_blank"}

## 2.1. Postman 특징

포스트맨의 주요 기능 몇가지를 간략히 표로 보여드리겠습니다.

| 기능                    | 내용                                               |
| ----------------------- | -------------------------------------------------- |
| `API 요청 생성 및 전송` | 다양한 HTTP 메서드(GET, POST, PUT, DELETE 등) 지원 |
|                         | 헤더, 파라미터, 본문 등을 쉽게 설정 가능           |
| `응답 검증`             | 상태 코드, 헤더, 본문 내용 등을 자동으로 검사      |
|                         | 테스트 스크립트 작성 기능                          |
| `환경 및 변수 관리`     | 개발, 스테이징, 프로덕션 등 다양한 환경 설정 가능  |
|                         | 동적 변수 사용으로 유연한 테스트 가능              |
| `컬렉션`                | 관련 API 요청들을 그룹화하여 관리                  |
|                         | 컬렉션 단위로 테스트 실행 가능                     |
| `자동화`                | Newman(CLI 도구)을 통한 자동화된 테스트 실행       |
|                         | CI/CD 파이프라인에 통합 가능                       |
| `문서화`                | API 문서를 자동으로 생성                           |
|                         | 팀 간 쉬운 공유 및 협업 가능                       |

# 3. React App에 반영하기

지금까지 학습한 Server에 대한 내용을 바탕으로 실제 React App에 반영해보는 실습을 진행해 보겠습니다. 첨부된 데이터베이스 파일을 다운받아 주시고 아래 단계를 따라와 주세요.

[db.json](/images/basecamp-react/chapter01-5/db.json)

## 3.1. 환경 세팅

```shell
npm i axios
```

`index.html`

```html
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>React App</title>
  </head>

  <body>
    <div id="root"></div>
  </body>
</html>
```

`index.js`

```javascript
import React from 'react';
// import ReactDOM from 'react-dom'; //구버전
import { createRoot } from 'react-dom/client';
import App from './App';

const container = document.getElementById('root');
const root = createRoot(container);
root.render(<App tab="home" />);
```

`App.jsx`

```jsx
import React, { useState, useRef } from 'react';
import axios from 'axios';

function App() {
  // {
  //   "id": 4,
  //   "date": "2022-06-23",
  //   "email": "hojun4@gmail.com",
  //   "phone": "01000000004"
  // }
  const [email, setEmail] = useState('');
  const [phone, setPhone] = useState('');

  const emailInput = useRef(null);
  const phoneInput = useRef(null);

  function handlePost(e) {
    e.preventDefault();
    console.log(emailInput);
    console.log(phoneInput);
    setEmail(emailInput.current.value);
    setPhone(phoneInput.current.value);

    axios
      .post('http://localhost:3001/user', {
        email: emailInput.current.value,
        phone: phoneInput.current.value,
      })
      .then(function (response) {
        console.log(response);
      })
      .catch(function (error) {
        console.log(error);
      });
  }
  return (
    <div className="App">
      이메일 : <input ref={emailInput} type="text" />
      <br />
      휴대폰 : <input ref={phoneInput} type="email" />
      <button onClick={handlePost}>Click Me!</button>
      <span>{email}</span>
      <span>{phone}</span>
    </div>
  );
}

export default App;
```

:::div{.callout}
터미널의 powershell을 한 개를 더 생성하여 한 곳에서는 React를, 다른 한 곳에서는 JSON Server를 실행해 주셔야 합니다.

:::

위 코드들을 복사, 붙여넣기 하여 각각 파일을 생성해 주세요. 최종적인 전체 소스 코드가 필요하시다면, 아래 파일을 다운받으시면 됩니다.

[my-app.zip](/images/basecamp-react/chapter01-5/my-app.zip)

# 4. 유효성 검사

React 프로젝트를 개발하다 보면 사용자 입력 데이터로 인한 다양한 문제에 직면하게 됩니다. 잘못된 형식의 이메일, 빈 필드 제출, 또는 예상치 못한 데이터 타입 등이 그 예입니다. 이러한 문제들을 사전에 방지하고, 사용자에게 즉각적인 피드백을 제공하며, 애플리케이션의 안정성을 높이는 핵심 전략이 바로 유효성 검사입니다. 이번에는 React에서 효과적인 유효성 검사를 구현하는 방법과 그 중요성에 대해 알아보겠습니다.

유효성 검사는 안전성과 신뢰성을 위해 `클라이언트와 서버 양쪽에서 수행되어야` 합니다. 클라이언트 측에서는 즉각적인 사용자 피드백을 제공하고, 서버 측에서는 데이터의 최종 검증을 담당합니다.

또한, 일부 개발자들은 `CSS의 가상 클래스를 활용`한 유효성 검사 방법을 사용하기도 합니다. 하지만 이 방식은 때때로 예상치 못한 결과를 초래할 수 있어, 신중히 접근해야 합니다. 대신, JavaScript를 이용한 더 안전한 유효성 검사 방법이 일반적으로 권장됩니다.

보다 다양한 React 유효성 검사에 관련된 내용은 아래 링크들을 참고해 주세요.

::a[📝 React 리액트 회원가입 유효성 검사 (Javascript) + 버튼 태그 disabled이란?]{class='btn-link' href="https://velog.io/@leemember/%EB%A6%AC%EC%95%A1%ED%8A%B8-%ED%9A%8C%EC%9B%90%EA%B0%80%EC%9E%85-%EC%9C%A0%ED%9A%A8%EC%84%B1-%EA%B2%80%EC%82%AC" target="\_blank"}

::a[[React] 회원가입 페이지 유효성 검사하기]{class='btn-link' href="https://velog.io/@niboo/React-%ED%9A%8C%EC%9B%90%EA%B0%80%EC%9E%85-%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%9C%A0%ED%9A%A8%EC%84%B1-%EA%B2%80%EC%82%AC%ED%95%98%EA%B8%B0" target="\_blank"}

::a[[React] react 에서 핸드폰번호, 비밀번호, 이메일 유효성 검사하기 - 떽떽대는 개발공부]{class='btn-link' href="https://ddeck.tistory.com/42" target="\_blank"}
