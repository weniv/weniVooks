---
chapter: 타입
title: 형변환
date: 2024-01-29
---

# 1. Python에서의 형변환

형변환은 데이터의 타입을 다른 타입으로 바꾸는 과정을 의미합니다. 예를 들어보도록 하겠습니다.

```python-exec
월급 = input("월급을 입력하세요:")
연봉 = 월급 * 12
print(연봉)
```

만약 입력을 `100`을 했다면 아래 연봉 값은 `1200`이 아니라 `100100100...`이 출력되게 됩니다. 의도되로 연산을 원했다면 문자열이 아니라 숫자로 연산하게 해야 합니다. input은 받은 값을 문자열로 처리하기 때문에 이 값을 아래와 같이 변환시켜야 합니다.

```python-exec
월급 = input("월급을 입력하세요:")
연봉 = int(월급) * 12
print(연봉)
```

# 2. 형변환 정리

주요한 형변환 메서드는 아래와 같습니다.

| Built-in Function | 기능            |
| ----------------- | --------------- |
| int()             | 정수로 변환     |
| str()             | 문자열로 변환   |
| float()           | 실수로 변환     |
| list()            | 리스트로 변환   |
| tuple()           | 튜플로 변환     |
| dict()            | 딕셔너리로 변환 |
| set()             | 셋으로 변환     |

## 2.1 **int로 형변환**

### 2.1.1 str → int로 변환

```python-exec
num = '123'
print(type(num))

num = int(num)
print(type(num))
```

```python
<class 'str'>
<class 'int'>
```

위 예제는 문자열을 정수형으로 바꾸고 있습니다. 다만 아래와 같은 코드는 가능하지 않습니다.

```python-exec
s = 'hello'
print(type(s))

s = int(s) # error
print(type(s))
```

### 2.1.2 float → int로 변환

```python-exec
f = 3.14159
number = int(f)
print(number)  # 출력: 3
```

이번에는 float형을 정수로 변환해보도록 하겠습니다. 출력값처럼 소수점 아래의 값이 버려집니다.

### 2.1.3 bool → int로 형변환

```python-exec
true_int = int(True)
false_int = int(False)

print(true_int)  # 출력: 1
print(false_int)  # 출력: 0
```

bool 값을 int로 변환했을 때에는 True는 1 False는 0으로 출력됩니다.

:::div{.callout}
None은 int형으로 형변환 하면 0이라고 오해하는 분들이 많으신데 None은 int형으로 변환이 가능하지 않습니다.
:::

## 2.2 **string으로 형변환**

### 2.2.1 int와 float → str으로 변환

```python-exec
n = 123
print(type(n))

m = 123.4
print(type(n))

n = str(n)
print(type(n))

m = str(m)
print(type(m))
```

```python
<class 'int'>
<class 'float'>
<class 'str'>
<class 'str'>
```

여기서 주의해야 할 것은 int형은 str으로 변환했다가 다시 int형으로 변경하는 것이 문제가 되지 않지만 float형은 str으로 변환했다가 int형으로 변환했을 경우 error가 발생되게 됩니다. 닷(`.`)을 자동으로 인식해주지 않습니다.

## 2.3 **bool형으로 형변환**

`bool()` 함수는 다양한 파이썬 데이터 타입을 불리언(`True` 또는 `False`) 값으로 변환합니다. 이 변환의 핵심은 대부분의 값들이 어떻게 `True` 또는 `False`로 해석될지를 이해하는 것입니다.

bool 값으로의 형변환은 아래와 같은 상황에서 중요하게 여겨집니다.

1. 조건문의 명확성: 조건문 다음에 값이 True, False로 평가되는 것에 따라 분기가 달라집니다.
2. 데이터 유효성 검사: 많은 경우에, 데이터가 존재하거나 유효한지 확인해야 합니다.
3. 값의 존재 여부 판단: 파이썬에서는 빈 문자열, 빈 리스트, 0, None 등이 `False`로 평가됩니다. 이 특징을 이용하면 값의 존재 여부나 유효성을 간편하게 판단할 수 있습니다.

이 밖에도 간결한 코드를 위해, 적정 라이브러리와 호환을 위해 이 값이 True인지, False인지 아는 것은 중요합니다.

```python-exec
print("bool('test'):", bool('test'))
print("bool(' '):", bool(' '))
print("bool(''):", bool(''))
print("bool(100):", bool(100))
print("bool(1):", bool(1))
print("bool(0):", bool(0))
print("bool(-1):", bool(-1))
print("bool(None):", bool(None))
print("bool([]):", bool([]))
print("bool(tuple()):", bool(tuple()))
print("bool({}):", bool({}))
print("bool(set()):", bool(set()))
```

```python
bool('test'): True
bool(' '): True
bool(''): False
bool(100): True
bool(1): True
bool(0): False
bool(-1): True
bool(None): False
bool([]): False
bool(tuple()): False
bool({}): False
bool(set()): False
```

빈 자료형에 경우에는 False로 평가된다는 점을 기억해주세요. 앞으로도 많이 사용합니다. 2번째 예시인 `' '`는 안에 공백이 존재하기 때문에 빈 자료형이 아닙니다.

## 2.4 float형으로 형변환

### 2.4.1 일반 float 형변환

이번에는 float로 형변환 하는 것을 알아보도록 하겠습니다.

```python-exec
s = 10
print(float(s))

s = '10'
print(float(s))

s = '3.14'
print(float(s))
```

```python
10.0
10.0
3.14
```

정수의 값, 문자열 안에 정수로 입력된 값, 문자열 안에 실수로 입력된 값은 모두 실수로 변환이 가능합니다.

### 2.4.2 특수 float 형변환

`'inf'`, `'-inf'`, `'nan'` 같은 특별한 문자열은 `float()`를 사용해 변환할 수 있습니다. 이들은 각각 무한대(infinity), 음의 무한대 및 숫자가 아닌 것(Not a Number)을 나타냅니다. 이러한 특별한 문자 형변환은 대소문자를 가리지는 않습니다.

```python
infinity = float('inf')
neg_infinity = float('-inf')
not_a_number = float('nan')
```

### 2.4.3 묵시적 형변환

다음과 같이 정수와 실수의 나눗셈 같은 경우 항상 float를 반환합니다.

```python
10 / 1 # 출력: 10.0
```

## 2.5 list형으로 형변환

리스트는 파이썬에서 가장 널리 사용되는 데이터 구조 중 하나입니다. 여러 데이터를 순서대로 저장하는데 사용합니다. 이 자료형은 아직 배우지 않은 자료형이지만, 이미 str에 메서드 등에서 우리는 경험해본 바가 있습니다.

:::div{.callout}
여기서부터는 배우지 않은 자료형들 간에 형변환이 나옵니다. 어떻게 형 변환이 되는지 간단하게만 서술하였으니 형태만 살펴봐주세요. 더 자세한 내용은 해당 자료형에서 진행하도록 하겠습니다.
:::

### 2.5.1 str → list로 변환

```python-exec
s = '10'
print(list(s))

name = 'licat'
print(list(name))
```

```python
['1','0']
['l','i','c','a','t']
```

### 2.5.2 int → list로 변환

```python-exec
n = 10
print(list(n)) # 출력: error
```

정수형은 list로 변환이 가능하지 않습니다.

## 2.6 tuple형으로 형변환

튜플의 특성은 리스트와 비슷합니다. 다만 값의 변경이 불가 합니다. 여기서는 문자열의 변환만 다뤄보도록 하겠습니다.

```python-exec
name = 'licat'
tuple(name)
```

```python
('l','i','c','a','t')
```

## 2.7 dict형으로 형변환

딕셔너리 자료형은 key와 value로 이뤄진 쌍입니다. 따라서 쌍이 없는 일반 문자열은 변환이 되지 않습니다.

```python-exec
name = 'licat' # Error
dict(name)
```

아래와 같이 쌍을 맞춰주어야 합니다. 리스트 안에 튜플로 그 쌍을 맞추었습니다.

```python-exec
data = [('name','licat'),('age',10)]
d = dict(data)
d
```

```python
{'name':'leehojun','age':10}
```

## 2.8 set형으로 형변환

set은 중복을 허락하지 않는 자료형입니다. 이 특성을 사용하여 중복을 제거 할 때 많이 사용됩니다.

```python-exec
s = 'weniv CEO licat'
print(set(s)) #중복을 허락하지 않고 순서가 없습니다.
print(len(set(s))) #중복을 제거한 상태로의 길이를 알려줍니다.
print(len(s))
```

```python
{'O', 'a', 'c', 'i', 't', 'e', 'w', 'C', 'l', 'n', 'E', ' ', 'v'}
13
15
```

set은 순서를 보장하지 않기 때문에 순서가 엉켜 출력된 것을 확인할 수 있습니다. 여기서 중복된 문자는 `i`와 `공백`입니다. 공백도 문자라는 사실을 기억해주세요.

# 3. 나아가기

아래와 같이 문자열에 닷(`.`)이 포함되어 있으면 정수로 변환되지 않습니다.

```python-exec
x = 1.0
x = str(x)
print(int(x))
```

따라서 이런 코드는 아래와 같이 조건을 만들어 형변환을 해주시던가 float형으로 먼저 변환하고 int형으로 변환해주시면 됩니다.

```python-exec
x = 1.0
x = str(x)
if x.find('.') == -1:
    print(int(x))
else:
    print(float(x))
```

```python-exec
x = 1.0
x = str(x)
int(float(x))
```

앞으로 자주 사용하게될 형변환 코드입니다. 아직 map을 배우지 않았지만 이 코드를 메모해두시고 기억해주세요.

```python
list(map(int, ['10', '20', '30'])) # 출력: [10, 20, 30]
list(map(int, '12345')) # 출력: [1, 2, 3, 4, 5]
```
