---
chapter: 조금 더 깊이 들여다보기
title: JSON
date: 2024-04-03
---

# 1. JSON 이란?

JSON(JavaScript Object Notation)은 데이터를 저장하고 전송하는 데 사용되는 가벼운 텍스트 기반의 데이터 교환 형식입니다. 자바스크립트 객체 표기법을 기반으로 하지만 언어에 독립적이어서 다양한 프로그래밍 언어에서 사용됩니다. 다른 방식에 비해 가볍고 읽기 쉬워 널리 사용되고 있으니 개발자라면 JSON을 잘 이해하고 사용할 수 있어야 합니다.

## 1.1. JSON 의 기본적인 형태

JSON은 이름과 값의 쌍으로 이루어진 데이터 객체를 표현합니다. 이름과 값은 콜론(`:`)으로 구분하고, 데이터 객체는 쉼표(`,`)로 구분합니다. 데이터 객체는 중괄호(`{}`)로 묶어서 표현하고, 배열은 대괄호(`[]`)로 묶어서 표현합니다.

```json
{
  "squadName": "슈퍼히어로",
  "members": [
    {
      "name": "아이언맨",
      "age": 29,
      "본명": "토니 스타크"
    },
    {
      "name": "헐크",
      "age": 39,
      "본명": "부르스 배너"
    }
  ]
}
```

JSON은 특히 데이터 통신에서 많이 쓰이기 때문에 데이터를 순회거나거 꺼내는 용도로 많이 사용합니다. 아래 데이터에서 여러개의 데이터를 꺼내보거나 순회해보세요. 더 복잡한 데이터를 만들어보고 순회해보세요.

```javascript-exec
const data = {
  "name": "licat",
  "age": 25,
  "hobby": ["낚시", "독서", "등산", "요리"],
  "relationship": {
    "friend": ["뮤라", "빙키", "개리"],
    "enemy": ["라이언"]
  }
}

console.log(data["hobby"][0]);
```

# 2. JSON의 탄생 배경

프로그래머들은 서로 다른 프로그래밍 언어 간에 데이터를 전달할 때 어려움을 겪었습니다. 예를 들어 배열 데이터의 표현방식은 자바스크립트와 C는 다릅니다.

```c
int arr[5] = {1, 2, 3, 4, 5};
```

```javascript
let arr = [1, 2, 3, 4, 5];
```

숫자와 문자열은 언어마다 표현방식이 같은데 이를 이용해서 만든 대표적인 데이터 포멧이 XML입니다. 후에 XML의 복잡한 구조를 더 단순히 하고자 탄생한 것이 JSON 입니다.

## 2.1. JSON과 XML

```json
{
  "squadName": "슈퍼히어로",
  "members": [
    {
      "name": "아이언맨",
      "age": 29,
      "본명": "토니 스타크"
    },
    {
      "name": "헐크",
      "age": 39,
      "본명": "부르스 배너"
    }
  ]
}
```

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<root>
  <squadName>슈퍼히어로</squadName>
  <members>
    <name>아이언맨</name>
    <age>29</age>
		<본명>토니 스타크</본명>
	</members>
	<members>
	  <name>헐크</name>
	  <age>39</age>
		<본명>부르스 배너</본명>
	</members>
</root>
```

데이터를 표현하는 방식은 이 2가지 뿐만 아니라 다양한 방식이 있습니다. JSON은 데이터를 표현하는데 가장 간단하고 가볍기 때문에 많이 사용됩니다.

:::div{.callout}
**XML은 아직도 많이 사용되고 있습니다.**

XML은 데이터를 계층적으로 표현할 수 있어서 데이터를 표현하는 데 용이합니다. 하지만 XML은 데이터를 표현하는 데 많은 양의 태그를 사용하므로 가독성이 떨어집니다. 그래서 JSON이 등장하면서 XML보다 가볍고 읽기 쉬운 데이터 포멧으로 많이 사용되고 있습니다. 다만 XML은 여전히 많은 곳에서 사용되고 있습니다.

아래 링크를 통해 제주도청 뉴스페이지와 RSS 링크를 확인해보세요. 2024년 6월 기준으로 제주도청 뉴스페이지는 XML로 표현되어 있습니다. 연도를 표기한 이유는 서비스가 변경되어 추후 XML을 제공하지 않을 수도 있기 때문입니다.

::a[제주도청 뉴스페이지]{class="btn-link" href="https://www.jeju.go.kr/news/bodo/list.htm" target="\_blank"}

::a[제주도청 RSS 링크]{class="btn-link" href="https://www.jeju.go.kr/news/bodo/list.htm?act=rss" target="\_blank"}

:::

# 3. JSON 메서드

JSON은 자바스크립트 객체와 JSON 문자열을 변환하는 메서드를 제공합니다. 실무에서 자주 사용되는 메서드이므로 잘 알아두세요.

- **JSON.parse()** : JSON문자열을 자바스크립트 객체로 변환합니다.

```javascript-exec
const json = '{"result":true, "count":42}';
// 문자열인 json 데이터
// console.log(json[0]);
// console.log(json[1]);
const obj = JSON.parse(json);
console.log(obj); // 문자열에서 객체로 변환
```

```javascript-exec
const json = '[1, 2, 3]';
// 문자열인 json 데이터
// console.log(json[0]);
// console.log(json[1]);
const obj = JSON.parse(json);
console.log(obj); // 문자열에서 배열(객체)로 변환
```

이번에는 다중으로 중첩된 JSON 문자열을 객체로 변환해보겠습니다. 좀 더 복잡한 데이터를 만들어 객체로 변환해보세요.

```javascript-exec
const json = '[1, 2, [1, 2, 3]]';
const obj = JSON.parse(json);
console.log(obj);
```

이렇게 객체로 변환한 데이터를 순회하거나 특정 데이터를 처리하는 것이 JSON을 다루는 기본입니다. JSON을 다루는데 익숙해지면 데이터를 다루는 능력이 향상됩니다.

- **JSON.stringify()** : 자바스크립트 객체를 JSON문자열로 변환합니다.

```javascript-exec
const obj = { result: true, count: 42 };
const json = JSON.stringify(obj);
console.log(json[0]); // 객체에서 문자열로 변환
console.log(json[1]);
```

```javascript-exec
const arr = [1, 2, 3];
const json = JSON.stringify(arr);
console.log(json); // 배열(객체)에서 문자열로 변환
```

- **깊은 복사** : `JSON.parse`와 `JSON.stringify`를 이용하면 깊은 복사를 할 수 있습니다. origin 객체를 문자열화 했다가 다시 객체로 변환하기 때문에 새로운 객체를 생성하는 것과 동일합니다. 하지만 함수는 제대로 복사가 불가능하다는 단점이 있습니다. 제대로된 깊은 복사를 위해서는 structuredClone 메소드를 사용해야합니다.

```javascript-exec
let origin = [10, 20, 30, [40, 50]];
let copy = [...origin];
let deepcopy = JSON.parse(JSON.stringify(origin));

copy[0] = 1000;
copy[3][0] = 2000;

deepcopy[0] = 3000;
deepcopy[3][0] = 4000;

console.log(origin);
console.log(copy);
console.log(deepcopy);
```

# 4. JSON Generator

아래와 같은 서비스에서 JSON 형태를 받아 테이블 제작, 정렬 등 여러 실습을 해볼 수 있습니다. 이러한 가짜 데이터를 mock라고 합니다. 생성된 데이터의 형태를 보며 특정한 값에 통계를 내거나, 특정한 값에 대한 평균 등을 구해보세요. JSON 데이터를 다루는데 익숙해질 수 있습니다.

::a[JSON Generator]{class="btn-link" href="https://datagenerator.co.kr/" target="\_blank"}

# 5. 실무에서 사용하는 여러 JSON 형태

실무에서 사용했던 여러 JSON 형태를 소개합니다. 실제 서비스로 들어가 네트워크 탭에서 데이터를 확인해볼 수 있습니다. 아래 JSON 형태를 보고 어떤 데이터를 담고 있는지 생각해보세요.

## 5.1. 스터디인

다음 링크를 이용하여 스터디인 서비스에 접속할 수 있습니다. 다양한 데이터들이 JSON 형태로 제공되고 있습니다.
::a[스터디인]{class="btn-link" href="https://www.studyin.co.kr/" target="\_blank"}

```json
const studyData = [
  {
    "id": 463,
    "title": "[9月 위니북위온앤온] 함께 독서하고 이야기 나눠요",
    "thumbnail": "이미지 링크",
    "offline": false,
    "recruitment": 10,
    "study_info": "설명",
    "leader": {
      "id": 43,
      "profile": {
        "nickname": "SoulGom",
        "introduction": "위니브(제주코딩베이스캠프) 디자이너 소울곰입니다."
      }
    }
  }
  // 생략..
]
```

## 5.2. 라이브 코로나

라이브 코로나에 사용되는 수많은 데이터도 대부분 JSON 형식으로 구성되어 있습니다. 다음 링크에 접속해서 서비스를 확인할 수 있습니다.
::a[라이브 코로나]{class="btn-link" href="https://livecorona.co.kr/" target="\_blank"}

```json
[
  ["2/1", 12, 1, 0, 0],
  ["2/2", 15, 3, 0, 0],
  ["2/3", 15, 0, 0, 0]
  // 생략..
]
```

### 5.3. 데이터 처리

**JSON 응용1**

```jsx
const 호텔 = [
  {
    이름: '하나호텔',
    위치: '제주도 제주시 001',
    가격: { A: 50000, B: 30000, C: 15000 },
    방의개수: 50,
    예약자수: 25,
    남은방의개수: function () {
      return this.방의개수 - this.예약자수;
    },
  },
  {
    이름: '둘호텔',
    위치: '제주도 제주시 002',
    가격: { A: 100000, B: 60000, C: 30000 },
    방의개수: 100,
    예약자수: 30,
    남은방의개수: function () {
      return this.방의개수 - this.예약자수;
    },
  },
  {
    이름: '셋호텔',
    위치: '제주도 제주시 003',
    가격: { A: 80000, B: 50000, C: 30000 },
    방의개수: 120,
    예약자수: 80,
    남은방의개수: function () {
      return this.방의개수 - this.예약자수;
    },
  },
];

console.log(호텔.filter((호텔) => 호텔.이름 == '셋호텔'));
console.log(
  호텔.map((호텔) => ({
    이름: 호텔.이름,
    위치: 호텔.위치,
    가격: 호텔.가격,
    방의개수: 호텔.방의개수,
    예약자수: 호텔.예약자수,
    //물론 이름을 붙이는 간단한 연산 뿐만 아니라, 나라별 시간 표기법을 별도로 표시해준다던지 좀 더 복잡한 연산도 가능
    남은방의개수: 호텔.방의개수 - 호텔.예약자수,
  })),
);

console.log(호텔.sort((a, b) => a.방의개수 - b.방의개수));
```

**JSON 응용2**

```html
<button onclick="renderTable(jsonData)">데이터 호출!</button>
<table id="renderingDataTable">
  <thead>
    <tr>
      <th onclick="sort('_id')">_id</th>
      <th onclick="sort('age')">age</th>
      <th onclick="sort('eyeColor')">eyeColor</th>
      <th onclick="sort('name')">name</th>
      <th onclick="sort('gender')">gender</th>
      <th onclick="sort('email')">email</th>
      <th onclick="sort('phone')">phone</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>
```

```jsx
const jsonData = [
  {
    _id: '5e80777f673acf89c007ff91',
    age: 27,
    eyeColor: 'green',
    name: 'Angelina Chang',
    gender: 'female',
    email: 'angelinachang@kangle.com',
    phone: '+1 (938) 477-2821',
  },
  {
    _id: '5e80777feee717674b817fd2',
    age: 25,
    eyeColor: 'green',
    name: 'Deidre Cobb',
    gender: 'female',
    email: 'deidrecobb@kangle.com',
    phone: '+1 (938) 477-2824',
  },
  {
    _id: '5e80777fac368a4578dda85d',
    age: 25,
    eyeColor: 'blue',
    name: 'Jolene Franks',
    gender: 'female',
    email: 'jolenefranks@kangle.com',
    phone: '+1 (985) 536-3981',
  },
  {
    _id: '5e80777ff3717874cbc78e44',
    age: 31,
    eyeColor: 'brown',
    name: 'Waters Hardin',
    gender: 'male',
    email: 'watershardin@kangle.com',
    phone: '+1 (938) 559-2224',
  },
  {
    _id: '5e80777fe36842ea9e024fcd',
    age: 34,
    eyeColor: 'green',
    name: 'Jody Chaney',
    gender: 'female',
    email: 'jodychaney@kangle.com',
    phone: '+1 (878) 587-2602',
  },
  {
    _id: '5e80777fafd591f57344eb33',
    age: 31,
    eyeColor: 'green',
    name: 'Ortiz Maldonado',
    gender: 'male',
    email: 'ortizmaldonado@kangle.com',
    phone: '+1 (986) 509-2753',
  },
  {
    _id: '5e80777f20e48e9ada226862',
    age: 25,
    eyeColor: 'brown',
    name: 'Stacy Burris',
    gender: 'female',
    email: 'stacyburris@kangle.com',
    phone: '+1 (864) 577-3500',
  },
  {
    _id: '5e80777faf334f84a2c90595',
    age: 33,
    eyeColor: 'brown',
    name: 'Davenport Levy',
    gender: 'male',
    email: 'davenportlevy@kangle.com',
    phone: '+1 (990) 600-2700',
  },
  {
    _id: '5e80777fe9d516f0da793b7e',
    age: 32,
    eyeColor: 'brown',
    name: 'Lenora Rivas',
    gender: 'female',
    email: 'lenorarivas@kangle.com',
    phone: '+1 (835) 549-3209',
  },
  {
    _id: '5e80777fba91e9aeeb5ce989',
    age: 35,
    eyeColor: 'brown',
    name: 'John Fischer',
    gender: 'female',
    email: 'johnfischer@kangle.com',
    phone: '+1 (969) 493-3495',
  },
  {
    _id: '5e80777f63b89c8cb73127b8',
    age: 23,
    eyeColor: 'brown',
    name: 'Aurora Robles',
    gender: 'female',
    email: 'aurorarobles@kangle.com',
    phone: '+1 (900) 579-2424',
  },
  {
    _id: '5e80777faac1a3f50eacfbd1',
    age: 20,
    eyeColor: 'brown',
    name: 'Solis Hays',
    gender: 'male',
    email: 'solishays@kangle.com',
    phone: '+1 (930) 450-2123',
  },
  {
    _id: '5e80777ffd19fbf487e3957c',
    age: 26,
    eyeColor: 'blue',
    name: 'Graves Jackson',
    gender: 'male',
    email: 'gravesjackson@kangle.com',
    phone: '+1 (810) 556-3478',
  },
  {
    _id: '5e80777ff3bd76dd30824028',
    age: 22,
    eyeColor: 'brown',
    name: 'Sharron Joyner',
    gender: 'female',
    email: 'sharronjoyner@kangle.com',
    phone: '+1 (991) 418-2210',
  },
  {
    _id: '5e80777fd0f579261a830c2f',
    age: 37,
    eyeColor: 'brown',
    name: 'Patty Bernard',
    gender: 'female',
    email: 'pattybernard@kangle.com',
    phone: '+1 (940) 558-3881',
  },
  {
    _id: '5e80777fba4fc442f7353d84',
    age: 23,
    eyeColor: 'brown',
    name: 'Sandra Foreman',
    gender: 'female',
    email: 'sandraforeman@kangle.com',
    phone: '+1 (864) 500-3123',
  },
  {
    _id: '5e80777fa0897694765e4040',
    age: 35,
    eyeColor: 'blue',
    name: 'Hyde Melendez',
    gender: 'male',
    email: 'hydemelendez@kangle.com',
    phone: '+1 (964) 487-2694',
  },
  {
    _id: '5e80777fcf1f69b3350b06c1',
    age: 40,
    eyeColor: 'green',
    name: 'Evans Wagner',
    gender: 'male',
    email: 'evanswagner@kangle.com',
    phone: '+1 (944) 448-3591',
  },
  {
    _id: '5e80777fd311822be4597959',
    age: 40,
    eyeColor: 'brown',
    name: 'Robinson Lynn',
    gender: 'male',
    email: 'robinsonlynn@kangle.com',
    phone: '+1 (983) 564-3761',
  },
  {
    _id: '5e80777f481e9934e9fabdce',
    age: 27,
    eyeColor: 'brown',
    name: 'Best Ewing',
    gender: 'male',
    email: 'bestewing@kangle.com',
    phone: '+1 (950) 477-3573',
  },
  {
    _id: '5e80777fbf35be0eb2c2360a',
    age: 22,
    eyeColor: 'green',
    name: 'Bird Long',
    gender: 'male',
    email: 'birdlong@kangle.com',
    phone: '+1 (843) 497-2151',
  },
  {
    _id: '5e80777f37564dd622dfac58',
    age: 35,
    eyeColor: 'green',
    name: 'Flynn Albert',
    gender: 'male',
    email: 'flynnalbert@kangle.com',
    phone: '+1 (835) 422-2151',
  },
  {
    _id: '5e80777fa4080ca9c9a2a8f7',
    age: 39,
    eyeColor: 'brown',
    name: 'Avila Chen',
    gender: 'male',
    email: 'avilachen@kangle.com',
    phone: '+1 (985) 515-2235',
  },
  {
    _id: '5e80777fbf2492c1f4f6c7d2',
    age: 38,
    eyeColor: 'green',
    name: 'Colette Sweet',
    gender: 'female',
    email: 'colettesweet@kangle.com',
    phone: '+1 (971) 578-3870',
  },
  {
    _id: '5e80777f9dc7e14e19c042a7',
    age: 39,
    eyeColor: 'brown',
    name: 'Deirdre Reilly',
    gender: 'female',
    email: 'deirdrereilly@kangle.com',
    phone: '+1 (832) 546-2673',
  },
  {
    _id: '5e80777f28590be173115fdf',
    age: 38,
    eyeColor: 'blue',
    name: 'Carpenter Kaufman',
    gender: 'male',
    email: 'carpenterkaufman@kangle.com',
    phone: '+1 (963) 452-3989',
  },
  {
    _id: '5e80777fa4062298ee3772aa',
    age: 30,
    eyeColor: 'green',
    name: 'Angela Cote',
    gender: 'female',
    email: 'angelacote@kangle.com',
    phone: '+1 (868) 471-3444',
  },
  {
    _id: '5e80777fe70152016f07e965',
    age: 24,
    eyeColor: 'blue',
    name: 'Carter Mueller',
    gender: 'male',
    email: 'cartermueller@kangle.com',
    phone: '+1 (943) 492-2942',
  },
  {
    _id: '5e80777f162e512bf3be2b7e',
    age: 35,
    eyeColor: 'blue',
    name: 'Nola Hancock',
    gender: 'female',
    email: 'nolahancock@kangle.com',
    phone: '+1 (851) 523-2333',
  },
  {
    _id: '5e80777f178b7460aeb79784',
    age: 35,
    eyeColor: 'green',
    name: 'Mcconnell Mosley',
    gender: 'male',
    email: 'mcconnellmosley@kangle.com',
    phone: '+1 (807) 460-2627',
  },
];

let click = true;

function sort(key) {
  if (click) {
    click = false;
    let sortedData = jsonData.sort((a, b) =>
      a[key] < b[key] ? -1 : a[key] > b[key] ? 1 : 0,
    );
    renderTable(sortedData);
  } else {
    click = true;
    let sortedData = jsonData.sort((a, b) =>
      a[key] > b[key] ? -1 : a[key] < b[key] ? 1 : 0,
    );
    renderTable(sortedData);
  }
}

function renderTable(data) {
  let tableBodyData = [];
  console.log('?');

  for (var variable of data) {
    tableBodyData.push(`
          <tr>
            <td>${variable._id}</td>
            <td>${variable.age}</td>
            <td>${variable.eyeColor}</td>
            <td>${variable.name}</td>
            <td>${variable.gender}</td>
            <td>${variable.email}</td>
            <td>${variable.phone}</td>
          </tr>
        `);
  }
  document.querySelector('#renderingDataTable > tbody').innerHTML =
    tableBodyData.join('');
}
```

**JSON 응용 3**

```html
<button onclick="renderTable(호텔)" type="button" name="button">
  클릭해!!
</button>
<table id="rederingDataTable">
  <thead>
    <tr>
      <th onclick="sort('이름')">이름</th>
      <th onclick="sort('위치')">위치</th>
      <th onclick="sort('가격')">가격</th>
      <th onclick="sort('방의개수')">방의개수</th>
      <th onclick="sort('예약자수')">예약자수</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>
```

```jsx
const 호텔 = [
  {
    이름: '하나호텔',
    위치: '제주도 제주시 001',
    가격: { A: 50000, B: 30000, C: 15000 },
    방의개수: 50,
    예약자수: 25,
    남은방의개수: function () {
      return this.방의개수 - this.예약자수;
    },
  },
  {
    이름: '둘호텔',
    위치: '제주도 제주시 002',
    가격: { A: 100000, B: 60000, C: 30000 },
    방의개수: 100,
    예약자수: 30,
    남은방의개수: function () {
      return this.방의개수 - this.예약자수;
    },
  },
  {
    이름: '셋호텔',
    위치: '제주도 제주시 003',
    가격: { A: 80000, B: 50000, C: 30000 },
    방의개수: 120,
    예약자수: 80,
    남은방의개수: function () {
      return this.방의개수 - this.예약자수;
    },
  },
];

function sort(name) {
  let 정렬된호텔 = 호텔.sort((a, b) => b[name] - a[name]);
  renderTable(정렬된호텔);
}

function renderTable(호텔기본값) {
  let tableBody = [];
  // JSON.stringify({ x: 5, y: 6 })
  for (var variable of 호텔기본값) {
    tableBody.push(`
        <tr>
          <td>${variable.이름}</td>
          <td>${variable.위치}</td>
          <td>${JSON.stringify(variable.가격)}</td>
          <td>${variable.방의개수}</td>
          <td>${variable.예약자수}</td>
        </tr>
        `);
  }
  document.querySelector('#rederingDataTable > tbody').innerHTML =
    tableBody.join('');
}
```
