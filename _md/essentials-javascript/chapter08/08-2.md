---
chapter: 조금 더 깊이 들여다보기
title: Map과 Set
date: 2024-04-03
---

# 11. Map & Set

- 아래 배우는 개념은 익스플로러 10을 지원해야 하는 상황이라면 사용하지 못합니다.(바벨을 사용하면 사용 가능하지만 프로젝트에 따라 바벨을 사용하지 않을 수도 있습니다.)
  ![Untitled](/images/essentials-javascript/chapter08/Untitled.png)
  ![Untitled](/images/essentials-javascript/chapter08/Untitled%201.png)

## 1. Map

### 1.1 Map 이란?

Map 객체는 키-값 쌍을 가지는 객체 자료형의 한 종류입니다.

```jsx
let m = new Map();

// Map에 값을 넣기
m.set('하나', '1');
m.set(1, '하나');
m.set(true, 1);
m.set(false, 0);

// Map의 값에 접근하기
console.log(m.get('하나'));
console.log(m.get(true));

// Map의 값이 있는지 확인하기
console.log(m.has('하나'));

// Map의 값을 제거하기
console.log(m.delete('하나'));
console.log(m.has('하나'));
console.log(m);

// Map의 크기를 확인하기
console.log(m.size);

// let mm = new Map()
// mm.set('하나', m)
// Map(1) {'하나' => Map(3)}
// mm.set('하나', {'one':1, 'two':2})
// Map(1) {'하나' => {…}}
```

### 1.2 Map 의 여러가지 활용법

```jsx
// Map의 순환
for (var variable of m) {
  console.log(`m을 순회하고 있습니다. ${variable[0]}`);
  console.log(`m을 순회하고 있습니다. ${variable[1]}`);
}

// Map의 값에 접근
console.log(m.keys());
console.log(m.values());
console.log(m.entries());

// 인덱스를 가지는 자료형을 맵핑하기
let temp = new Map([
  [1, 10],
  [2, 20],
  [3, 30],
  [4, 40],
]);

console.log(temp);
```

### 1.3 Map 과 Object의 차이

Map 객체와 Object 는 둘 다 key - value 관계를 가진다는 점에서 비슷해보이지만 몇 가지 중요한 차이점이 있습니다

- Object의 키는 문자열 타입으로만 지정해야하지만, Map의 키는 모든 값을 가질 수 있습니다.
- Object는 크기를 사용자가 직접 수동으로 알아내야 하지만, Map은 size를 통해 크기를 쉽게 얻을 수 있습니다.

```jsx
objMap = new Map();
objMap.set('one', 1);
objMap.set('two', 2);
objMap.set('three', 3);

console.log(objMap.size); // 3

obj = { hi: 1, hi2: 2, hi3: 3, hi4: 4 };
console.log(obj.length); // undefined
console.log(obj.size); // undefined
```

- Map은 데이터를 추가하거나 제거하는 작업에서 Object 보다 더 나은 성능을 보입니다.

```jsx
m.set('하나', 1) // 메서드 체이닝
  .set('둘', 2)
  .set('셋', 3)
  .set('넷', 4)
  .set(true, '트루')
  .set([1, 2], '리얼리?'); //이렇게는 호출되지 않습니다.

console.log(m.get([1, 2])); // 이렇게는 호출되지 않습니다.

// Python Vs JavaScript
// 1. Python
// python에서 아래 값은 다르게 나옵니다.
// x = [1, 2]
// id(x)

// y = [1, 2]
// id(y)

// x == y // python에서는 true
// x is y // python에서는 false

// 2. JavaScript
// [1, 2] === [1, 2] //false
// [1, 2] == [1, 2] // false
// let x = [1, 2]
// let y = [1, 2]
// x == y // false
// x === y // false

let m = new Map();
let test = [1, 2];

m.set('하나', 1) // 메서드 체이닝
  .set(true, '트루')
  .set(test, '리얼리?'); // 이렇게는 호출됩니다.

console.log(m.get(test));
```

## 2. Set

### 2.1 Set 이란?

Set은 모든 타입의 값을 저장하는 객체자료형의 한 종류입니다. 이때 객체 안의 값은 중복을 허용하지 않습니다.

```jsx
let s = new Set('abcdeeeeeeeee');
console.log(s);
console.log(s.size);

// Set에 값을 추가하기
s.add('f');
console.log(s);

// Set을 순환하기
for (var variable of s) {
  console.log(variable);
}

// 값이 배열인 경우
let ss = new Set('abcdeeeeeeeee'.split(''));
console.log(ss);

// Set의 값을 제거하기
ss.delete('b');

// Set의 값을 확인하기
console.log(ss.has('a'));

// Set의 모든 값을 제거하기
ss.clear;
console.log(ss);

let a = new Set('abc');
let b = new Set('cde');
// 교집합
let cro = [...a].filter((value) => b.has(value));
// 합집합
let union = new Set([...a].concat(...b));
// 차집합
let dif = [...a].filter((x) => !b.has(x));
```

## 3. 연습문제

```jsx
// 문제 : 회사 게시판에는 총 6개의 게시물이 있고, 각각의 게시물에 게시자 데이터를 뽑은 것이 '회사게시판 변수이다.'
회사게시판 = ['이호준', '이호준', '이호준', '김은하', '김은하', '이준근'];

// 문제 1 : 몇 명이 게시판에 게시물을 썼나요? (인원이 유일해야 합니다.)
let set = new Set(회사게시판);
set.size;

// 문제 2 : 각각 몇 개의 게시물을 작성하였나요?
for (const i of set) {
  console.log(
    i,
    회사게시판.filter((e) => e === i),
  );
}

for (const i of set) {
  console.log(i, 회사게시판.filter((e) => e === i).length);
}

let map = new Map();
for (const i of 회사게시판) {
  map.set(i, (map.get(i) || 0) + 1); // 순회 돌면서 해당 key값을 업데이트 해주는 식으로
}

// 위 코드 설명
map.set('이호준', (map.get('이호준') || 0) + 1);
// => map.set('이호준', 1)
map.set('이호준', (map.get('이호준') || 0) + 1);
// => map.set('이호준', 2)
map.set('이호준', (map.get('이호준') || 0) + 1);
// => map.set('이호준', 3)
map.set('김은하', (map.get('김은하') || 0) + 1);
// => map.set('김은하', 1)
```
