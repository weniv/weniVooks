---
chapter: íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ ë¬¸ë²•
title: íƒ€ì… ê°€ë“œ
date: 2024-11-14
---

# 1. íƒ€ì… ê°€ë“œ

íƒ€ì… ê°€ë“œë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì • ìŠ¤ì½”í”„ ë‚´ì—ì„œ íƒ€ì…ì„ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. "ì´ ê°ì²´ê°€ íŠ¹ì • íƒ€ì…ì¸ì§€ í™•ì¸í•˜ê³ , ë§ë‹¤ë©´ TypeScriptì—ê²Œ ê·¸ ì‚¬ì‹¤ì„ ì•Œë ¤ì£¼ëŠ”" ë°©ë²•ì´ë¼ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

## 1.1 typeof íƒ€ì… ê°€ë“œ

typeofëŠ” JavaScriptì˜ typeofì²˜ëŸ¼ Arrayë¥¼ Objectë¡œ ë°˜í™˜í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ê°ì²´ë¥¼ ì·¨ê¸‰í•  ë•Œì—ëŠ” ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.

```tsx
function processValue(value: string | number) {
    if (typeof value === "string") {
        return value.toUpperCase(); // stringìœ¼ë¡œ íƒ€ì… ë³´ì¥
    }
    return value.toFixed(2); // numberë¡œ íƒ€ì… ë³´ì¥
}
```

typeofëŠ” javascriptì™€ typescriptëª¨ë‘ ì—°ì‚°ì´ ì •í™•í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì•„ë˜ì™€ ê°™ì´ ë³„ë„ì˜ ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œí•©ë‹ˆë‹¤. javascriptì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ì½”ë“œì…ë‹ˆë‹¤.

```js
function typeCheck(value) {
    const return_value = Object.prototype.toString.call(value);
    const type = return_value.substring(
        return_value.indexOf(" ") + 1,
        return_value.indexOf("]")
    );
    return type.toLowerCase();
}
```

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
function typeCheck(value: any): string {
    const return_value = Object.prototype.toString.call(value);
    const type = return_value.substring(
        return_value.indexOf(" ") + 1,
        return_value.indexOf("]")
    );
    return type.toLowerCase();
}

console.log(typeCheck([]));
console.log(typeCheck(null));
```

## 1.2 instanceof íƒ€ì… ê°€ë“œ

```tsx
class Dog {
    bark() { return "Woof!"; }
}

class Cat {
    meow() { return "Meow!"; }
}

function makeSound(animal: Dog | Cat) {
    if (animal instanceof Dog) {
        return animal.bark();
    }
    return animal.meow();
}

const dog = new Dog();
const cat = new Cat();

console.log(makeSound(dog)); // Woof!
console.log(makeSound(cat)); // Meow!
```

## 1.3 ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œ

```tsx
interface Fish {
    swim(): void;
}

interface Bird {
    fly(): void;
}

function isFish(pet: Fish | Bird): pet is Fish {
    return (pet as Fish).swim !== undefined;
}

function move(pet: Fish | Bird) {
    if (isFish(pet)) {
        pet.swim();
    } else {
        pet.fly();
    }
}

const fish = {
    swim: () => console.log("ë¬¼ê³ ê¸°ê°€ í—¤ì—„ì¹©ë‹ˆë‹¤.")
};

const bird = {
    fly: () => console.log("ìƒˆê°€ ë‚ ì•„ê°‘ë‹ˆë‹¤.")
};

move(fish); // "ë¬¼ê³ ê¸°ê°€ í—¤ì—„ì¹©ë‹ˆë‹¤ ğŸ "
move(bird); // "ìƒˆê°€ ë‚ ì•„ê°‘ë‹ˆë‹¤ ğŸ¦"
```

`pet is Fish`ëŠ” TypeScriptì˜ íƒ€ì… ìˆ ì–´(Type Predicate)ë¡œ, í•¨ìˆ˜ê°€ trueë¥¼ ë°˜í™˜í•  ë•Œ í•´ë‹¹ ë§¤ê°œë³€ìˆ˜ê°€ Fish íƒ€ì…ì´ë¼ëŠ” ê²ƒì„ TypeScriptì—ê²Œ ì•Œë ¤ì£¼ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ì‰½ê²Œ ë§í•´ì„œ, `ì´ ì¡°ê±´ì´ ì°¸ì´ë©´ petì€ Fish íƒ€ì…ì´ë‹¤`ë¼ê³  TypeScriptì˜ íƒ€ì… ì‹œìŠ¤í…œì—ê²Œ ì•Œë ¤ì£¼ëŠ” ê²ƒì…ë‹ˆë‹¤.

`(pet as Fish).swim !== undefined`ëŠ” íƒ€ì… ë‹¨ì–¸(Type Assertion)ì„ ì‚¬ìš©í•œ ì½”ë“œì…ë‹ˆë‹¤. pet ê°ì²´ë¥¼ Fish íƒ€ì…ì´ë¼ê³  ê°€ì •(íƒ€ì… ë‹¨ì–¸)í•˜ê³ , swimì´ë¼ëŠ” ë©”ì„œë“œê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ë§Œì•½ swim ë©”ì„œë“œê°€ ì¡´ì¬í•œë‹¤ë©´ trueë¥¼ ë°˜í™˜í•˜ì—¬ ì´ ê°ì²´ê°€ Fish íƒ€ì…ì´ë¼ê³  íŒë‹¨í•©ë‹ˆë‹¤. ì¦‰, "ë¬¼ê³ ê¸°ë¼ë©´ ë°˜ë“œì‹œ ê°€ì§€ê³  ìˆì–´ì•¼ í•  swim ë©”ì„œë“œê°€ ìˆëŠ”ì§€ í™•ì¸"í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

# 2. ì—°ìŠµë¬¸ì œ

1. ë‹¤ìŒê³¼ ê°™ì´ ë¬¸ìì—´ ë˜ëŠ” ìˆ«ìë¥¼ ë°›ì•„ì„œ í•´ë‹¹ ê°’ì˜ ê¸¸ì´ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì„¸ìš”.
- ë¬¸ìì—´ì´ ë“¤ì–´ì˜¤ë©´ ë¬¸ìì—´ì˜ ê¸¸ì´ë¥¼ ë°˜í™˜
- ìˆ«ìê°€ ë“¤ì–´ì˜¤ë©´ ìˆ«ìë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜í•œ í›„ ê·¸ ê¸¸ì´ë¥¼ ë°˜í™˜

2. ë‹¤ìŒê³¼ ê°™ì´ ë‘ ê°€ì§€ íƒ€ì…ì˜ ë™ë¬¼ ê°ì²´ê°€ ìˆìŠµë‹ˆë‹¤. ê° ë™ë¬¼ì˜ íŠ¹ì„±ì— ë§ê²Œ ì†Œë¦¬ë¥¼ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì„¸ìš”.

```tsx
class Dog {
    name: string;
    constructor(name: string) {
        this.name = name;
    }
    bark() {
        return "ë©ë©!";
    }
}

class Cat {
    name: string;
    constructor(name: string) {
        this.name = name;
    }
    meow() {
        return "ì•¼ì˜¹!";
    }
}

// ì—¬ê¸°ì— makeSound í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì„¸ìš”.
// Dogë‚˜ Catì„ ë°›ì•„ì„œ ê°ê° ì•Œë§ì€ ì†Œë¦¬ë¥¼ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.
```

3. ë‹¤ìŒ ì½”ë“œì— íƒ€ì… ê°€ë“œë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”.
```tsx
interface Square {
    kind: "square";
    size: number;
}

interface Rectangle {
    kind: "rectangle";
    width: number;
    height: number;
}

interface Circle {
    kind: "circle";
    radius: number;
}

type Shape = Square | Rectangle | Circle;

// ë„í˜•ì˜ ë©´ì ì„ ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì„¸ìš”.
function calculateArea(shape: Shape): number {
    // ì—¬ê¸°ì— êµ¬í˜„
}
```

# 3. ì—°ìŠµë¬¸ì œ ì •ë‹µ

1. ë¬¸ìì—´ ë˜ëŠ” ìˆ«ìë¥¼ ë°›ì•„ì„œ í•´ë‹¹ ê°’ì˜ ê¸¸ì´ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜

```typescript
function getLength(value: string | number): number {
    if (typeof value === "string") {
        return value.length;
    }
    return String(value).length;
}

// ì‚¬ìš© ì˜ˆì‹œ
console.log(getLength("hello"));  // 5
console.log(getLength(12345));    // 5
```

2. ê° ë™ë¬¼ì˜ íŠ¹ì„±ì— ë§ê²Œ ì†Œë¦¬ë¥¼ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜

```typescript
class Dog {
    name: string;
    constructor(name: string) {
        this.name = name;
    }
    bark() {
        return "ë©ë©!";
    }
}

class Cat {
    name: string;
    constructor(name: string) {
        this.name = name;
    }
    meow() {
        return "ì•¼ì˜¹!";
    }
}

function makeSound(animal: Dog | Cat): string {
    if (animal instanceof Dog) {
        return `${animal.name}ì´(ê°€) ${animal.bark()}`;
    }
    return `${animal.name}ì´(ê°€) ${animal.meow()}`;
}

// ì‚¬ìš© ì˜ˆì‹œ
const dog = new Dog("ë©ë©ì´");
const cat = new Cat("ì•¼ì˜¹ì´");

console.log(makeSound(dog));  // "ë©ë©ì´ê°€ ë©ë©!"
console.log(makeSound(cat));  // "ì•¼ì˜¹ì´ê°€ ì•¼ì˜¹!"
```

3. ë„í˜•ì˜ ë©´ì ì„ ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜ (íƒ€ì… ê°€ë“œ ì‚¬ìš©)

```typescript
interface Square {
    kind: "square";
    size: number;
}

interface Rectangle {
    kind: "rectangle";
    width: number;
    height: number;
}

interface Circle {
    kind: "circle";
    radius: number;
}

type Shape = Square | Rectangle | Circle;

// íƒ€ì… ê°€ë“œ í•¨ìˆ˜ë“¤
function isSquare(shape: Shape): shape is Square {
    return shape.kind === "square";
}

function isRectangle(shape: Shape): shape is Rectangle {
    return shape.kind === "rectangle";
}

function isCircle(shape: Shape): shape is Circle {
    return shape.kind === "circle";
}

function calculateArea(shape: Shape): number {
    if (isSquare(shape)) {
        return shape.size * shape.size;
    }
    
    if (isRectangle(shape)) {
        return shape.width * shape.height;
    }
    
    if (isCircle(shape)) {
        return Math.PI * shape.radius * shape.radius;
    }
    
    // ëª¨ë“  ì¼€ì´ìŠ¤ë¥¼ ì²˜ë¦¬í–ˆì§€ë§Œ, TypeScriptì˜ íƒ€ì… ì²´í¬ë¥¼ ìœ„í•´ í•„ìš”
    const unreachable: never = shape;
    throw new Error(`Unhandled shape type: ${unreachable}`);
}

// ì‚¬ìš© ì˜ˆì‹œ
const square: Square = { kind: "square", size: 5 };
const rectangle: Rectangle = { kind: "rectangle", width: 4, height: 6 };
const circle: Circle = { kind: "circle", radius: 3 };

console.log(calculateArea(square));    // 25
console.log(calculateArea(rectangle)); // 24
console.log(calculateArea(circle));    // ì•½ 28.27
```