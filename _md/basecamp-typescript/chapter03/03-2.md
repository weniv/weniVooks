---
chapter: íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ ë¬¸ë²•
title: íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ë¬¸ë²•
date: 2024-09-23
---

# 1. íƒ€ì… ë‹¨ì–¸ê³¼ ë„ ì²˜ë¦¬

## 1.1 Non-Null-Assertion
nullì´ ì•„ë‹˜ì„ ë³´ì¥í•˜ëŠ” `!` ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ íƒ€ì…ì„ ë‹¨ì–¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
const $div = document.querySelector('div');
$div!.innerText; // nullì´ ì•„ë‹˜ì„ ë³´ì¥
```

## 1.2 íƒ€ì… ë‹¨ì–¸(Type Assertion)
`as` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ íƒ€ì…ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•©ë‹ˆë‹¤.

```tsx
document.querySelector('input')!.addEventListener('change', (e) => {
  const target = e.target as HTMLInputElement;
  console.log(target.value);
});
```

:::div{.callout}
ğŸ’¡ íƒ€ì… ë‹¨ì–¸ì€ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•˜ê³ , ê°€ëŠ¥í•˜ë©´ íƒ€ì… ê°€ë“œë¥¼ í™œìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
:::

# 2. ê°ì²´ íƒ€ì… ê³ ê¸‰ ê¸°ëŠ¥

## 2.1 ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜
ë™ì  ì†ì„±ì„ ê°€ì§„ ê°ì²´ì˜ íƒ€ì…ì„ ì •ì˜í•©ë‹ˆë‹¤.

```tsx
interface User {
    id: number;
    name: string;
    [key: string]: string | number; // ë™ì  ì†ì„± í—ˆìš©
}

const user: User = {
    id: 1,
    name: "gary",
    info: "ì•ˆë…•í•˜ì„¸ìš”",
    age: 25
};
```

## 2.2 keyof ì—°ì‚°ì
ê°ì²´ íƒ€ì…ì˜ í‚¤ë¥¼ ìœ ë‹ˆì˜¨ íƒ€ì…ìœ¼ë¡œ ì¶”ì¶œí•©ë‹ˆë‹¤.

```tsx
interface Product {
  id: number;
  name: string;
  price: number;
}

type ProductKeys = keyof Product; // "id" | "name" | "price"
const key: ProductKeys = "name"; // ì •ìƒ
const invalidKey: ProductKeys = "invalid"; // ì—ëŸ¬
```

# 3. ë¹„ë™ê¸° ì²˜ë¦¬

## 3.1 async/await íƒ€ì… ì§€ì •
Promise íƒ€ì…ì„ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…ì„ ëª…ì‹œí•©ë‹ˆë‹¤.

```tsx
interface Product {
  id: number;
  name: string;
  price: number;
}

async function fetchProduct(id: number): Promise<Product> {
  const response = await fetch(`/api/products/${id}`);
  return response.json();
}
```

# 4. ìœ í‹¸ë¦¬í‹° íƒ€ì…

## 4.1 ê°ì²´ ì†ì„± ë³€í™˜

```tsx
// Partial
interface User {
  id: number;
  name: string;
  email: string;
}

const updateUser = (user: Partial<User>) => {
  console.log(user);
};
updateUser({ id: 1 }); // ê°€ëŠ¥

// Required
interface OptionalUser {
  id?: number;
  name?: string;
}

const user: Required<OptionalUser> = {
  id: 1,
  name: "John" // ëª¨ë“  ì†ì„± í•„ìˆ˜
};

// Readonly
const product: Readonly<Product> = {
  id: 1,
  name: "Phone"
};
// product.name = "Laptop"; // ì—ëŸ¬
```

## 4.2 íƒ€ì… ì„ íƒê³¼ ì œì™¸

```tsx
interface Product {
  id: number;
  name: string;
  price: number;
  stock: number;
}

// Pick
type ProductPreview = Pick<Product, 'name' | 'price'>;

// Omit
type ProductBasic = Omit<Product, 'stock'>;

// Exclude
type Status = 'active' | 'inactive' | 'pending';
type NonActiveStatus = Exclude<Status, 'active'>; // 'inactive' | 'pending'

// Extract
type ActiveStatus = Extract<Status, 'active'>; // 'active'
```

## 4.3 Record
í‚¤-ê°’ ìŒì˜ íƒ€ì…ì„ ì •ì˜í•©ë‹ˆë‹¤.

```tsx
type ProductStatus = 'inStock' | 'outOfStock';
type ProductInventory = Record<ProductStatus, number>;

const inventory: ProductInventory = {
  inStock: 100,
  outOfStock: 0
};
```

# ì—°ìŠµë¬¸ì œ

1. ë‹¤ìŒ ì½”ë“œë¥¼ íƒ€ì… ê°€ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë¦¬íŒ©í† ë§í•˜ì„¸ìš”.
```tsx
document.querySelector('input')!.addEventListener('change', (e) => {
  const target = e.target as HTMLInputElement;
  console.log(target.value);
});
```

2. ì•„ë˜ ì¸í„°í˜ì´ìŠ¤ì— ì ì ˆí•œ ìœ í‹¸ë¦¬í‹° íƒ€ì…ì„ ì ìš©í•´ë³´ì„¸ìš”.
```tsx
interface Product {
  id: number;
  name: string;
  price: number;
  description?: string;
}

// 1. ëª¨ë“  í•„ë“œë¥¼ í•„ìˆ˜ë¡œ ë§Œë“¤ê¸°
// 2. idë¥¼ ì œì™¸í•œ í•„ë“œë§Œ ì„ íƒí•˜ê¸°
// 3. ëª¨ë“  í•„ë“œë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ ë§Œë“¤ê¸°
```

:::div{.callout}
ğŸ’¡ í•„ìš”ì— ë”°ë¼ ì—¬ëŸ¬ ìœ í‹¸ë¦¬í‹° íƒ€ì…ì„ ì¡°í•©í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
:::

# 5. ê³ ê¸‰ íƒ€ì… ê°€ë“œ íŒ¨í„´

## 5.1 ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œ
íƒ€ì… ê°€ë“œ í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ íƒ€ì… ë²”ìœ„ë¥¼ ì¢í ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
interface Bird {
  fly(): void;
  layEggs(): void;
}

interface Fish {
  swim(): void;
  layEggs(): void;
}

function isFish(pet: Fish | Bird): pet is Fish {
  return (pet as Fish).swim !== undefined;
}

function moveAnimal(pet: Fish | Bird) {
  if (isFish(pet)) {
    pet.swim();
  } else {
    pet.fly();
  }
}
```

## 5.2 íƒ€ì… ê°€ë“œì™€ ì œë„¤ë¦­ ì¡°í•©
ì œë„¤ë¦­ê³¼ íƒ€ì… ê°€ë“œë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ ë” ìœ ì—°í•œ íƒ€ì… ì²´í¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```tsx
function isOfType<T>(value: any, property: keyof T): value is T {
  return (value as T)[property] !== undefined;
}

interface Product {
  id: number;
  price: number;
}

function processValue(value: any) {
  if (isOfType<Product>(value, 'price')) {
    console.log(value.price);
  }
}
```

# 6. ì¡°ê±´ë¶€ íƒ€ì…

## 6.1 ê¸°ë³¸ ì¡°ê±´ë¶€ íƒ€ì…
íƒ€ì…ì„ ì¡°ê±´ì— ë”°ë¼ ê²°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
type IsString<T> = T extends string ? true : false;

// ì‚¬ìš© ì˜ˆì‹œ
type A = IsString<string>;  // true
type B = IsString<number>;  // false
```

## 6.2 infer í‚¤ì›Œë“œ
íƒ€ì… ì¶”ë¡ ì„ ìœ„í•œ ì¡°ê±´ë¶€ íƒ€ì…ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.

```tsx
type ReturnType<T> = T extends (...args: any[]) => infer R ? R : any;

function getData(): number {
  return 123;
}

type DataType = ReturnType<typeof getData>; // number
```

# ì—°ìŠµë¬¸ì œ

1. ì¡°ê±´ë¶€ íƒ€ì…ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ìŒ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³´ì„¸ìš”.
```tsx
// 1. ë°°ì—´ì˜ ìš”ì†Œ íƒ€ì…ì„ ì¶”ì¶œí•˜ëŠ” ElementType<T> êµ¬í˜„
// 2. í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì„ ì¶”ì¶œí•˜ëŠ” ParamType<T> êµ¬í˜„

type ElementType<T> = // ì—¬ê¸°ì— êµ¬í˜„
type ParamType<T> = // ì—¬ê¸°ì— êµ¬í˜„

// í…ŒìŠ¤íŠ¸
type NumberArray = number[];
type StringArray = Array<string>;
type ElementNumber = ElementType<NumberArray>; // should be number
type ElementString = ElementType<StringArray>; // should be string
```

2. ë‹¤ìŒ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ íƒ€ì… ê°€ë“œë¥¼ ì‘ì„±í•´ë³´ì„¸ìš”.
```tsx
interface Circle {
  kind: "circle";
  radius: number;
}

interface Square {
  kind: "square";
  sideLength: number;
}

type Shape = Circle | Square;

// Shape íƒ€ì…ì— ëŒ€í•œ íƒ€ì… ê°€ë“œ í•¨ìˆ˜ êµ¬í˜„í•˜ê¸°
function isCircle(shape: Shape): // ì—¬ê¸°ì— êµ¬í˜„
function isSquare(shape: Shape): // ì—¬ê¸°ì— êµ¬í˜„
```

:::div{.callout}
ğŸ’¡ íƒ€ì… ê°€ë“œì™€ ì¡°ê±´ë¶€ íƒ€ì…ì„ í™œìš©í•˜ë©´ ë” ì•ˆì „í•˜ê³  ìœ ì—°í•œ íƒ€ì… ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
:::

# 7. ë§µë“œ íƒ€ì… ê³ ê¸‰ ê¸°ëŠ¥

## 7.1 í…œí”Œë¦¿ ë¦¬í„°ëŸ´ íƒ€ì…ê³¼ ë§µë“œ íƒ€ì…
ë¬¸ìì—´ ë¦¬í„°ëŸ´ íƒ€ì…ì„ ë™ì ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
type EventName<T extends string> = `${T}Event`;
type MouseEvents = EventName<'click' | 'mousedown' | 'mouseup'>;
// 'clickEvent' | 'mousedownEvent' | 'mouseupEvent'
```

## 7.2 ì¡°ê±´ë¶€ íƒ€ì…ê³¼ ë§µë“œ íƒ€ì…
ë§µë“œ íƒ€ì…ì—ì„œ ì¡°ê±´ë¶€ íƒ€ì…ì„ ì‚¬ìš©í•˜ì—¬ ë³µì¡í•œ íƒ€ì… ë³€í™˜ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
type NonNullableProperties<T> = {
  [P in keyof T]: T[P] extends null | undefined ? never : T[P];
};

interface User {
  name: string;
  age: number | null;
  email: string | undefined;
}

type NonNullableUser = NonNullableProperties<User>;
```

:::div{.callout}
ğŸ’¡ ì´ëŸ¬í•œ ê³ ê¸‰ íƒ€ì… ê¸°ëŠ¥ë“¤ì€ ë³µì¡í•œ íƒ€ì… ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ë•Œ ìœ ìš©í•˜ì§€ë§Œ, ì½”ë“œì˜ ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ê³ ë ¤í•˜ì—¬ ì ì ˆíˆ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
:::