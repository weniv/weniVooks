---
chapter: Pandas :다섯 번째 걸음
title: 데이터 시각화 심화
date: 2024-07-22
---
# (아직 이미지작업 안함)
# 데이터 분석 개요

이 분석은 TMDB 데이터셋을 활용하여 픽사 영화의 다양한 특성을 시각적으로 분석합니다. 데이터셋을 병합하고 필터링하여 픽사 영화만을 추출한 후, 여러 시각화 기법을 사용하여 흥행 추이, 러닝타임과 평점, 장르 분포, 평점 분포, 흥행과 평점의 관계, 키워드 워드클라우드를 살펴봅니다.

# 1. 픽사 영화 필터링

먼저, 데이터를 로드하고 두 데이터셋을 병합한 후 픽사 영화만을 필터링합니다.

```python
import pandas as pd
import ast
import matplotlib.pyplot as plt
import seaborn as sns
from wordcloud import WordCloud

# 데이터 로드
movies = pd.read_csv('tmdb_5000_movies.csv')
credits = pd.read_csv('tmdb_5000_credits.csv')

# 데이터 병합
movies = movies.merge(credits, on='id')

# 픽사 영화 필터링
def is_pixar(x):
    companies = ast.literal_eval(x)
    return any(company['name'] == 'Pixar Animation Studios' for company in companies)

pixar_movies = movies[movies['production_companies'].apply(is_pixar)]

print(f"Total number of Pixar movies in the dataset: {len(pixar_movies)}")
print(pixar_movies['title'].tolist())
```

# 2. 시각화

## 2.1 픽사 영화의 연도별 흥행 추이

이 그래프는 픽사 영화의 개봉 연도에 따른 흥행 실적을 보여줍니다. X축은 개봉 연도, Y축은 수익을 나타내며, 점의 크기와 색상은 영화의 평점을 의미합니다.

```python
plt.figure(figsize=(12, 6))
sns.scatterplot(x='release_year', y='revenue', size='vote_average', hue='vote_average', data=pixar_movies)
plt.title('Pixar Movies: Box Office Performance Over Years')
plt.xlabel('Release Year')
plt.ylabel('Revenue (US$)')
for i, row in pixar_movies.iterrows():
    plt.annotate(row['title'], (row['release_year'], row['revenue']))
plt.show()
```

## 2.2 픽사 영화의 러닝타임 vs 평점

이 산점도는 픽사 영화의 러닝타임과 평점 사이의 관계를 보여줍니다. X축은 영화의 러닝타임(분), Y축은 평점을 나타냅니다.

```python
plt.figure(figsize=(10, 6))
sns.regplot(x='runtime', y='vote_average', data=pixar_movies)
plt.title('Pixar Movies: Runtime vs Rating')
plt.xlabel('Runtime (minutes)')
plt.ylabel('Rating')
for i, row in pixar_movies.iterrows():
    plt.annotate(row['title'], (row['runtime'], row['vote_average']))
plt.show()
```

## 2.3 픽사 영화의 장르 분포

이 파이 차트는 픽사 영화의 장르 분포를 보여줍니다. 각 섹터는 특정 장르를 나타내며, 크기는 해당 장르의 영화 수에 비례합니다.

```python
def get_genres(x):
    genres = ast.literal_eval(x)
    return [genre['name'] for genre in genres]

pixar_movies['genre_list'] = pixar_movies['genres'].apply(get_genres)
all_genres = [genre for genres in pixar_movies['genre_list'] for genre in genres]
genre_counts = pd.Series(all_genres).value_counts()

plt.figure(figsize=(10, 10))
plt.pie(genre_counts, labels=genre_counts.index, autopct='%1.1f%%')
plt.title('Pixar Movies Genre Distribution')
plt.show()
```

## 2.4 픽사 영화의 평점 분포

이 히스토그램은 픽사 영화들의 평점 분포를 보여줍니다. X축은 평점, Y축은 빈도를 나타냅니다.

```python
plt.figure(figsize=(10, 6))
sns.histplot(pixar_movies['vote_average'], kde=True)
plt.title('Distribution of Pixar Movie Ratings')
plt.xlabel('Rating')
plt.show()
```

## 2.5 픽사 영화의 흥행과 평점의 관계

이 산점도는 픽사 영화의 흥행 성적과 평점 사이의 관계를 보여줍니다. X축은 수익, Y축은 평점을 나타내며, 점의 크기는 영화의 인기도를, 색상은 개봉 연도를 나타냅니다.

```python
plt.figure(figsize=(10, 6))
sns.scatterplot(x='revenue', y='vote_average', size='popularity', hue='release_year', data=pixar_movies)
plt.title('Pixar Movies: Box Office vs Rating')
plt.xlabel('Revenue (US$)')
plt.ylabel('Rating')
for i, row in pixar_movies.iterrows():
    plt.annotate(row['title'], (row['revenue'], row['vote_average']))
plt.show()
```

## 2.6 픽사 영화의 키워드 워드클라우드

이 워드클라우드는 픽사 영화와 관련된 키워드를 시각화합니다. 단어의 크기는 해당 키워드의 빈도를 나타냅니다.

```python
def get_keywords(x):
    keywords = ast.literal_eval(x)
    return ' '.join([keyword['name'] for keyword in keywords])

pixar_movies['keywords_str'] = pixar_movies['keywords'].apply(get_keywords)
all_keywords = ' '.join(pixar_movies['keywords_str'])

wordcloud = WordCloud(width=800, height=400, background_color='white').generate(all_keywords)
plt.figure(figsize=(10, 5))
plt.imshow(wordcloud, interpolation='bilinear')
plt.axis('off')
plt.title('Wordcloud of Pixar Movie Keywords')
plt.show()
```

## 2.7 결론

이 분석을 통해 픽사 영화의 다양한 특성을 시각적으로 파악할 수 있습니다. 개봉 연도에 따른 흥행 실적, 러닝타임과 평점의 관계, 장르 분포, 평점 분포, 흥행 성적과 평점의 관계, 그리고 주요 키워드를 시각화하여 픽사 영화의 전반적인 경향성을 이해할 수 있습니다.