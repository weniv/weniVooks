---
chapter: í´ë˜ìŠ¤ ì†ì„±
title: ë§¤ì§ë©”ì„œë“œ - ë°˜ë³µ
date: 2025-01-05
---

# 1. ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´

íŒŒì´ì¬ì—ì„œëŠ” `for` ë£¨í”„ë¥¼ ë§Œë‚˜ë©´ í•´ë‹¹ë˜ëŠ” ê°ì²´ì˜ `__iter__`ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  `__next__`ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤. ì´ë¥¼ í’€ë©´ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œê°€ ë©ë‹ˆë‹¤.

```python-exec
for i in 'hello':
    print(i)
```

```python-exec
my_iterator = iter('hello') # __iter__ ì‹¤í–‰, for ë£¨í”„ì—ì„œ ì‹¤í–‰
i = next(my_iterator) # __next__ ì‹¤í–‰
print(i)
i = next(my_iterator)
print(i)
i = next(my_iterator)
print(i)
i = next(my_iterator)
print(i)
i = next(my_iterator)
print(i)
i = next(my_iterator)
print(i) # StopIteration ì˜ˆì™¸ ë°œìƒ, ë°˜ë³µë¬¸ íƒˆì¶œ
```

# 2. `__iter__`, `__next__` ë§¤ì§ ë©”ì„œë“œ

íŒŒì´ì¬ì—ì„œëŠ” `__iter__` ë§¤ì§ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë©”ì„œë“œëŠ” `__next__` ë©”ì„œë“œë¥¼ ê°€ì§„ ì´í„°ë ˆì´í„° ê°ì²´ë¥¼ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.

```python
class MyRange:
    def __init__(self, start, end):
        self.start = start
        self.end = end

    def __iter__(self):
        return self

    def __next__(self):
        if self.start >= self.end:
            raise StopIteration
        value = self.start
        self.start += 1
        return value

my_range = MyRange(0, 3)
for i in my_range:
    print(i)
```

ë‹¤ë§Œ ì´ë ‡ê²Œ ìˆœíšŒë¥¼ í•˜ë©´ í•œ ë²ˆë§Œ ìˆœíšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ì´í„°ë ˆì´í„°ë¥¼ ìƒˆë¡œ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.

# 3. ì´í„°ë ˆì´í„° ì¬ì‚¬ìš©

ì´í„°ë ˆì´í„°ë¥¼ ì¬ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ `__iter__` ë©”ì„œë“œì—ì„œ `self.current_value` ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•´ì•¼ í•©ë‹ˆë‹¤.

```python-exec
class MyIterator:
    def __init__(self, stop):
        self.stop = stop

    def __iter__(self):
        self.current_value = 0  # __iter__ì—ì„œ ì´ˆê¸°í™”
        return self

    def __next__(self):
        if self.current_value >= self.stop:
            raise StopIteration
        result = self.current_value
        self.current_value += 1
        return result

my_iterator = MyIterator(5)

for i in my_iterator:
    print(i)

for i in my_iterator:
    print(i)
```


:::div{.callout}

ğŸ’¡ ìœ„ ì½”ë“œëŠ” [https://pythontutor.com/python-debugger.html#mode=edit](https://pythontutor.com/python-debugger.html#mode=edit) ì„œë¹„ìŠ¤ë¥¼ í†µí•´ ì‹œê°í™”í•´ì„œ ë‹¨ê³„ë³„ë¡œ ì‹¤í–‰í•´ë³´ë©´ì„œ ì´í•´í•˜ì‹œê¸¸ ê¶Œí•´ë“œë¦½ë‹ˆë‹¤.

:::

# 4. ì´í„°ëŸ¬ë¸”ê³¼ ì´í„°ë ˆì´í„° ë¶„ë¦¬

ì´ ë‘ê°€ì§€ ìš©ì–´ë¥¼ í˜¼ë™í•˜ê¸° ì‰½ì§€ë§Œ, ì´í„°ëŸ¬ë¸”ì€ `__iter__` ë©”ì„œë“œë¥¼ ê°€ì§„ ê°ì²´ë¥¼ ë§í•˜ê³ , ì´í„°ë ˆì´í„°ëŠ” `__next__` ë©”ì„œë“œë¥¼ ê°€ì§„ ê°ì²´ë¥¼ ë§í•©ë‹ˆë‹¤.

ìš°ë¦¬ê°€ í”íˆ ìˆœíšŒê°€ëŠ¥í•œ ê°ì²´ë¼ê³  ë¶€ë¥´ëŠ” ê²ƒì€ ì´í„°ëŸ¬ë¸” ê°ì²´ì…ë‹ˆë‹¤. ì´ ë‘ê°œë¥¼ ì•„ë˜ì²˜ëŸ¼ ë¶„ë¦¬í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```python-exec
class NumberIterator:
    def __init__(self, start, end):
        self.current = start
        self.end = end
    
    def __next__(self):
        if self.current >= self.end:
            raise StopIteration
        value = self.current
        self.current += 1
        return value

class Numbers:
    def __init__(self, start, end):
        self.start = start
        self.end = end
    
    def __iter__(self):
        return NumberIterator(self.start, self.end)

nums = Numbers(1, 4)

# ì²« ë²ˆì§¸ ë°˜ë³µ
for num in nums:
    print(f"ì²«ë²ˆì§¸: {num}")

# ë‘ ë²ˆì§¸ ë°˜ë³µ (ìƒˆë¡œìš´ ì´í„°ë ˆì´í„°ê°€ ìƒì„±ë¨)
for num in nums:
    print(f"ë‘ë²ˆì§¸: {num}")
```

# 5. yieldë¥¼ ì‚¬ìš©í•œ ì´í„°ë ˆì´í„°

`yield` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì´í„°ë ˆì´í„°ë¥¼ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python-exec
class EvenNumbers:
    def __init__(self, end):
        self.end = end
    
    def __iter__(self):
        for i in range(0, self.end, 2):
            yield i

evens = EvenNumbers(7)
for num in evens:
    print(num)  # 0, 2, 4, 6
```