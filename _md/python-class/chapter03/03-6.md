---
chapter: í´ëž˜ìŠ¤ ì†ì„±
title: ë§¤ì§ë©”ì„œë“œ - ë°˜ë³µ
date: 2024-01-30
---

# 1. ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´

íŒŒì´ì¬ì—ì„œëŠ” `for` ë£¨í”„ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´ë¥¼ ìˆœíšŒí•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´ëŠ” `__iter__` ë§¤ì§ ë©”ì„œë“œë¥¼ ê°€ì§„ ê°ì²´ìž…ë‹ˆë‹¤. ì´ ë©”ì„œë“œëŠ” ì´í„°ë ˆì´í„° ê°ì²´ë¥¼ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.

# 1. `__iter__` ë§¤ì§ ë©”ì„œë“œ

íŒŒì´ì¬ì—ì„œëŠ” `__iter__` ë§¤ì§ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì´ ë©”ì„œë“œëŠ” `__next__` ë©”ì„œë“œë¥¼ ê°€ì§„ ì´í„°ë ˆì´í„° ê°ì²´ë¥¼ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.

```python
class MyRange:
    def __init__(self, start, end):
        self.start = start
        self.end = end

    def __iter__(self):
        return self

    def __next__(self):
        if self.start >= self.end:
            raise StopIteration
        value = self.start
        self.start += 1
        return value

my_range = MyRange(0, 3)
for i in my_range:
    print(i)
```


# 2. `__next__` ë§¤ì§ ë©”ì„œë“œ

`__next__` ë§¤ì§ ë©”ì„œë“œëŠ” ì´í„°ë ˆì´í„° ê°ì²´ì—ì„œ ë‹¤ìŒ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤. ë§Œì•½ ë” ì´ìƒ ë°˜í™˜í•  ê°’ì´ ì—†ë‹¤ë©´ `StopIteration` ì˜ˆì™¸ë¥¼ ë°œìƒì‹œì¼œì•¼ í•©ë‹ˆë‹¤.

```python
class MyRange:
    def __init__(self, start, end):
        self.start = start
        self.end = end

    def __iter__(self):
        return self

    def __next__(self):
        if self.start >= self.end:
            raise StopIteration
        value = self.start
        self.start += 1
        return value

my_range = MyRange(0, 3)
print(next(my_range))
print(next(my_range))
print(next(my_range))
print(next(my_range))
```

# 3. `__iter__`ì™€ `__next__` ë§¤ì§ ë©”ì„œë“œ

`__iter__`ì™€ `__next__` ë§¤ì§ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì´í„°ë ˆì´í„° ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì´í„°ë ˆì´í„° ê°ì²´ëŠ” `__iter__` ë©”ì„œë“œë¥¼ ê°€ì§„ ê°ì²´ì´ë©°, `__next__` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ìŒ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

```python
class MyRange:
    def __init__(self, start, end):
        self.start = start
        self.end = end

    def __iter__(self):
        return self

    def __next__(self):
        if self.start >= self.end:
            raise StopIteration
        value = self.start
        self.start += 1
        return value

my_range = MyRange(0, 3)
print(next(my_range))
print(next(my_range))
print(next(my_range))
print(next(my_range))
```

:::div{.callout}

ðŸ’¡ ìœ„ ì½”ë“œëŠ” [https://pythontutor.com/python-debugger.html#mode=edit](https://pythontutor.com/python-debugger.html#mode=edit) ì„œë¹„ìŠ¤ë¥¼ í†µí•´ ì‹œê°í™”í•´ì„œ ë‹¨ê³„ë³„ë¡œ ì‹¤í–‰í•´ë³´ë©´ì„œ ì´í•´í•˜ì‹œê¸¸ ê¶Œí•´ë“œë¦½ë‹ˆë‹¤.

:::

# 5. ì´í„°ë ˆì´í„° ìž¬ì‚¬ìš©

`MyIterator` í´ëž˜ìŠ¤ë¡œ ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤ `my_iterator`ëŠ” í•œ ë²ˆ ìˆœíšŒí•˜ë©´ ë” ì´ìƒ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ë¥¼ ìž¬ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” `__iter__` ë©”ì„œë“œì—ì„œ `self.current_value` ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¡œì¨ `my_iterator` ê°ì²´ëŠ” ì—¬ëŸ¬ ë²ˆ ìˆœíšŒí•  ìˆ˜ ìžˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

```python-exec
class MyIterator:
    def __init__(self, stop):
        self.stop = stop

    def __iter__(self):
        self.current_value = 0  # __iter__ì—ì„œ ì´ˆê¸°í™”
        return self

    def __next__(self):
        if self.current_value >= self.stop:
            raise StopIteration
        result = self.current_value
        self.current_value += 1
        return result

my_iterator = MyIterator(5)

for i in my_iterator:
    print(i)
```

# 6. ì´í„°ë ˆì´í„°

```python
class MyIterator(Sequence):
    def __init__(self, stop):
        self.stop = stop
        self.current_value = 0

    def __iter__(self):
        return self

    def __next__(self):
        if self.current_value >= self.stop:
            raise StopIteration
        result = self.current_value
        self.current_value += 1
        return result

my_iterator = MyIterator(5)
```