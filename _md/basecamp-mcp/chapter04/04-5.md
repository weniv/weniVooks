---
chapter: 부록
title: mcp.resource 사용하기
date: 2025-03-29
---

# 1. 리소스

mcp.resource는 prompt와 다르게 함수로 만들어도 직접 호출할 수 없습니다. 다만 다른 함수에서 이 리소스에 접근하여 데이터를 불러올 수 있습니다. 예를 들어, 클로드에서 자주 사용하는 프롬프트가 있다면 이를 mcp.resource로 저장해두고 이를 가공하는 함수를 호출하는 함수를 만들어 두면 됩니다. `read_resource()` 메서드를 통해 다른 리소스에 접근할 수 있습니다. 이 메서드를 이용하면 다른 툴에 리소스에 접근할 수 있으며, MCP 프로토콜 내에서 리소스에 접근하는 표준적인 방법을 사용할 수 있습니다. 다만 방법 구현적인 측면에서 `mcp.tool()` 데커레이터가 가장 편할 수 있습니다.

# 2. 파일 작성

```python
from mcp.server.fastmcp import FastMCP, Context

# Create an MCP server
mcp = FastMCP("resource")


# Add a tool that uses a resource
@mcp.tool()
async def greeting(name: str, ctx: Context) -> str:
    """Get a greeting using the greeting resource"""
    try:
        # 방법 1: 직접 리소스 함수 호출
        # greeting_text = get_greeting(name)
        # return f"Tool response: {greeting_text}"

        # 방법 2: 안전하게 read_resource 사용
        result = await ctx.read_resource(f"greeting://{name}")
        content = result[0] if isinstance(result, tuple) else result
        return f"Tool response: {content}"
    except Exception as e:
        return f"Error retrieving greeting: {str(e)}"


# Add a dynamic greeting resource
@mcp.resource("greeting://{name}")
def get_greeting(name: str) -> str:
    """Get a personalized greeting"""
    return f"Hello, {name}!! Welcome to FastMCP!"


mcp.run()
```

# 3. 실행화면

우리가 실행하는 함수는 get_greeting 함수가 아니라 greeting 함수입니다. greeting 함수에서 get_greeting 함수를 호출하게 하는 방법을 사용하고 있습니다.

::img{width="600" src="/images/basecamp-mcp/04-4-1.png"}