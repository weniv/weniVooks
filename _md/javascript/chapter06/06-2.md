---
chapter: 조건문과 반복문
title: 반복문
date: 2024-04-30
---

이번에는 반복문에 대해서 알아보도록 하겠습니다. 먼저 다음과 같은 배열이 존재한다고 가정해 봅시다.

```jsx
const weniv_friends = ['licat', 'binky', 'gary', 'soulgom', 'mura'];

let text = `
<section>
<h2>licat</h2>
</section>
<section>
<h2>binky</h2>
</section>
...
`;
```

여기서 만약 weniv_friends 배열에 담긴 내용을 전부 text라는 변수에 넣고 싶다면 어떻게 해야 할까요?

지금까지 배운 내용으로는 인덱스를 이용하여 배열 요소에 접근하여 text를 수정해야 합니다.

- 기존 방식 CODE

```javascript-exec
const weniv_friends = ['licat', 'binky', 'gary', 'soulgom', 'mura'];
let text='';

text += '<section><h2>' + weniv_friends[0] + '</h2></section>';
text += '<section><h2>' + weniv_friends[1] + '</h2></section>';
text += '<section><h2>' + weniv_friends[2] + '</h2></section>';
text += '<section><h2>' + weniv_friends[3] + '</h2></section>';
text += '<section><h2>' + weniv_friends[4] + '</h2></section>';

console.log(text);
// document.body.innerHTML = text
```

하지만 반복문을 사용하면 간단하게 배열의 내용을 tex에 넣을 수 있습니다.

```javascript-exec
const weniv_friends = ['licat', 'binky', 'gary', 'soulgom', 'mura'];

let text2 = '';
for (let i = 0; i < weniv_friends.length; i++) {
  text2 += '<section><h2>' + weniv_friends[i] + '</h2></section>';
}
console.log(text2);
```

이렇게 동일한 작업을 여러 번 박복해야 할 때 사용하는 것이 바로 반복문입니다. 이 중 가장 널리 사용 되는 것이 바로 `for` 문입니다.

`for`문은 변수를 선언하는 **초기화식**과, 실행문의 실행 여부를 판단하는 **조건식**, 실행문 이후 변수의 증감을 나타내는 **증감식**으로 구성되어 있습니다.

```jsx
for (초기화식; 조건식; 증감식) {
  실행문;
}
```

예시 코드를 다시 살펴보면,

```jsx
for (let i = 0; i < weniv_friends.length; i++) {
    text2 += '<section><h2>' + weniv_friends[i] + '</h2></section>'
}

// i = 0 이면, i < weniv_friends.length를 만족 -> 반복문 실행
text2 += '<section><h2>' + weniv_friends[0] + '</h2></section>'

// i = 1 이면, i < weniv_friends.length를 만족 -> 반복문 실행
text2 += '<section><h2>' + weniv_friends[1] + '</h2></section>'

...

// i = 4 이면, i < weniv_friends.length를 만족 -> 반복문 실행
text2 += '<section><h2>' + weniv_friends[4] + '</h2></section>'

// i = 5 이면, i < weniv_friends.length를 만족하지 못함 -> 반복문 종료
```

## 2.1 for 문 사용해보기

```javascript-exec
// 1부터 10까지 출력하는 반복문
for (let i = 0; i < 10; i++) {
  console.log(i + 1);
}
```

```javascript-exec
//1부터 100까지의 짝수의 합
let sum = 0;
for (let i = 0; i < 101; i += 2) {
  sum += i;
}
console.log(sum);
```

```javascript-exec
// 구구단
for (let i = 2; i < 10; i++) {
  for (let j = 1; j < 10; j++) {
    console.log(`${i} X ${j} = ${i * j}`);
  }
}
```

```javascript-exec
//100보다 작은 3의 배수와 5의 배수의 합
let sum = 0;
for (let i = 0; i < 101; i++) {
  if (i % 3 == 0 || i % 5 == 0) {
    sum += i;
  }
}
console.log(sum);
```

---

```javascript-exec
//평균 구하기
function average(arr) {
  let sum = 0;
  for (let i = 0; i < arr.length; i++) {
    sum += arr[i];
  }
  return sum / arr.length;
}

const arr1 = [100, 200, 50, 400, 900];
const arr2 = [60, 30, 80, 40, 90];

console.log('arr1의 평균: ', average(arr1)); // 330
console.log('arr2의 평균: ', average(arr2)); // 60
```

```javascript-exec
//최댓값 구하기
function maximum(arr) {
  let max = arr[0];
  for (let i = 1; i < arr.length; i++) {
    if (arr[i] > max) {
      max = arr[i];
    }
  }
  return max;
}

const arr1 = [100, 200, 50, 400, 900];
const arr2 = [60, 30, 80, 40, 90];

console.log('arr1의 최댓값: ', maximum(arr1)); // 900
console.log('arr2의 최댓값: ', maximum(arr2)); // 90
```

- **for 문의 선택적 사용**

`for`의 구성요소들은(초기화식, 조건식, 증감식) 모두 선택적으로 사용할 수 있습니다. 세미콜론으로 구분되어 있는 항목을 빈 값으로 두면 구성요소를 선택적으로 사용 가능합니다. 아래 코드처럼 초기화식을 생략하고 for문 밖의 변수를 이용할 수 있습니다.

```javascript-exec
let i = 0; // 변수 선언
for (; i < 7; i++) {
  console.log('count: ' + i);
}
```

다음과 같이 조건식을 생략할 경우 무조건 true로 평가되어 코드를 무한히 반복하게 됩니다. 따라서 실행문 안에 별도의 조건문과 break 구문을 이용하여 무한루프에 빠지지 않도록 탈출 조건을 만들어주어야 합니다.

```javascript-exec
for (let i = 0; ; i++) {
  console.log(i); // 무한루프
}
```

```javascript-exec
for (let i = 0; ; i++) {
  if (i > 20) {
    break;
  }
  console.log(i);
}
```

모든 구성요소를 생략할 경우에도 마찬간지로 무한루프에 빠지게 됩니다.

```javascript-exec
let i = 0;

for (;;) {
  i++;
  console.log(i);
}
```

:::div{.callout}
`for문` 구성요소 선택적 사용시 주의사항

- 초기화식, 조건식, 증감식을 구분하는 사이의 세미콜론(`;`)은 생략이 불가합니다.
- 따라서 모든 구성 요소 생략시, 세미콜론은 반드시 2개 모두 포함되어야 합니다.
  :::

## 2.2 while 문

while 문의 구조는 아래와 같습니다. 주어진 조건식이 참일 때 반복적으로 실행되는 반복문을 작성할 수 있습니다.

```jsx
while (조건식) {
  // 조건식이 참일 때 실행될 코드
}
```

조건식은 Truthy 또는 Falsy값을 반환하는 표현식입니다. 만약 조건식이 Truthy를 반환하면 중괄호 안의 코드가 반복적으로 실행되며, 조건식이 falsy 값을 반환하는 순간 반복이 종료됩니다.

예시를 보도록 하겠습니다.

```javascript-exec
let num = 0;

while (num < 11) {
  console.log(num);
  num += 1;
}
```

위 코드에서는 변수 num을 0으로 초기화하고, num이 11보다 작을 때까지 반복적으로 실행됩니다. 반복문 안에서는 num의 값이 출력되고, num은 1씩 증가합니다.

- do-while 반복문

do-while은 조건식의 평가 전에 코드를 실행하는 반복문입니다. 따라서 조건식이 거짓이라도 최소한 한 번의 실행이 보장됩니다. 예를 들어, 사용자로부터 입력을 받는 코드를 작성할 때, 아래처럼 do-while 반복문을 사용하면 입력값에 상관 없이 최초 한 번은 입력을 받도록 할 수 있습니다.

```javascript-exec
let input;

do {
  input = prompt('숫자를 입력하세요."');
} while (isNaN(input));

console.log(`입력한 숫자는 ${input}입니다.`);
```

우리가 앞서 while 문에서 사용했던 코드의 조건식을 do-while 문에서 고치면 아래와 같습니다.

```javascript-exec
let num = 0;

do {
  console.log(num);
  num += 1;
} while (num < 11);
```

## 2.3 반복문의 break & continue

### break

앞서 for문에서 잠시 살펴봤듯, 조건에 따른 종료 이전에 사용자의 개입으로 좀 더 빠른 종료를 원하면 `break` 문을 사용하여 반복문에서 나올 수 있습니다. `break`문으로 반복문이 종료되면 그 다음 코드가 차례로 실행됩니다. break 문은 switch 문 만의 전유물이 아니랍니다.

```javascript-exec
let num = 0;
while (num < 11) {
  num++;
  console.log(num);
  if (num > 5) {
    break;
  }
}
```

```javascript-exec
let age = 0;
while (age < 100) {
  age++;
  if (age === 14) {
    console.log(`${age}살 부터 중학생이 됩니다.`);
    break;
  }
}
console.log('중학교 입학을 축하합니다');
```

### continue

`continue`문은 반복문을 완전히 빠져나가는 `break`와 다르게 반복문의 다음 반복으로 이동합니다.

아래의 예시 코드를 보면, 변수 `i` 가 13보다 작다는 조건문에서 `continue` 가 실행되기 때문에 해당 조건의 반복을 넘어서 다음 반복으로 이동합니다. 따라서 **if 조건문에서 falsy 값을 반환하는** 13 이상의 변수 값부터
console.log 문이 실행됩니다.

만약 `continue`가 실행되지 않았다면 `0살은 청소년입니다.` 부터 `19살은 청소년입니다.`가 모두 실행되었겠죠

```javascript-exec
for (let i = 0; i < 20; i++) {
  if (i < 13) {
    continue;
  }
  console.log(`${i}살은 청소년입니다.`);
}
```

## 2.4 label

label은 특정 코드 블록에 이름을 지정하는 방법입니다. 이렇게 이름을 지정하면, 코드 블록 내부에서 break나 continue 문의 대상으로 지정할 수 있습니다.

아래는 label을 사용한 예시입니다. 첫번째 for 문에 outer 라는 이름의 label이 붙어있습니다.

```javascript-exec
outer: for (let i = 0; i < 3; i++) {
  for (let j = 0; j < 3; j++) {
    if (i + j === 3) {
      break outer;
    }
    console.log(i, j);
  }
}
```

if문을 통해 `i + j` 의 결과가 3이 되는 순간 바깥쪽 outer for문이 종료되면서 내부 for 문까지 한꺼번에 종료됩니다.

즉, i의 값이 1이고 j의 값이 2가 되면 for문 전체가 종료되면서 아래와 같은 결과를 콘솔에 출력합니다.

```jsx
0 0
0 1
0 2
1 0
1 1
```

이번에는 break 문이 아닌 continue 문을 사용해보겠습니다.

```javascript-exec
outer: for (let i = 0; i < 3; i++) {
  for (let j = 0; j < 3; j++) {
    if (i + j === 3) {
      continue outer;
    }
    console.log(i, j);
  }
}
```

i의 값과 j의 값의 합이 3이 되는 경우는 모두 건너뛰게 되어 아래와 같은 콘솔 화면이 출력됩니다.

```jsx
0 0
0 1
0 2
1 0
1 1
2 0
```

label은 이처럼 break 문이나 continue 문의 대상을 지정하는데 유용합니다. 하지만, 객체와 비슷한 문법적 특징 때문에 협업자의 혼란을 야기할 수 있으므로 사용하게 된다면 주석으로 코드에 대한 설명을 제공하는것도 좋은 방법입니다.

:::div{.callout}
label의 이름은 자바스크립트 변수 규칙을 지키는 이름이라면 무엇이든 가능합니다.
:::
