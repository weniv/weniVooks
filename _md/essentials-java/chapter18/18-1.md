---
chapter: Multi Thread Programming
title: Thread란?
date: 2024-10-15
---

# 1. Thread란?

`Thread`는 프로세스 내에서 실행되는 흐름의 단위를 말합니다.

:::div{.callout}

**프로세스(Process)**

프로세스는 운영체제로부터 자원을 할당받아 실행 중인 프로그램을 의미합니다. 프로세스는 최소 하나의 스레드를 포함하고 있습니다.

**스레드(Thread)**

스레드는 프로세스 내에서 실행되는 흐름의 단위를 말합니다. 하나의 프로세스는 여러 개의 스레드를 가질 수 있습니다.

**스레드의 특징**

- 스레드는 프로세스 내의 메모리를 공유하므로, 스레드 간의 데이터 교환은 비교적 쉽습니다.
- 스레드는 프로세스 내의 자원을 공유하므로, 스레드 간의 통신이 빠릅니다.

:::

# 2. Thread를 사용하는 이유

`Thread`를 사용하는 이유는 다음과 같습니다.

- **응답성 향상:** 멀티 스레드를 사용하면 여러 작업을 동시에 처리할 수 있어 응답성이 향상됩니다.
- **자원 공유:** 스레드는 프로세스 내의 메모리를 공유하므로, 데이터 교환이 쉽습니다.
- **효율적인 자원 활용:** 멀티 스레드를 사용하면 프로세스 내의 자원을 효율적으로 활용할 수 있습니다.
- **비동기 처리:** 스레드를 사용하면 비동기 처리를 통해 작업을 병렬로 처리할 수 있습니다.
- **빠른 응답:** 스레드를 사용하면 작업을 동시에 처리할 수 있어 빠른 응답이 가능합니다.

# 3. 자바에서 스레드 상태 및 주기

자바에서 스레드는 다음과 같은 상태를 가집니다.

- **NEW:** 스레드 객체가 생성된 상태입니다.
- **RUNNABLE:** 스레드가 실행 가능한 상태입니다.
- **BLOCKED:** 스레드가 동기화 블록에 의해 일시 정지된 상태입니다.
- **WAITING:** 스레드가 다른 스레드가 통지할 때까지 기다리는 상태입니다.
- **TIMED_WAITING:** 스레드가 일정 시간 동안 기다리는 상태입니다.
- **TERMINATED:** 스레드가 실행을 완료한 상태입니다.

위 처럼 스레드는 여러 상태를 가지며, 각 상태에 따라 스레드의 동작이 달라집니다.

일반적으로 스레드는 `NEW` 상태에서 `RUNNABLE` 상태로 전환되어 실행됩니다. 그리고 실행이 완료되면 `TERMINATED` 상태로 전환됩니다.

하지만, 스레드는 `BLOCKED`, `WAITING`, `TIMED_WAITING` 상태로 전환되어 일시 정지되거나 대기할 수도 있습니다.

이럴 경우, 스레드는 다른 스레드가 통지할 때까지 기다리거나 일정 시간 동안 기다리게 됩니다.

중요한 것은 스레드가 `BLOCKED`, `WAITING`, `TIMED_WAITING` 상태로 전환되면 다른 스레드가 해당 스레드를 깨워주어야 합니다.

그렇지 않을 경우, 스레드는 계속해서 일시 정지된 상태로 남게 됩니다.

:::div{.callout}

**스레드 상태 전이**

스레드는 다음과 같은 상태 전이를 가집니다.

- `NEW` -> `RUNNABLE` -> `TERMINATED` (일반적인 상태 전이)
- `NEW` -> `RUNNABLE` -> `BLOCKED` -> `RUNNABLE` -> `TERMINATED` (동기화 블록에 의한 일시 정지)
- `NEW` -> `RUNNABLE` -> `WAITING` -> `RUNNABLE` -> `TERMINATED` (다른 스레드가 통지할 때까지 기다림)
- `NEW` -> `RUNNABLE` -> `TIMED_WAITING` -> `RUNNABLE` -> `TERMINATED` (일정 시간 동안 기다림)
- `NEW` -> `RUNNABLE` -> `STOPPED` -> `STARTED` -> `TERMINATED` (중지 후 다시 시작)

이 처럼 스레드는 다양한 상태 전이를 가지며, 각 상태에 따라 스레드의 동작이 달라집니다.

:::