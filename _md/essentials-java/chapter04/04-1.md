---
chapter: 형 변환 - 타입 캐스팅
title: 형 변환이란?
date: 2024-08-21
---
# 1. 형 변환
형 변환(Type Casting)은 하나의 데이터 타입을 다른 데이터 타입으로 변환하는 과정을 말합니다. Java에서는 다양한 상황에서 형 변환이 필요하며, 이는 프로그램의 유연성과 효율성을 높이는 데 중요한 역할을 합니다.

# 2. 형 변환의 종류
Java에서의 형 변환은 크게 두 가지로 나눌 수 있습니다.
## 2.1 자동 형 변환 (묵시적 형 변환)
- 작은 데이터 타입에서 큰 데이터 타입으로 변환할 때 자동으로 이루어집니다.
- 데이터 손실의 위험이 없을 때 컴파일러가 자동으로 수행합니다.
```java
byte byteValue = 10;
int intValue = byteValue; // byte에서 int로 자동 형 변환
System.out.println("intValue: " + intValue); // 출력: intValue: 10

long longValue = intValue; // int에서 long으로 자동 형 변환
System.out.println("longValue: " + longValue); // 출력: longValue: 10

float floatValue = longValue; // long에서 float으로 자동 형 변환
System.out.println("floatValue: " + floatValue); // 출력: floatValue: 10.0
```
- `byte`에서 `int`로 변환: 데이터 손실 없이 자동으로 변환됩니다.
- `int`에서 `long`으로 변환: 더 큰 범위의 정수형으로 자동 변환됩니다.
- `long`에서 `float`으로 변환: 정수에서 실수로 자동 변환됩니다.

## 2.2 강제 형 변환 (명시적 형 변환)
- 큰 데이터 타입에서 작은 데이터 타입으로 변환할 때 필요합니다.
- 데이터 손실의 가능성이 있으므로 개발자가 명시적으로 지정해야 합니다.
```java
double doubleValue = 3.14159;
int intValue = (int) doubleValue; // double에서 int로 강제 형 변환
System.out.println("intValue: " + intValue); // 출력: intValue: 3

long longValue = 1234567890123L;
int intValue2 = (int) longValue; // long에서 int로 강제 형 변환
System.out.println("intValue2: " + intValue2); // 출력: intValue2: -539222987
```
- `double`에서 `int`로 변환: 소수점 이하가 잘리고 정수 부분만 남습니다.
- `long`에서 `int`로 변환: `int`의 범위를 초과하는 값이어서 데이터 손실이 발생하고 예상치 못한 결과가 나옵니다.

# 3. 형 변환의 규칙
## 3.1 기본 데이터 타입 간의 변환
기본 데이터 타입 간의 형 변환은 다음과 같은 순서로 이루어집니다.

`byte` → `short` → `int` → `long` → `float` → `double`
```java
byte byteValue = 100;
short shortValue = byteValue; // 자동 형 변환
int intValue = shortValue; // 자동 형 변환
long longValue = intValue; // 자동 형 변환
float floatValue = longValue; // 자동 형 변환
double doubleValue = floatValue; // 자동 형 변환

System.out.println("double Value: " + doubleValue); // 출력: double Value: 100.0
```
- 각 단계에서 더 큰 범위의 데이터 타입으로 자동 형 변환이 일어납니다.
- 최종적으로 double 타입으로 변환되어 100.0이 출력됩니다.

# 4. 형 변환 시 주의사항
```java
int largeValue = 1000000;
byte smallValue = (byte) largeValue;
System.out.println("smallValue: " + smallValue); // 출력: smallValue: 64

double pi = 3.14159;
int intPi = (int) pi;
System.out.println("intPi: " + intPi); // 출력: intPi: 3

long longValue = 2147483648L; // int의 최대값(2147483647)보다 1 큰 수
int intValue = (int) longValue;
System.out.println("intValue: " + intValue); // 출력: intValue: -2147483648
```
- int에서 byte로 변환: 큰 값이 작은 범위로 강제 변환되어 데이터 손실이 발생합니다.
- double에서 int로 변환: 소수점 이하가 잘려나가 정밀도가 손실됩니다.
- long에서 int로 변환: int의 표현 범위를 초과하는 값이 int로 변환될 때 심각한 데이터 손실이 발생합니다.
    - 이 경우, 값이 int의 최솟값으로 "돌아갑니다". 이는 정수 오버플로우로 인한 것입니다.
    - long 타입은 64비트, int 타입은 32비트를 사용하므로, 상위 32비트의 정보가 손실됩니다.

# 5. 형 변환의 활용
```java
// 다른 데이터 타입 간의 연산
int intValue = 10;
double doubleValue = 3.5;
double result = intValue + doubleValue;
System.out.println("result: " + result); // 출력: result: 13.5
```
- 연산 시 int와 double이 자동으로 double로 변환되어 계산됩니다.

:::div{.callout}
형 변환은 Java 프로그래밍에서 매우 중요한 개념입니다. 적절한 형 변환을 통해 코드의 유연성을 높이고 다양한 데이터 타입을 효과적으로 다룰 수 있습니다. 그러나 데이터 손실이나 예기치 않은 결과를 방지하기 위해 항상 주의해서 사용해야 합니다.
:::