---
chapter: 제어문 - 반복문
title: 중첩 반복문
date: 2024-08-20
---
# 1. 중첩 반복문이란?
중첩 반복문은 하나의 반복문 내부에 또 다른 반복문이 포함된 구조를 말합니다. 이를 통해 복잡한 패턴이나 다차원 데이터 구조를 다룰 수 있습니다.

# 2. 중첩 반복문의 기본 구조
```java
for (초기화1; 조건식1; 증감식1) {
    for (초기화2; 조건식2; 증감식2) {
        // 실행할 코드
    }
}
```
- 이는 for 문의 예시이지만, while 문이나 do-while 문도 같은 방식으로 중첩할 수 있습니다.

# 3. 중첩 반복문 사용 예시
## 3.1 구구단 출력
```java
for (int i = 2; i <= 9; i++) {
    System.out.println(i + "단");
    for (int j = 1; j <= 9; j++) {
        System.out.println(i + " x " + j + " = " + (i * j));
    }
    System.out.println(); // 단 사이에 빈 줄 추가
}
// 출력
// 2단
// 2 x 1 = 2
// 2 x 2 = 4
// 2 x 3 = 6
// 2 x 4 = 8
// ...
// 9 x 5 = 45
// 9 x 6 = 54
// 9 x 7 = 63
// 9 x 8 = 72
// 9 x 9 = 81
```
- 외부 for 문은 2단부터 9단까지 반복합니다.
- 내부 for 문은 각 단에 대해 1부터 9까지 곱하는 과정을 반복합니다.
- 결과적으로 전체 구구단을 출력합니다.

## 3.2 2차원 배열 순회
```java
int[][] matrix = {
    {1, 2, 3},
    {4, 5, 6},
    {7, 8, 9}
};

for (int i = 0; i < matrix.length; i++) {
    for (int j = 0; j < matrix[i].length; j++) {
        System.out.print(matrix[i][j] + " ");
    }
    System.out.println(); // 행 변경 시 줄바꿈
}
// 출력
// 1 2 3 
// 4 5 6 
// 7 8 9 
```
- 2차원 배열(행렬)의 모든 요소를 순회합니다.
- 외부 for 문은 행을 반복합니다.
- 내부 for 문은 각 행의 열을 반복합니다.

# 4. 중첩 반복문의 실행 흐름
- 중첩 반복문에서 내부 반복문은 외부 반복문의 한 번의 반복마다 전체를 반복합니다.
- 예를 들어, 다음과 같은 중첩 for 문이 있다고 가정해봅시다.
```java
for (int i = 0; i < 3; i++) {
    for (int j = 0; j < 2; j++) {
        System.out.println("i = " + i + ", j = " + j);
    }
}
// 출력
// i = 0, j = 0
// i = 0, j = 1
// i = 1, j = 0
// i = 1, j = 1
// i = 2, j = 0
// i = 2, j = 1
```
- 실행 순서는 다음과 같습니다.
```
i = 0, j = 0
i = 0, j = 1
i = 1, j = 0
i = 1, j = 1
i = 2, j = 0
i = 2, j = 1
```
- 총 실행 횟수는 외부 반복문의 반복 횟수 * 내부 반복문의 반복 횟수입니다. 이 경우 3 * 2 = 6번 실행됩니다.

# 5. 중첩 반복문 사용 시 주의사항
## 5.1 성능 고려
중첩 반복문은 실행 시간이 급격히 증가할 수 있으므로, 대량의 데이터를 처리할 때는 성능에 주의해야 합니다.

## 5.2 가독성
중첩 수준이 깊어질수록 코드의 가독성이 떨어집니다. 가능한 중첩을 3단계 이상 사용하지 않는 것이 좋습니다.

## 5.3 변수 이름
내부와 외부 반복문의 변수 이름을 명확히 구분해야 합니다. 보통 i, j, k 등을 순차적으로 사용합니다.

# 6. 중첩 반복문의 활용 예시
## 6.1 별 찍기 (피라미드 모양)
```java
int rows = 5;
for (int i = 1; i <= rows; i++) {
    // 공백 출력
    for (int j = rows - i; j > 0; j--) {
        System.out.print(" ");
    }
    // 별 출력
    for (int k = 1; k <= 2 * i - 1; k++) {
        System.out.print("*");
    }
    System.out.println();
}
// 출력
//     *
//    ***
//   *****
//  *******
// *********
```

:::div{.callout}
중첩 반복문은 복잡한 패턴이나 다차원 데이터를 다룰 때 매우 유용합니다. 하지만 과도한 중첩은 코드의 복잡성을 증가시키고 성능에 영향을 줄 수 있으므로, 적절히 사용하는 것이 중요합니다. 

또한, 가능한 경우 함수 분리나 stream API 등을 활용하여 코드를 더 간결하고 읽기 쉽게 만드는 것도 고려해볼 수 있습니다.
:::