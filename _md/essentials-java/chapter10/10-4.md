---
chapter: 클래스
title: 생성자
date: 2024-09-03
---
# 1. 생성자
생성자(Constructor)는 객체가 생성될 때 자동으로 호출되는 특별한 메서드입니다. 주로 객체의 초기화를 담당합니다.

# 2. 생성자의 특징
- 클래스 이름과 동일한 이름을 가집니다.
- 반환 타입이 없습니다(void도 사용하지 않습니다).
- 객체 생성 시 `new` 키워드와 함께 호출됩니다.
- 오버로딩이 가능합니다(여러 개의 생성자를 정의할 수 있습니다).

# 3. 기본 생성자
모든 클래스는 최소한 하나의 생성자를 가집니다. 만약 명시적으로 생성자를 정의하지 않으면, 컴파일러가 자동으로 기본 생성자를 추가합니다.
```java
public class Car {
    // 기본 생성자
    public Car() {
        // 초기화 코드
    }
}
```

# 4. 매개변수가 있는 생성자
객체 생성 시 초기값을 전달받아 초기화할 수 있는 생성자를 정의할 수 있습니다.
```java
public class Car {
    private String model;
    private int year;

    public Car(String model, int year) {
        this.model = model;
        this.year = year;
    }
}
```
1. 클래스 정의
    ```java
    public class Car {
        // 클래스 내용
    }
    ```
    - Car라는 이름의 클래스를 정의합니다.

2. 필드 선언
    ```java
    private String model;
    private int year;
    ```
    - model이라는 이름의 private String 필드를 선언합니다. 이는 자동차의 모델을 나타냅니다.
    - year라는 이름의 private int 필드를 선언합니다. 이는 자동차의 제조 연도를 나타냅니다.

3. 생성자 정의 및 필드 초기화
    ```java
    public Car(String model, int year) {
        // 생성자 내용
        this.model = model;
        this.year = year;
    }
    ```
    - Car 클래스의 생성자를 정의합니다.
    - 이 생성자는 두 개의 매개변수(model과 year)를 받습니다.
    - `this.model`은 클래스의 필드를 가리키고, model은 생성자의 매개변수를 가리킵니다.
    - `this` 키워드를 사용하여 필드와 매개변수를 구분합니다.
    - 매개변수로 받은 값들을 해당 객체의 필드에 할당하여 초기화합니다.

# 5. 생성자 오버로딩
클래스는 여러 개의 생성자를 가질 수 있습니다. 이를 생성자 오버로딩이라고 합니다.
```java
public class Car {
    private String model;
    private int year;

    public Car() {
        this("Unknown", 0);  // 다른 생성자 호출
    }

    public Car(String model) {
        this(model, 0);  // 다른 생성자 호출
    }

    public Car(String model, int year) {
        this.model = model;
        this.year = year;
    }
}
```
1. 기본 생성자
    ```java
    public Car() {
        this("Unknown", 0);  // 다른 생성자 호출
    }
    ```
    - 매개변수가 없는 기본 생성자입니다.
    - `this("Unknown", 0)`를 통해 두 개의 매개변수를 가진 생성자를 호출합니다.
    - 모델명을 "Unknown"으로, 연도를 0으로 초기화합니다.


2. 하나의 매개변수를 가진 생성자
    ```java
    public Car(String model) {
        this(model, 0);  // 다른 생성자 호출
    }
    ```
    - 모델명만을 매개변수로 받는 생성자입니다.
    - this(model, 0)를 통해 두 개의 매개변수를 가진 생성자를 호출합니다.
    - 전달받은 모델명과 기본 연도 0을 사용하여 초기화합니다.

3. 두 개의 매개변수를 가진 생성자
    ```java
    public Car(String model, int year) {
        this.model = model;
        this.year = year;
    }
    ```
    - 모델명과 연도를 모두 매개변수로 받는 생성자입니다.
    - 전달받은 값들을 직접 필드에 할당하여 초기화합니다.

- 이러한 생성자 오버로딩을 통해 다양한 방식으로 객체를 생성할 수 있습니다.
```java
Car car1 = new Car();  // 모델: "Unknown", 연도: 0
Car car2 = new Car("Tesla");  // 모델: "Tesla", 연도: 0
Car car3 = new Car("Toyota", 2023);  // 모델: "Toyota", 연도: 2023
```
- 생성자 오버로딩은 객체 생성 시 유연성을 제공하며, 다양한 초기화 시나리오를 지원합니다. 또한 `this()` 를 사용하여 다른 생성자를 호출함으로써 코드 중복을 줄이고 유지보수성을 향상시킬 수 있습니다.

# 6. this 키워드
- this는 현재 객체를 가리키는 참조변수입니다.
- 주로 다음과 같은 상황에서 사용됩니다.
## 6.1 필드와 매개변수 구분
매개변수 이름이 필드 이름과 같을 때, `this`를 사용하여 필드를 명확히 지정할 수 있습니다.
```java
public class Car {
    private String model;

    public Car(String model) {
        this.model = model;  // 필드 model에 매개변수 model 값 할당
    }
}
```

## 6.2 다른 생성자 호출(this())
한 생성자에서 같은 클래스의 다른 생성자를 호출할 때 사용합니다. 생성자의 첫 줄에서만 사용 가능합니다.
```java
public Car() {
    this("Unknown", 0);  // Car(String, int) 생성자 호출
}
```

## 6.3 메서드에서 현재 객체 반환
메서드에서 현재 객체를 반환할 때 `this`를 사용할 수 있습니다. 이는 메서드 체이닝을 구현할 때 유용합니다.
```java
public class Car {
    public Car setModel(String model) {
        this.model = model;
        return this;  // 현재 객체 반환
    }

    public Car setYear(int year) {
        this.year = year;
        return this;  // 현재 객체 반환
    }
}

// 사용 예
Car myCar = new Car().setModel("Tesla").setYear(2023);
```
- this 키워드를 적절히 사용하면 코드의 명확성을 높이고, 객체 지향 프로그래밍의 특성을 더 잘 활용할 수 있습니다.

# 7. 생성자와 초기화 블록
클래스는 초기화 블록을 가질 수 있으며, 이는 모든 생성자보다 먼저 실행됩니다.
```java
public class Car {
    private String model;
    private int year;

    // 초기화 블록
    {
        System.out.println("Car object is being created");
    }

    public Car(String model, int year) {
        this.model = model;
        this.year = year;
    }
}
```
- 사용 예시
    ```java
    public class CarMain {
        public static void main(String[] args) {
            System.out.println("Creating first car");
            Car car1 = new Car("Tesla", 2023);
            
            System.out.println("Creating second car");
            Car car2 = new Car("Toyota", 2022);
        }
    }
    // 출력
    // Creating first car
    // Car object is being created
    // Creating second car
    // Car object is being created
    ```
    
# 8. 생성자 사용 예시
```java
public class CarMain {
    public static void main(String[] args) {
        Car car1 = new Car();  // 기본 생성자 호출
        Car car2 = new Car("Tesla");  // String 매개변수 생성자 호출
        Car car3 = new Car("Toyota", 2023);  // String, int 매개변수 생성자 호출

        System.out.println(car1.getModel() + " " + car1.getYear());
        System.out.println(car2.getModel() + " " + car2.getYear());
        System.out.println(car3.getModel() + " " + car3.getYear());
    }
}
```

# 9. 생성자 사용 시 주의사항
- 명시적으로 생성자를 정의하면 기본 생성자는 자동으로 추가되지 않습니다.
    ```java
    public class Person {
        private String name;
        
        public Person(String name) {
            this.name = name;
        }

        // public Person() {
        //     
        // }
    }

    // 사용 예
    Person person = new Person(); // 컴파일 에러
    Person person = new Person("John"); // 올바른 사용법
    ```
    - 명시적으로 생성자를 정의한 후 기본 생성자를 사용하기 위해서는 주석처리된 것과 같이 기본 생성자를 정의해두어야 합니다.

:::div{.callout}
생성자는 객체의 초기 상태를 설정하는 중요한 역할을 합니다. 적절한 생성자를 정의함으로써 객체 생성 시 필요한 초기화 작업을 효과적으로 수행할 수 있습니다. 또한, 다양한 방식의 객체 생성을 지원하여 클래스의 유연성을 높일 수 있습니다.
:::