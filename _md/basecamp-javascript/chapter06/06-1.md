---
chapter: 조금 더 깊이 들여다보기
title: this
date: 2024-04-03
---

# 1. this 키워드 이해하기

JavaScript에서 this 키워드는 매우 중요하지만, 처음에는 이해하기 어려울 수 있습니다. this는 함수가 어떻게 호출되었는지에 따라 다르게 동작하기 때문입니다. 심지어 콘솔창과 위니북스의 this도 다르기 때문에 여기서는 콘솔창을 열어 실습해주시기 바랍니다.

this를 '나 자신', '나 자신을 호출한 객체' 또는 '이것' 이라고 정의 내리긴 어렵습니다. 앞서 말씀드린 것처럼 어떻게 호출되었는지에 따라 다르게 동작하기 때문입니다.

다양한 상황을 통해 this가 가리키는 값을 살펴보겠습니다.

## 1. 전역 범위

```javascript
console.log(this); // 브라우저에서는 window 객체
```

전역 범위, 보통 전역 컨텍스트라고 얘기합니다. 전역 컨텍스트에서 `this`는 전역 객체를 가리킵니다. 브라우저에서는 `window` 객체가 전역 객체이며 Node.js 환경에서는 `global` 객체가 전역 객체입니다.

## 2. 함수 범위

함수 내부에서 `this`의 값은 함수를 호출한 방식에 따라 결정됩니다.

### 2.1 일반 함수 호출

일반 함수 호출에서 `this`는 전역 객체를 나타냅니다.

```javascript
function f() {
  console.log(this);
}

f(); // Window 객체 (브라우저에서)
```

### 2.2 화살표 함수

화살표 함수에서 `this`는 함수가 정의된 위치의 컨텍스트를 유지합니다. 이를 "lexical this"라고 합니다.

```javascript
const obj = {
  f: function() {
    const ff = () => {
      console.log(this);
    };
    ff();
    
    const fff = function() {
      console.log(this);
    };
    fff();
  }
};

obj.f();
// f (화살표 함수 ff에서의 this)
// Window 객체 (일반 함수 fff에서의 this)
```

### 2.3 메서드 호출

객체의 메서드로 호출된 함수에서 `this`는 해당 객체를 나타냅니다.

```javascript
const obj = {
  f: function() {
    console.log(this);
  }
};

obj.f(); // obj
```

### 2.4 생성자 함수 호출

`new` 키워드를 사용하여 생성자 함수를 호출하면, `this`는 새로 생성된 객체를 나타냅니다.

```javascript
function Person(name) {
  this.name = name;
  console.log(this);
}

const person1 = new Person("licat"); // Person { name: "licat" }
```

## 3. 이벤트 헨들러

이벤트 핸들러 내에서 this는 이벤트가 발생한 DOM 요소를 가리킵니다. 아래 예제는 직접 html 파일에 작성해보세요.

```javascript
<button id="btn">hello world!</button>

<script>
const button = document.getElementById('btn');
button.addEventListener('click', function() {
  console.log(this); // <button id="btn">Click me!</button>
});
</script>
```

:::{.callout}
**this는 중급자로 넘어가기 전에 정리를 한 번 더 해야합니다.**

여기서 다루고 있는 this가 전부가 아닙니다. 예외 사항이 있으며 이 강의가 초급자 강의이기 때문에 `call()`, `apply()`, `bind()` 메서드를 사용하여 this의 값을 명시적으로 설정할 수 있는 방법에 대해서 다루지 않았습니다. 자바스크립트에 대해 더 깊이 공부하고 싶다면 이 부분을 찾아보시기 바랍니다.
:::