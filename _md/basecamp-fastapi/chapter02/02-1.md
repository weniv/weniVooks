---
chapter: FastAPI로 기본 API 만들기
title: 첫 번째 API 엔드포인트 생성
date: 2024-09-19
---

# 1. 기본 라우팅 개념 소개

FastAPI에서 라우팅은 클라이언트의 요청을 적절한 함수(엔드포인트)로 연결하는 과정입니다. 라우팅을 통해 특정 URL 경로에 대한 처리 로직을 정의할 수 있습니다.

기본적인 라우팅 구조는 다음과 같습니다:

```python
from fastapi import FastAPI

app = FastAPI()

@app.get("/")
async def root():
    return {"message": "Hello World"}
```

여기서 `@app.get("/")`는 데코레이터로, HTTP GET 요청이 루트 경로("/")로 왔을 때 아래의 함수를 실행하라는 의미입니다.

# 2. GET 요청 처리하기

GET 요청은 서버로부터 데이터를 요청할 때 사용됩니다. FastAPI에서 GET 요청을 처리하는 방법을 살펴보겠습니다.

```python
from fastapi import FastAPI

app = FastAPI()

@app.get("/hello")
async def say_hello():
    return {"message": "Hello, FastAPI!"}
```

이 코드를 `main.py` 파일에 저장하고 다음 명령어로 서버를 실행합니다:

```bash
uvicorn main:app --reload
```

브라우저에서 `http://localhost:8000/hello`에 접속하면 {"message": "Hello, FastAPI!"}라는 응답을 받을 수 있습니다.

# 3. 경로 매개변수 사용하기

경로 매개변수를 사용하면 URL의 일부를 변수로 사용할 수 있습니다. 이를 통해 동적인 라우팅이 가능해집니다.

```python
from fastapi import FastAPI

app = FastAPI()

@app.get("/items/{item_id}")
async def read_item(item_id: int):
    return {"item_id": item_id}
```

이 예제에서 `{item_id}`는 경로 매개변수입니다. `item_id: int`는 이 매개변수가 정수형이어야 함을 명시합니다.

브라우저에서 `http://localhost:8000/items/5`에 접속하면 {"item_id": 5}라는 응답을 받게 됩니다.

# 4. 여러 경로 매개변수 사용하기

여러 개의 경로 매개변수를 동시에 사용할 수도 있습니다.

```python
from fastapi import FastAPI

app = FastAPI()

@app.get("/users/{user_id}/items/{item_id}")
async def read_user_item(user_id: int, item_id: str):
    return {"user_id": user_id, "item_id": item_id}
```

이 엔드포인트는 `http://localhost:8000/users/1/items/foo`와 같은 URL에 응답하며, {"user_id": 1, "item_id": "foo"}를 반환합니다.

# 연습문제

1. "hello/{name}" 경로에 대한 GET 요청을 처리하는 엔드포인트를 만들어보세요. 이 엔드포인트는 주어진 이름을 사용하여 인사말을 반환해야 합니다.

2. "/calculate/{operation}/{a}/{b}" 형식의 경로를 처리하는 엔드포인트를 만들어보세요. 여기서 operation은 "add", "subtract", "multiply", "divide" 중 하나이며, a와 b는 정수입니다. 해당 연산의 결과를 반환해야 합니다.

이 연습문제들을 통해 경로 매개변수를 활용하는 방법을 익힐 수 있습니다. 다음 챕터에서는 요청 본문(Request Body) 처리에 대해 알아보겠습니다.
