---
chapter: CSS 선택자 고급
title: 가상 클래스와 가상 요소 심화
date: 2024-07-30
---

# 1. 고급 포커스 선택자

## 1.1 `:focus-visible`

`:focus`와 유사하지만 `:focus`는 포커스된 요소에 항상 적용되는 반면, `:focus-visible`은 좀 더 선택적으로 작동합니다.

`:focus-visible`은 주로 키보드를 사용하여 페이지를 탐색할 때나 스크립트를 통해 포커스가 관리될 때 활성화됩니다. 이는 사용자가 현재 어떤 요소에 포커스가 있는지 시각적으로 확인해야 하는 상황에서 유용합니다. 그러나 마우스나 터치 인터페이스를 사용하여 요소에 물리적으로 포커스를 설정할 때는 일반적으로 `:focus-visible`이 활성화되지 않습니다. 이는 사용자가 이미 자신이 어떤 요소를 선택했는지 알고 있기 때문입니다.

`:focus-visible`의 주요 목적은 사용자 경험을 개선하는 것입니다. 이 가상 클래스를 사용함으로써 불필요한 시각적 표시를 줄여 인터페이스를 깔끔하게 유지할 수 있습니다. 동시에 키보드 사용자에게는 명확한 포커스 표시를 제공하여 웹 접근성을 향상시킬 수 있습니다.

:::div{.htmlPlay}

```html
<div class="container">
  <button class="btn">Regular Button</button>
  <a href="#" class="link">Link Button</a>
  <input type="text" class="input" placeholder="Text Input" />
  <div class="custom-button" tabindex="0">Custom Focusable Element</div>
</div>
```

```css
.container {
  display: flex;
  flex-direction: column;
  gap: 15px;
  padding: 20px;
  background-color: #f0f0f0;
}

.btn,
.link,
.input,
.custom-button {
  padding: 10px 15px;
  border: 2px solid #ccc;
  border-radius: 5px;
  font-size: 16px;
  transition: all 0.3s ease;
}

/* Regular focus styles */
.btn:focus,
.link:focus,
.input:focus,
.custom-button:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.5);
}

/* Focus-visible styles */
.btn:focus-visible,
.link:focus-visible,
.input:focus-visible,
.custom-button:focus-visible {
  outline: none;
  border-color: #4299e1;
  box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.5);
}

/* Specific styles */
.btn {
  background-color: #4299e1;
  color: white;
  cursor: pointer;
}

.link {
  background-color: transparent;
  color: #4299e1;
  text-decoration: none;
}

.input {
  background-color: white;
}

.custom-button {
  background-color: #9ae6b4;
  cursor: pointer;
}

/* Hover styles */
.btn:hover,
.link:hover,
.custom-button:hover {
  opacity: 0.8;
}
```

:::

:::div{.callout}
**주의**

`:focus-visible`의 정확한 동작은 브라우저에 따라 약간 다를 수 있습니다. 일부 브라우저에서는 마우스 클릭으로도 `:focus-visible`이 트리거될 수 있습니다.
:::

## 1.2 `:focus-within`

요소 또는 그 자식 요소가 포커스를 받았을 때 적용됩니다.

:::div{.htmlPlay}

```html
<div class="form-group">
  <label for="name">Name:</label>
  <input type="text" id="name" />
</div>
<div class="form-group">
  <label for="email">Email:</label>
  <input type="email" id="email" />
</div>
```

```css
.form-group {
  margin-bottom: 15px;
  padding: 10px;
  transition: background-color 0.3s ease;
  border: 1px solid #ddd;
}

.form-group:focus-within {
  background-color: #e0f7fa;
  border-color: #26c6da;
}

label {
  display: block;
  margin-bottom: 5px;
}

input {
  padding: 5px;
  border: 1px solid #ccc;
  width: 100%;
}

input:focus-visible {
  outline: 2px solid #26c6da;
  border-color: #26c6da;
}
```

:::

`:focus-within`은 폼 디자인에 특히 유용합니다. 사용자가 특정 입력 필드에 포커스를 맞출 때 전체 폼 그룹의 스타일을 변경할 수 있습니다.

# 2. 상태 관련 가상 선택자

## 2.1 `:enabled`

활성화된 상태의 폼 요소를 선택합니다.

## 2.2 `:disabled`

비활성화된 상태의 폼 요소를 선택합니다.

:::div{.htmlPlay}

```html
<form>
  <div class="form-group">
    <label for="username">Username:</label>
    <input type="text" id="username" class="form-control" />
  </div>
  <div class="form-group">
    <label for="password">Password:</label>
    <input type="password" id="password" class="form-control" />
  </div>
  <div class="form-group">
    <label for="country">Country:</label>
    <select id="country" class="form-control">
      <option value="">Select a country</option>
      <option value="us">United States</option>
      <option value="uk">United Kingdom</option>
      <option value="jp">Japan</option>
    </select>
  </div>
  <button type="submit" class="btn-submit">Submit</button>
  <button type="button" class="btn-reset" disabled>Reset</button>
</form>
```

```css
.form-group {
  margin-bottom: 15px;
}

.form-control {
  width: 100%;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.form-control:enabled {
  background-color: #fff;
}

.form-control:disabled {
  background-color: #f9f9f9;
  cursor: not-allowed;
}

button {
  padding: 10px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.btn-submit:enabled {
  background-color: #4caf50;
  color: white;
}

.btn-submit:enabled:hover {
  background-color: #45a049;
}

.btn-reset:disabled {
  background-color: #ddd;
  color: #999;
  cursor: not-allowed;
}
```

:::

## 2.3 `:checked`

체크된 상태의 라디오 버튼이나 체크박스를 선택합니다.

:::div{.htmlPlay}

```html
<div class="checkbox-group">
  <label>
    <input type="checkbox" name="option" value="1" />
    Option 1
  </label>
  <label>
    <input type="checkbox" name="option" value="2" />
    Option 2
  </label>
  <label>
    <input type="checkbox" name="option" value="3" />
    Option 3
  </label>
</div>
```

```css
.checkbox-group {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

label {
  display: flex;
  align-items: center;
  cursor: pointer;
}

input[type='checkbox'] {
  margin-right: 10px;
}

input[type='checkbox']:checked + label {
  color: #4caf50;
  font-weight: bold;
}

input[type='checkbox']:checked::before {
  content: '✓';
  display: inline-block;
  width: 16px;
  height: 16px;
  background-color: #4caf50;
  color: white;
  text-align: center;
  line-height: 16px;
  border-radius: 2px;
}
```

:::

이러한 가상 선택자들은 사용자 인터페이스 요소의 다양한 상태를 스타일링하는 데 매우 유용합니다. 이를 통해 사용자에게 시각적 피드백을 제공하고, 웹 애플리케이션의 사용성을 크게 향상시킬 수 있습니다.
