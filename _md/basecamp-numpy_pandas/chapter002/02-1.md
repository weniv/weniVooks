---
chapter: NumPy :두 번째 걸음
title: NumPy 배열이란?
date: 2024-07-08
---
# 1. ndarray이란?

ndarray(n-dimensional array)는 NumPy의 기본 데이터 구조로, 동일한 데이터 타입을 가진 요소들의 다차원 배열입니다. 이 배열은 고정된 크기를 가지며, 연속된 메모리 공간에 저장되어 효율적인 수치 연산이 가능합니다.

1. 동일한 데이터 타입: 모든 요소가 같은 데이터 타입을 가져 메모리 사용과 연산이 효율적입니다.
2. 다차원 구조: 1차원부터 다차원까지 다양한 차원의 배열을 지원합니다.
3. 벡터화 연산: 전체 배열에 대한 연산을 빠르게 수행할 수 있어 계산 속도가 빠릅니다.
4. 메모리 효율성: 연속된 메모리 공간에 데이터를 저장하여 접근과 연산이 최적화됩니다.

## 1.1 NumPy 배열 (ndarray)

NumPy의 핵심 데이터 구조는 `ndarray` (n-dimensional array)입니다. 이는 일반 파이썬 리스트보다 더 효율적이고 다양한 기능을 제공합니다.

1. 모든 요소가 같은 데이터 타입을 가집니다.
2. 다차원 배열을 지원합니다.
3. 벡터화된 연산을 지원하여 빠른 계산이 가능합니다.

```python-exec
import numpy as np

np_array = np.array([1, 2, 3, 4, 5])
print(np_array)
```

## 1.2 NumPy 배열의 데이터 타입

NumPy 배열은 다양한 데이터 타입을 지원합니다.NumPy 배열을 생성할 때, 사용자가 별도로 데이터 타입을 지정하지 않아도 자동으로 적절한 타입이 할당됩니다. 이는 NumPy의 주요 특징 중 하나입니다. 

1. 정수형 (`int8`, `int16`, `int32`, `int64`) : 소수점 없는 숫자를 저장하며, 숫자가 클수록 더 큰 범위의 값을 다룰 수 있습니다.
2. 실수형 (`float32`, `float64`) : 소수점이 있는 숫자를 저장하며, float64가 더 정밀한 계산이 가능합니다.
3. 불리언 (`bool`) : 참(True)과 거짓(False) 두 가지 값만을 저장합니다.
4. 복소수형 (`complex64`, `complex128`) : 실수부와 허수부를 가진 복소수를 저장하며, 주로 특수한 수학적 연산에 사용됩니다.

```python-exec
import numpy as np

정수_배열 = np.array([1, 2, 3, 4, 5])
실수_배열 = np.array([1.5, 2.7, 3.2])

print(정수_배열.dtype)
print(실수_배열.dtype)
```

NumPy는 배열 생성 시 데이터 특성에 따라 자동으로 적절한 데이터 타입을 선택합니다. 이는 코드를 간결하게 유지하면서도 데이터에 맞는 타입을 사용할 수 있게 해줍니다. 배열의 데이터 타입은 dtype 속성으로 확인할 수 있습니다. 필요한 경우 사용자가 직접 데이터 타입을 지정할 수도 있어, 특정 연산이나 메모리 사용에 대한 정밀한 제어가 가능합니다.

## 1.3 다차원 배열

NumPy의 `ndarray`는 다차원 배열을 쉽게 생성하고 조작할 수 있게 해줍니다. 차원은 대괄호 `[]`의 중첩 수에 따라 결정됩니다.

```python-exec
import numpy as np

# 2차원 배열
array_2d = np.array([[1, 2, 3], [4, 5, 6]])
print(array_2d)
```
```python-exec
# 3차원 배열
import numpy as np

array_3d = np.array([[[1, 2], [3, 4]], [[5, 6], [7, 8]]])
print(array_3d)
```
:::div{.callout}

**Tip !**

"다차원 배열은 마치 상자를 포장하는 것과 같아요. 1차원은 물건을 일렬로 늘어놓은 것, 2차원은 물건을 평면에 깔아놓은 것, 3차원은 물건을 상자에 층층이 쌓아놓은 것과 같죠. 대괄호를 하나 더 추가할 때마다, 우리는 새로운 차원을 만드는 거예요."
:::

# 2. 배열 속성

## 2.1 shape

`shape` 속성은 배열의 각 차원의 크기를 튜플로 반환합니다. 배열이 몇 개의 행과 열로 구성되어 있는지, 또는 더 높은 차원에서는 어떤 구조를 가지고 있는지 즉시 파악할 수 있습니다.

```python-exec
import numpy as np

# 1차원 배열
arr1 = np.array([1, 2, 3, 4, 5])
print("1차원 배열 shape:", arr1.shape)

# 2차원 배열
arr2 = np.zeros((3, 4))
print("2차원 배열 shape:", arr2.shape)

# 3차원 배열
arr3 = np.ones((2, 3, 2))
print("3차원 배열 shape:", arr3.shape)
```

## 2.2 ndim

`ndim` 속성은 배열의 차원 수를 정수로 반환하며, 데이터 구조의 복잡도를 신속하게 파악하는 데 유용합니다. 차원 수는 대괄호 `[]`의 중첩 횟수와 일치합니다. 예를 들어, [1, 2, 3]은 1차원, [[1, 2], [3, 4]]는 2차원 배열입니다. 1D부터 4D까지 다양한 차원의 배열이 있으며, 각각 리스트, 행렬, 다층 데이터, 시간에 따른 변화 등을 표현합니다. 이를 통해 데이터의 구조를 이해하고 적절한 처리 방법을 선택할 수 있습니다.

```python-exec
import numpy as np

arr1 = np.array([1, 2, 3, 4, 5])
arr2 = np.zeros((3, 4))
arr3 = np.ones((2, 3, 2))

print("1차원 배열 ndim:", arr1.ndim)
print("2차원 배열 ndim:", arr2.ndim)
print("3차원 배열 ndim:", arr3.ndim)

```
:::div{.callout}

**Tip !**

"NumPy 배열의 차원은 데이터를 담는 '상자'의 구조라고 생각하면 쉬워요. 1차원은 물건을 일렬로 늘어놓은 것, 2차원은 물건을 평면에 깔아놓은 것, 3차원은 물건을 상자에 층층이 쌓아놓은 것과 같죠. 4차원부터는 이 3차원 상자들이 시간에 따라 변하는 것을 상상해보세요. 차원이 늘어날수록 데이터 구조가 더 복잡해지지만, 그만큼 더 다양한 정보를 표현할 수 있어요."
:::
## 2.3 size

`size` 속성은 배열의 총 요소 수를 정수로 반환합니다. 이는 배열의 전체 크기를 한 눈에 파악하는 데 도움이 됩니다. 주로, 메모리 사용량을 예측하거나, 배열 연산의 복잡도를 계산할 때 유용하게 사용됩니다.

```python-exec
import numpy as np

arr1 = np.array([1, 2, 3, 4, 5])
arr2 = np.zeros((3, 4))
arr3 = np.ones((2, 3, 2))

print("1차원 배열 size:", arr1.size)
print("2차원 배열 size:", arr2.size)
print("3차원 배열 size:", arr3.size)

```

## 2.4 dtype

`dtype` 속성은 배열의 데이터 타입을 반환합니다. 이는 배열 내 요소들의 정확한 타입을 알려주며, 메모리 사용량과 연산 정확도에 영향을 미칩니다.

```python-exec
import numpy as np

arr4 = np.array([1, 2, 3], dtype=np.int32)
arr5 = np.array([1.0, 2.0, 3.0], dtype=np.float64)
arr6 = np.array([True, False, True])

print("정수 배열 dtype:", arr4.dtype)
print("실수 배열 dtype:", arr5.dtype)
print("불리언 배열 dtype:", arr6.dtype)

```

이러한 속성들을 활용하면, NumPy 배열의 구조와 특성을 정확히 파악하고 효율적으로 조작할 수 있습니다. 예를 들어, 이미지 처리에서 `shape`를 통해 이미지의 해상도를, `dtype`을 통해 색상 정보의 정밀도를 알 수 있습니다. 또한 머신러닝에서는 `ndim`과 `size`를 통해 입력 데이터의 구조와 양을 파악하여 모델 설계에 활용할 수 있습니다.

# 3. 다양한 데이터 타입

NumPy 배열의 데이터 타입은 배열이 저장할 수 있는 데이터의 종류와 크기를 정의합니다. 주요 데이터 타입과 그 특징은 다음과 같습니다

## 3.1. 정수형 (Integer types)

`int8`, `int16`, `int32`, `int64`: 크기가 다른 정수를 저장합니다.

```python-exec
import numpy as np

int_arr = np.array([1, 2, 3, 4], dtype=np.int32)
print("정수형 배열:", int_arr)
print("데이터 타입:", int_arr.dtype)

```
:::div{.callout}

**Tip !**

"정수형 데이터 타입은 마치 다양한 크기의 상자와 같아요. int8은 작은 상자로 -128부터 127까지의 숫자만 담을 수 있고, int16, int32, int64로 갈수록 점점 더 큰 상자가 되어 더 큰 범위의 숫자를 담을 수 있어요. 예를 들어, int64는 아주 큰 상자여서 엄청나게 큰 숫자까지 담을 수 있죠."

:::

## 3.2 실수형 (Float types)

`float32`, `float64`: 소수점이 있는 숫자를 저장합니다.

```python-exec
import numpy as np

float_arr = np.array([1.5, 2.7, 3.2, 4.8], dtype=np.float64)
print("실수형 배열:", float_arr)
print("데이터 타입:", float_arr.dtype)

```
:::div{.callout}

**Tip !**

"실수형은 소수점이 있는 숫자를 담는 특별한 상자예요. float32는 중간 크기의 상자로, 꽤 정확한 소수점 숫자를 담을 수 있어요. float64는 더 큰 상자로, 더욱 정밀한 소수점 숫자를 담을 수 있죠. 마치 더 정교한 눈금이 있는 자를 사용하는 것과 같아요."

:::

## 3.3. 불리언 (Boolean type)

`bool`: `True` 또는 `False` 값을 저장합니다.

```python-exec
import numpy as np

bool_arr = np.array([True, False, True], dtype=np.bool_)
print("불리언 배열:", bool_arr)
print("데이터 타입:", bool_arr.dtype)

```
:::div{.callout}

**Tip !**

"불리언 타입은 아주 작은 상자로, 'Yes'와 'No' 또는 '켜짐'과 '꺼짐'과 같은 두 가지 상태만을 나타내요. 컴퓨터에서는 이를 True와 False로 표현하죠. 마치 전등 스위치처럼 단순하지만 매우 유용해요."

:::


## 3.4. 복소수형 (Complex types)

complex64, complex128: 복소수를 저장하는 데이터 타입이지만, 일반적인 데이터 분석이나 프로그래밍에서는 잘 사용되지 않으며, 주로 전기공학, 양자역학, 신호처리 등 특수한 과학기술 분야에서 필요할 때만 사용됩니다.

```python-exec
import numpy as np

# complex64 타입의 복소수 배열 생성
c64 = np.array([1+2j, 3-4j], dtype=np.complex64)
print("complex64 배열:", c64)
print("데이터 타입:", c64.dtype)

# complex128 타입의 복소수 배열 생성
c128 = np.array([1+2j, 3-4j], dtype=np.complex128)
print("\\ncomplex128 배열:", c128)
print("데이터 타입:", c128.dtype)

```

:::div{.callout}

**Tip !**

"complex64와 complex128은 특별한 이중 상자예요. 한 칸에는 실수 부분을, 다른 칸에는 허수 부분을 담아요. complex64는 각 칸이 32비트 크기이고, complex128은 각 칸이 64비트 크기예요. 더 큰 상자인 complex128은 더 정밀한 복소수를 담을 수 있죠. 이는 마치 좌표평면에서 점의 위치를 더 정확하게 표시할 수 있는 것과 같아요."

:::
# 4. 정리
NumPy 배열의 기본 개념과 특징을 학습했습니다. `ndarray`는 NumPy의 핵심 데이터 구조로, 파이썬 리스트보다 더 효율적이고 다양한 기능을 제공합니다. 우리는 `shape`, `ndim`, `size`, `dtype`과 같은 배열의 주요 속성을 통해 배열의 구조와 특성을 파악했습니다. 또한 `정수형`, `실수형`, `불리언`, `복소수형` 등 다양한 데이터 타입을 지원하는 NumPy의 유연성도 확인했습니다. 이러한 특징들은 데이터 분석, 과학 계산, 머신러닝 등 다양한 분야에서 NumPy가 필수적인 도구로 사용되는 이유를 보여줍니다.