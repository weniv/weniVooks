---
chapter: NumPy :두 번째 걸음
title: NumPy 배열 생성
date: 2024-07-08
---
# 1. 배열(ndarray) 생성하기

## 1.1 np.array

`np.array` 함수는 리스트나 튜플로부터 NumPy 배열을 생성합니다. 이 함수는 파이썬의 기본 데이터 구조를 NumPy의 효율적인 배열 형태로 변환해줍니다. 다차원 배열도 생성할 수 있어 복잡한 데이터 구조를 쉽게 만들 수 있습니다.

```python-exec
import numpy as np

arr1 = np.array([1, 2, 3, 4, 5])
print("np.array:", arr1)
```
:::div{.callout}

**Tip !**

“np.array는 우리가 원하는 숫자들로 상자를 채우는 거예요. 마치 숫자들을 줄 세워 놓는 것과 같아요.”

:::

## 1.2 np.zeros

`np.zeros` 함수는 모든 요소가 0인 배열을 생성합니다. 이 함수는 배열의 크기와 데이터 타입을 지정할 수 있어, 초기화된 배열이 필요할 때 유용합니다. 특히 대규모 계산에서 결과를 저장할 공간을 미리 할당할 때 자주 사용됩니다.

```python-exec
import numpy as np

arr2 = np.zeros(3)
print("np.zeros:", arr2)
```
:::div{.callout}

**Tip !**

“np.zeros는 0으로 가득 찬 상자를 만드는 거예요. 마치 빈 계란판을 준비하는 것과 같아요.”


:::
## 1.3 np.ones

`np.ones` 함수는 모든 요소가 1인 배열을 생성합니다. `np.zeros`와 유사하지만 1로 초기화된 배열을 만듭니다. 이 함수는 행렬 연산에서 단위 행렬을 만들거나, 데이터 정규화 과정에서 기준값을 설정할 때 유용하게 사용됩니다.
:::
```python-exec
import numpy as np

arr3 = np.ones((2, 2))
print("np.ones:")
print(arr3)
```
:::div{.callout}

**Tip !**
“np.ones는 1로 가득 찬 상자를 만드는 거예요. 마치 모든 칸에 동전을 하나씩 넣어둔 것과 같아요.”
:::
## 1.4 np.arange

`np.arange` 함수는 지정된 범위와 간격으로 균일하게 나누어진 값들로 배열을 생성합니다. 파이썬의 `range` 함수와 유사하지만, 실수 간격도 지정할 수 있어 더 유연합니다. 이 함수는 시퀀스 데이터를 생성하거나 그래프의 x축 값을 만들 때 자주 사용됩니다.

```python-exec
import numpy as np

arr4 = np.arange(0, 10, 2)
print("np.arange:", arr4)
```
:::div{.callout}

**Tip !**

“np.arange는 일정한 간격으로 늘어나는 숫자들로 상자를 채우는 거예요. 마치 계단을 오르는 것처럼 숫자가 차례대로 커져요.”
:::


## 1.5 np.linspace

`np.linspace` 함수는 지정된 범위 내에서 균일한 간격으로 나누어진 값들로 배열을 생성합니다. 시작점, 끝점, 그리고 생성할 요소의 개수를 지정하면, 그 사이를 균등하게 나눈 값들을 만들어냅니다. 이 함수는 특히 수학적 함수의 도메인을 생성하거나 데이터 보간에 유용합니다.

```python-exec
import numpy as np

arr5 = np.linspace(0, 1, 5)
print("np.linspace:", arr5)
```
:::div{.callout}
**Tip !**
“np.linspace는 시작과 끝 사이를 똑같은 간격으로 나눈 숫자들로 상자를 채워요. 마치 케이크를 똑같은 크기로 나누는 것과 비슷해요.”

:::
# 2. 기본적인 배열 조작

## 2.1 reshape

`reshape` 함수는 배열의 형태를 변경합니다. 이 함수는 배열의 차원과 각 차원의 크기를 새롭게 지정할 수 있게 해주며, 요소의 총 개수는 변하지 않습니다. 다차원 데이터를 다룰 때 매우 유용하며, 예를 들어 1차원 데이터를 2차원 행렬로 변환하거나 그 반대의 경우에 사용됩니다.

```python-exec
import numpy as np

arr = np.array([1, 2, 3, 4, 5, 6])
reshaped = arr.reshape((2, 3))
print("Reshaped:")
print(reshaped)
```
:::div{.callout}

**Tip !**

“reshape는 블록들을 새로운 모양으로 쌓는 거예요. 여기서는 한 줄로 된 블록들을 두 줄로 바꿨어요.”
:::


## 2.2 astype

`astype` 함수는 배열의 데이터 타입을 변경합니다. 이 함수를 사용하면 정수형에서 실수형으로, 또는 그 반대로 데이터 타입을 쉽게 변환할 수 있습니다. 데이터 처리 과정에서 타입 변환이 필요할 때 유용하며, 특히 메모리 사용을 최적화하거나 특정 연산에 적합한 데이터 타입으로 변경할 때 사용됩니다.

```python-exec
import numpy as np

float_arr = arr.astype(float)
print("Float type:", float_arr)
```
:::div{.callout}

**Tip !**

“astype은 블록의 종류를 바꾸는 거예요. 여기서는 정수 블록을 소수점이 있는 블록으로 바꿨어요.”
:::
## 2.3 ravel

`ravel` 함수는 다차원 배열을 1차원 배열로 평탄화합니다. 이 함수는 원본 배열의 뷰(view)를 반환하므로 메모리 효율적입니다. 복잡한 다차원 데이터를 선형으로 처리해야 할 때 유용하며, 예를 들어 다차원 이미지 데이터를 1차원으로 변환하여 기계학습 모델에 입력할 때 사용할 수 있습니다.

```python-exec
import numpy as np

raveled = reshaped.ravel()
print("Raveled:", raveled)
```
:::div{.callout}

**Tip !**

"ravel 함수는 여러 층으로 쌓인 블록들을 모두 한 줄로 늘어놓는 거예요. 원본 블록 탑을 그대로 유지하면서, 그 블록들을 한 줄로 보이게 만드는 거죠. 마치 블록 탑을 보고 그 블록들을 일렬로 세워놓는 것과 같아요. 원본 배열을 유지하면서도 새로운 1차원 배열을 메모리 효율적으로 만들 수 있어요."
:::

## 2.4 flatten

`flatten` 함수도 다차원 배열을 1차원 배열로 평탄화하지만, `ravel`과 달리 항상 배열의 복사본을 반환합니다. 이는 원본 데이터를 유지하면서 평탄화된 버전이 필요할 때 유용합니다. 데이터 분석 과정에서 원본 구조를 보존하면서 선형 처리가 필요한 경우에 적합합니다.

```python-exec
import numpy as np

arr = np.array([[1, 2, 3], [4, 5, 6]])
flattened = arr.flatten()
print("Flattened:", flattened)
print("Oiginal array:")
print(arr)
```
:::div{.callout}

**Tip !**

"flatten은 여러 층으로 쌓인 블록들을 모두 한 줄로 늘어놓는 거예요. ravel과 비슷하지만, flatten은 원래 블록 탑은 그대로 두고 새로운 한 줄 배열을 만들어요. 마치 블록 탑의 사진을 찍어서 그 사진 속의 블록들을 일렬로 늘어놓는 것과  같은 거죠."
:::


## 2.5 transpose

`transpose` 함수는 배열의 축을 바꿉니다. 2차원 배열의 경우, 행과 열을 서로 바꾸는 효과가 있습니다. 이 함수는 행렬 연산에서 매우 중요하며, 데이터의 구조를 변경하여 다른 관점에서 분석하거나 처리할 때 유용합니다. 예를 들어, 시계열 데이터에서 특성과 시간 축을 바꿀 때 사용할 수 있습니다.

```python-exec
import numpy as np

arr = np.array([[1, 2, 3], [4, 5, 6]])
transposed = arr.transpose()
print("Original array:")
print(arr)
print("Transposed array:")
print(transposed)
```
:::div{.callout}

**Tip !**

"transpose는 마치 표를 옆으로 눕히는 것과 같아요. 세로로 되어있던 것을 가로로, 가로로 되어있던 것을 세로로 바꾸는 거죠. 예를 들어, 학생들의 과목별 점수표가 있다면, 학생 이름이 행이고 과목이 열이었던 표를 뒤집어서 과목이 행이고 학생 이름이 열이 되게 만드는 거예요."
:::

# 3. 간단한 수학 연산

## 3.1 배열 간 연산

`+`, ``, ``, `/` 등의 연산자를 사용하여 NumPy 배열 간의 기본적인 산술 연산을 수행합니다. 이러한 연산은 요소별로 이루어지며, 같은 크기의 배열 간에 덧셈, 뺄셈, 곱셈, 나눗셈 등을 수행할 수 있습니다.

```python-exec
import numpy as np

arr1 = np.array([1, 2, 3])
arr2 = np.array([4, 5, 6])
print("덧셈:", arr1 + arr2)
print("곱셈:", arr1 * arr2)
```
:::div{.callout}

**Tip !**

“배열끼리 더하거나 곱하면, 각 자리의 숫자들끼리 연산이 돼요. 마치 두 줄로 서 있는 친구들이 서로 마주보고 더하기나 곱하기를 하는 것과 같아요.”
:::
## 3.2 브로드캐스팅

`브로드캐스팅`은 크기가 다른 배열 간에 연산을 수행할 수 있게 해주는 NumPy의 강력한 기능입니다. 이를 통해 작은 배열이나 스칼라 값을 큰 배열과 연산할 수 있으며, NumPy가 자동으로 작은 배열을 확장하여 연산을 수행합니다. 이는 코드를 간결하게 만들고 메모리 사용을 최적화하는 데 도움이 됩니다.

```python-exec
import numpy as np

arr1 = np.array([1, 2, 3])
scalar = 2
print("스칼라 곱셈:", arr1 * scalar)
```

```python-exec
import numpy as np

arr3 = np.array([[1, 2, 3], [4, 5, 6]])
arr4 = np.array([1, 2, 3])
print("2D + 1D 배열:")
print(arr3 + arr4)
```
:::div{.callout}

**Tip !**

“브로드캐스팅은 작은 배열이나 숫자 하나를 가지고 큰 배열과 연산할 수 있어요. 마치 작은 도장을 가지고 큰 종이에 찍는 것처럼, 작은 배열의 패턴이 큰 배열에 반복해서 적용되는 거죠.”

:::

# 4. 정리 
지금까지 NumPy의 기초적인 사용법과 함께 다음과 같은 주요 개념들을 살펴보았습니다

1. 배열 생성: `np.array`, `np.zeros`, `np.ones`, `np.arange`, `np.linspace`
2. 배열 조작: `reshape`, `astype`, `ravel`, `flatten`, `transpose`
3. 기본적인 수학 연산: `배열 간 연산`, `브로드캐스팅`