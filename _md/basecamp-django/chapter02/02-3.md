---
chapter: URL 처리와 템플릿 태그
title: URL
date: 2024-07-10
---
# 1. Django의 URL 패턴

## 1.1 URL 패턴이란?

웹사이트를 만들 때, URL은 사용자가 원하는 웹사이트를 찾아갈 수 있게 해주는 주소입니다. Django에서 URL 패턴은 이런 URL 주소를 체계적으로 관리하는 방법입니다.
URL 패턴은 웹사이트 운영에 필수적인 도구입니다. 웹사이트가 커질수록 페이지 수가 급증하는데, URL 패턴을 활용하면 이 많은 페이지를 질서 있게 정리할 수 있습니다. 사용자들은 잘 구성된 URL을 통해 페이지 내용을 직관적으로 파악할 수 있어, 웹사이트 탐색이 훨씬 수월해집니다. 또한, 개발자 입장에서도 URL 패턴은 큰 도움이 됩니다. 새로운 페이지를 추가하거나 기존 페이지 주소를 수정할 때 작업 속도가 빨라지고 오류 가능성도 줄어듭니다. 결과적으로 URL 패턴은 웹사이트의 관리, 사용성, 개발 모든 면에서 효율을 높이는 중요한 요소입니다.

## 1.2 URL 패턴 이해하기

URL의 구조를 이해하기 쉽게 우리가 일상에서 사용하는 집 주소와 비교해 봅시다. 
집 주소 `제주특별자치도 제주시 동광로 137`과 웹 주소 `"www.mysite.com/blog/137"`을 예로 들어 설명하겠습니다. 
`제주특별자치도`는 `"www.mysite.com"`에 해당하며 전체 웹사이트를 나타냅니다. 
`제주시 동광로`는 `"/blog"`와 유사하며 웹사이트의 특정 섹션을 의미합니다. 
마지막으로 "`137`"은 `"/137"`에 해당하며 특정 페이지나 게시글을 가리킵니다. 
이렇게 비교하면 URL 구조가 우리에게 익숙한 주소 체계와 비슷하다는 것을 알 수 있습니다.

# 2. Django에서의 URL 정의
Django에서는 `urls.py`라는 파일에 URL 패턴을 정의합니다. 이 파일은 마치 웹사이트의 "전화번호부" 같은 역할을 합니다.

```python
from django.urls import path
from main.views import index, blog_list, blog_details

urlpatterns = [
    path('', index),
    path('blog/', blog_list, name='blog_list'),
    path('blog/<int:pk>/', blog_details, name='blog_detail'),
]
```
`import`문은 필요한 함수와 뷰를 가져옵니다. `urlpatterns`는 URL 패턴을 담는 리스트이고, `path()` 함수는 URL 패턴을 정의하는 핵심적인 역할을 합니다.

## 2.1 path() 함수

path() 함수는 웹사이트의 주소와 그 주소에서 실행될 작업을 연결해줍니다.

::img{alt="" src="/images/basecamp-django/chapter02/03-URL.png"}

`route`는 URL 주소를 나타냅니다. 이 주소를 이용해서 웹사이트에 들어 갈 수 있습니다.
`view`는 route의 url 주소로 들어가면 실행되는 함수입니다. 
`name`은 URL에 붙이는 별명으로, 이를 통해 URL을 쉽게 참조할 수 있습니다. 
예를 들어, 웹페이지에서 이 URL을 사용할 때는 이렇게 쓸 수 있습니다.

```html
<a href="{% url 'blog_detail' 1 %}">첫 번째 블로그 글</a>
```
여기서 'blog_detail'은 URL의 별명이고, 1은 블로그 글 번호입니다.
위의 이미지에는 없지만, `kwargs`라는 파라미터가 있습니다. 딕셔너리 형태로 추가 정보를 전달하는 데 사용합니다.

path() 함수를 잘 사용하면, 웹사이트의 주소를 체계적으로 관리할 수 있고, 나중에 주소 구조를 바꿔야 할 때도 쉽게 수정할 수 있습니다.

자세한 내용은 아래 django 공식 문서를 참고해 주세요.
::a[Django 공식 문서- django.urls.path]{class='btn-link' href="https://docs.djangoproject.com/ko/5.0/ref/urls/#django.urls.path" target="\_blank"}

## 2.2 include() 함수
대형 Django 프로젝트에서 URL을 하나의 파일에서 모두 관리하면 여러 문제가 생깁니다. 이 파일이 너무 길어지고 복잡해져서 원하는 URL을 찾거나 고치는 일이 힘들어집니다. 여러 사람이 함께 작업할 때도 자주 충돌이 일어납니다. 이런 문제를 해결하려고 Django는 'include' 함수를 사용합니다. 이걸 사용하면 URL을 여러 부분으로 나눠서 관리할 수 있습니다. 다음은 include의 사용 예시 입니다.

```python
from django.urls import path, include
from main.views import index

urlpatterns = [
    path('', index),
    path('blog/', include('blog.urls')),
]
```
여기서 'blog.urls'는 블로그 부분의 URL을 따로 모아놓은 파일입니다.

```python
from django.urls import path
from . import views
 
urlpatterns = [
    path("", views.blog_list, name="blog_list"), 
    path("<int:pk>/", views.blog_detail, name="blog_detail"),
]
```
url을 분리할 때의 장점은 우선 각 부분의 URL을 따로 관리할 수 있어서 필요한 URL을 빠르게 찾고 고칠 수 있습니다.
또, 다른 프로젝트에서 특정 기능을 쓰고 싶을 때, URL 설정도 함께 가져올 수 있어 재사용하기 편리합니다.
많은 사람이 함께 작업을 할 때 사용하기에도 좋습니다. 각자 맡은 부분의 URL만 다루면 되니까 서로 방해될 일이 줄어듭니다.
마지막으로, 새 기능을 넣을 때 기존 URL 구조를 건드리지 않고 새 URL을 추가할 수 있다는 장점이 있습니다.