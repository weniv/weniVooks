---
chapter: Numpy 두 번째 걸음
title: NUMPY 배열 활용
date: 2024-07-08
---
## 배열 활용: 인덱싱, 슬라이싱, 연결 및 분할
### 1.1 인덱싱(indexing)

- 인덱싱은 배열의 특정 위치에 있는 요소에 접근하는 방법입니다. NumPy에서는 이 기능들을 사용하여 배열의 특정 요소나 부분집합을 효율적으로 선택할 수 있습니다.

```python-exec
arr = np.array([1, 2, 3, 4, 5])
result = arr[2]  # 인덱싱
print(result)

# 결과:
# 3
```

> *"인덱싱은 배열의 특정 칸을 골라내는 거예요. 여기서 arr[2]는 3번째 숫자인 3을 선택해요."*

### 1.2 슬라이싱 (slicing)

- 슬라이싱은 배열의 일부분을 추출하는 기술입니다.

```python-exec
arr = np.array([1, 2, 3, 4, 5])
result1 = arr[1:4]  # 기본 슬라이싱
result2 = arr[:3]   # 처음부터 3번째 요소까지
result3 = arr[2:]   # 3번째 요소부터 끝까지
result4 = arr[::2]  # 2칸씩 건너뛰며 선택

print(result1)
print(result2)
print(result3)
print(result4)

# 결과:
# [2 3 4]
# [1 2 3]
# [3 4 5]
# [1 3 5]
```

> *"슬라이싱은 배열의 일부분을 잘라내는 것과 같아요. arr[1:4]는 2번째부터 4번째까지의 숫자들인 2, 3, 4를 선택해요. 시작 인덱스, 끝 인덱스, 그리고 건너뛰기 값을 지정할 수 있어요.”*

### 1.3 고급 인덱싱 : boolean

- Boolean 인덱싱은 조건에 맞는 요소만 선택하는 방법입니다.

```python-exec
import numpy as np

arr = np.array([1, 2, 3, 4, 5])
result = arr[arr > 2]  # Boolean 인덱싱

print(result)

# 결과:
# [3 4 5]
```

> *"불린 인덱싱은 마치 체에 거르듯이 원하는 데이터만 골라내는 거예요. 여기서는 2점 이상인 조건만 골라냈어요. 이렇게 하면 조건의 학생들의 점수만 따로 모을 수 있고, 합격한 학생 수나 최고 점수 같은 정보도 쉽게 얻을 수 있어요.”*

### 1.4 고급 인덱싱 : fancy

- 팬시 인덱싱은 정수 배열을 사용하여 여러 인덱스의 요소를 동시에 선택하는 방법입니다.

```python-exec
import numpy as np

arr = np.array([1, 2, 3, 4, 5])
result = arr[[1, 3, 4]]  # 팬시 인덱싱

print(result)

#결과:
#[2 4 5]
```

> *"팬시 인덱싱은 '이 위치에 있는 것들만 줘'라고 하는 거예요. 두 번째(2), 네 번째(4), 다섯 번째(5) 숫자를 골라냈죠.”*

### 1.5 다차원 인덱싱 

- 다차원 인덱싱은 다차원 배열에서 특정요소나 부분 배열을 선택하는 방법입니다.

```python-exec

# 2차원 배열 생성
arr_2d = np.array([[1, 2, 3],
                   [4, 5, 6],
                   [7, 8, 9]])

# 특정 요소 선택
print(arr_2d[1, 2])  # 2행 3열의 요소

# 행 전체 선택
print(arr_2d[1])     # 2행 전체

# 열 전체 선택
print(arr_2d[:, 1])  # 2열 전체

# 부분 배열 선택
print(arr_2d[0:2, 1:3])  # 1~2행, 2~3열의 부분 배열

# 결과:
# 6
# [4 5 6]
# [2 5 8]
# [[2 3]
#  [5 6]]
```

> *"다차원 인덱싱은 마치 격자 모양의 큰 상자에서 원하는 칸이나 구역을 골라내는 거예요. 행과 열을 지정해서 특정 위치의 숫자를 뽑아낼 수도 있고, 여러 행이나 열을 한 번에 선택할 수도 있어요. 2차원 표에서 원하는 부분만 잘라내는 것처럼 생각하면 돼요.”*

### 2. 배열 연결

#### 2.1 concatnate 함수

- 배열 연결은 두 개 이상의 배열을 하나로 합치는 과정입니다. concatenate 함수는 튜플이나 배열의 리스트를 받아 지정된 축을 따라 배열들을 연결합니다.

```python-exec
import numpy as np

a = np.array([1, 2, 3])
b = np.array([4, 5, 6])
result = np.concatenate((a, b))

print(result)

# 결과:
# [1 2 3 4 5 6]
```

> *"concatenate는 배열들을 끝과 끝을 이어 붙여요. 마치 기차를 연결하는 것처럼, 첫 번째 배열 뒤에 두 번째 배열이 이어집니다.”*

#### 2.2 vstack 함수

- vstack 함수는 수직(vertical)으로 배열들을 쌓아 연결합니다. 이는 2D 배열에서 행을 추가하는 것과 같습니다.

```python-exec
import numpy as np

a = np.array([1, 2, 3])
b = np.array([4, 5, 6])
result = np.vstack((a, b))

print(result)

# 결과:
# [[1 2 3]
#  [4 5 6]]
```

> *"vstack은 배열들을 수직으로 쌓아요. 마치 책을 쌓는 것처럼, 첫 번째 배열 위에 두 번째 배열이 올라갑니다.”*

#### 2.3 hstack 함수

- hstack 함수는 수평(horizontal)으로 배열들을 옆으로 연결합니다. 이는 2D 배열에서 열을 추가하는 것과 같습니다.

```python-exec
import numpy as np

a = np.array([1, 2, 3])
b = np.array([4, 5, 6])
result = np.hstack((a, b))

print(result)

# 결과:
# [1 2 3 4 5 6]
```

> *"vstack은 배열들을 수직으로 쌓아요. 마치 책을 쌓는 것처럼, 첫 번째 배열 위에 두 번째 배열이 올라갑니다.”*

#### 2.4 dstack 함수

- dstack 함수는 배열들을 깊이 방향으로 쌓습니다. 이는 3D 배열에서 새로운 '깊이' 차원을 추가하는 것과 같습니다.
```python-exec
import numpy as np

a = np.array([1, 2, 3])
b = np.array([4, 5, 6])
result = np.dstack((a, b))

print(result)

# 결과:
# [[[1 4]
#   [2 5]
#   [3 6]]]
```

> *"dstack은 배열들을 깊이 방향으로 쌓아요. 마치 여러 장의 종이를 겹쳐 놓는 것처럼, 첫 번째 배열 뒤에 두 번째 배열이 붙습니다. 2D 이미지 여러 장을 쌓아 3D 이미지를 만드는 것과 비슷해요.”*

#### 2.5 column_stack 함수

- column_stack 함수는 1차원 배열들을 2차원 배열의 열로 쌓습니다. 이는 여러 개의 1차원 배열을 하나의 2차원 배열로 만들 때 유용합니다.
```python-exec
import numpy as np

a = np.array([1, 2, 3])
b = np.array([4, 5, 6])
result = np.column_stack((a, b))

print(result)

# 결과:
# [[1 4]
#  [2 5]
#  [3 6]]
```

> *"column_stack은 1차원 배열들을 나란히 세워서 2차원 표를 만드는 거예요. 마치 여러 명의 학생 점수를 각각의 과목 열로 정리하는 것과 같아요. 각 1차원 배열이 새로운 2차원 배열의 한 열이 되는 거죠.”*



### 3. 배열 분할

#### 3.1 split 함수

- split 함수는 배열을 여러 개의 하위 배열로 균등하게 나눕니다. 분할 지점이나 분할할 배열의 수를 지정할 수 있습니다.

```python-exec
import numpy as np

arr = np.array([1, 2, 3, 4, 5, 6])
result = np.split(arr, 3)

print(result)

# 결과:
# [array([1, 2]), array([3, 4]), array([5, 6])]
```

> "split은 배열을 똑같은 크기로 나눠요. 여기서는 6개의 요소를 3등분해서 각각 2개씩 들어있는 3개의 배열이 만들어졌어요. 마치 케이크를 똑같은 크기로 자르는 것과 비슷해요.”

#### 3.2 array split 함수

- array_split 함수는 split 함수와 유사하지만, 균등하게 나눌 수 없는 경우에도 사용할 수 있습니다. 이 경우 일부 하위 배열은 다른 배열보다 하나 더 적은 요소를 가질 수 있습니다.

```python-exec
import numpy as np

arr = np.array([1, 2, 3, 4, 5, 6])
result = np.array_split(arr, 4)

print(result)

# 결과:
# [array([1, 2]), array([3, 4]), array([5]), array([6])]
```

> *"array_split은 배열을 가능한 한 균등하게 나누지만, 완벽히 같은 크기로 나누기 어려울 때 사용해요. 여기서는 6개의 요소를 4등분하려다 보니, 처음 두 배열은 2개씩, 나머지 두 배열은 1개씩 들어있어요. 마치 케이크를 비슷한 크기로 나누되, 완벽히 같지 않아도 괜찮은 상황과 비슷해요.”*

### 4. 기본 함수 사용

#### 4.1 통계 함수

NumPy는 평균, 중앙값, 표준편차 등 다양한 통계 함수를 제공합니다. 이러한 함수들은 대량의 수치 데이터를 빠르고 효율적으로 분석할 수 있게 해줍니다.

```python-exec
import numpy as np

arr = np.array([1, 2, 3, 4, 5])
sum_result = np.sum(arr)         # 합계
mean_result = np.mean(arr)       # 평균
std_result = np.std(arr)         # 표준편차
var_result = np.var(arr)         # 분산

print("합계:", sum_result)
print("평균:", mean_result)
print("표준편차:", std_result)
print("분산:", var_result)

# 결과:
# 합계: 15
# 평균: 3.0
# 표준편차: 1.4142135623730951
# 분산: 2.0
```

> *"통계 함수는 숫자들의 특징을 알려주는 도구예요. 합계는 모든 숫자를 더한 값이고, 평균은 숫자들의 대표값이에요. 표준편차는 숫자들이 평균으로부터 얼마나 퍼져있는지, 분산은 그 퍼짐 정도를 제곱한 값이에요. 이 도구들을 사용하면 데이터의 전체적인 모습을 쉽게 파악할 수 있어요."*

#### 4.2 수학 함수

NumPy는 삼각함수,

 지수함수, 로그함수 등 다양한 수학 함수를 제공합니다. 이러한 함수들은 배열의 각 요소에 대해 효율적으로 연산을 수행합니다.

```python-exec
import numpy as np

angles = np.array([0, 30, 45, 60, 90])
radians = np.deg2rad(angles)
sin_result = np.sin(radians)
cos_result = np.cos(radians)
exp_result = np.exp(np.array([1, 2, 3]))
log_result = np.log(np.array([1, 10, 100]))

print("사인:", sin_result)
print("코사인:", cos_result)
print("지수함수:", exp_result)
print("로그함수:", log_result)

# 결과:
# 사인: [0.         0.5        0.70710678 0.8660254  1.        ]
# 코사인: [1.00000000e+00 8.66025404e-01 7.07106781e-01 5.00000000e-01 6.12323400e-17]
# 지수함수: [ 2.71828183  7.3890561  20.08553692]
# 로그함수: [0.         2.30258509 4.60517019]
```

> *"수학 함수는 복잡한 계산을 쉽게 해주는 마법 같은 도구예요. 삼각함수는 각도와 관련된 값을 계산해요. 여기서는 0도부터 90도까지의 사인값과 코사인값을 계산했어요. 지수함수는 e의 거듭제곱을 계산하고, 로그함수는 그 반대 개념이에요. 이런 함수들은 과학 계산이나 데이터 분석에서 매우 중요하게 사용돼요.”*

