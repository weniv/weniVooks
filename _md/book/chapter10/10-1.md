---
chapter: 비동기 프로그래밍
title: 비동기 프로그래밍과 Promise
date: 2024-04-04
---

# 1. 동기와 비동기

```jsx
// 동기 - 순차적
// 호준 : 로봇 청소기 돌리고(10시)
// 호준 : 빨래하고(11시)
// 호준 : 설거지하고(12시)
// 호준 : 요리한다(1시)

// 비동기 - 비순차적
// 호준 : 로봇 청소기 돌리면서(10시)
// 호준 : 빨래도 돌리고(10시)
// 호준 : 설거지하고(10시)
// 호준 : 요리할려고 물도 끓이고(10시)
const one = '1';
const two = '2';
const three = '3';

console.log(one);
setTimeout(() => {
  console.log(two);
}, 1000);
console.log(three);
```

# 2. Promise

- promise(약속하다)는 콜백함수를 다시 부르겠다는 뜻(pending(대기)을 거쳐)
- 노드를 하실 것이라면 반드시 알아야 함!
- promise의 상태
  - pending(대기상태) - resolve(해결) - fulfilled(성공)
  - pending(대기상태) - reject(거부) - rejected(실패)

```jsx
let p = new Promise(function (resolve, reject) {
  // 실행코드
});

// resolve(value) — 작업이 성공적으로 마무리되면 호출, 결과는 value에 담김
// reject(error) — 작업이 실패시 호출, error는 error에 담김
```

```jsx
// 쉬운 예제
let p = new Promise(function (resolve, reject) {
  resolve('hello world');
})
  .then((메시지) => {
    alert(메시지);
    return 메시지.split(' ')[0];
  })
  .then((메시지) => {
    alert(메시지);
    return 메시지[0];
  })
  .then((메시지) => {
    alert(메시지);
  });

let p = new Promise(function (resolve, reject) {
  // resolve('hello world');
  reject('hello world');
})
  .then((메시지) => {
    alert(메시지);
    return 메시지.split(' ')[0];
  })
  .then((메시지) => {
    alert(메시지);
    return 메시지[0];
  })
  .then((메시지) => {
    alert(메시지);
  })
  .catch((메시지) => {
    alert('catch 실행!! :' + 메시지);
  });

let p = new Promise(function (resolve, reject) {
  // resolve('hello world');
  reject('hello world');
})
  .then((메시지) => {
    alert(메시지);
    throw Error('에러 발생!');
    return 메시지.split(' ')[0];
  })
  .then((메시지) => {
    alert(메시지);
    return 메시지[0];
  })
  .then((메시지) => {
    alert(메시지);
  })
  .catch((메시지) => {
    alert('catch 실행!! :' + 메시지);
  });

let p = new Promise(function (resolve, reject) {
  // resolve('hello world');
  // reject('hello world');
  resolve('hello world');
})
  .then((메시지) => {
    alert(메시지);
    throw Error('에러 발생!');
    return 메시지.split(' ')[0];
  })
  .then((메시지) => {
    alert(메시지);
    return 메시지[0];
  })
  .then((메시지) => {
    alert(메시지);
  })
  .catch((메시지) => {
    alert('catch 실행!! :' + 메시지);
  });
```

- console.log로 promise를 찍어보세요. 비동기가 핵심입니다.
- 성공과 실패만 합니다. 중립은 없습니다. 대기(pending)는 있습니다.

```jsx
let p = new Promise(function (resolve, reject) {
  setTimeout(() => resolve('끝남!'), 3000);
});
console.log('hello world');
console.log(p);
//3초 후 다시 실행
console.log(p);
```
