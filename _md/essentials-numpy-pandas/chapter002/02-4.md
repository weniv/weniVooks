---
chapter: NumPy :두 번째 걸음
title: NumPy 다양한 함수
date: 2024-07-09
---
# 1. 통계함수
![DALLE](/images/basecamp-numpy-pandas/chapter02/통계함수.png '통계함수')

## 1.1 평균, 분산, 표준편차

NumPy는 평균(np.mean()), 분산(np.var()), 표준편차(np.std()) 등 다양한 통계 함수를 제공합니다. 이러한 함수들은 대량의 수치 데이터를 빠르고 효율적으로 분석할 수 있게 해줍니다. 이 함수들은 숫자들의 특징을 알려주는 도구와 같습니다. 합계(np.sum())는 모든 숫자를 더한 값이고, 평균은 숫자들의 대표값입니다. 표준편차는 숫자들이 평균으로부터 얼마나 퍼져있는지, 분산은 그 퍼짐 정도를 제곱한 값입니다. 이 도구들을 사용하면 데이터의 전체적인 모습을 쉽게 파악할 수 있습니다.

```python-exec
import numpy as np

arr = np.array([1, 2, 3, 4, 5])

print("합계:", np.sum(arr))# 합계
print("평균:", np.mean(arr))# 평균
print("분산:", np.var(arr))# 분산
print("표준편차:", np.std(arr))# 표준편차
```


## 1.2 중앙값, 최빈값

NumPy는 중앙값(np.median()), 최빈값(np.argmax()) 등의 함수를 제공합니다. 중앙값은 숫자들을 순서대로 나열했을 때 가운데 있는 값이고, 최빈값은 가장 자주 나타나는 값입니다. 이 함수들을 사용하면 데이터의 분포와 중심 경향을 파악할 수 있습니다.

```python-exec
import numpy as np

arr = np.array([1, 2, 2, 3, 3, 3, 4, 5])
print("중앙값:", np.median(arr))  # 중앙값

# 최빈값 계산
counts = np.bincount(arr)
mode = np.argmax(counts)
print("최빈값:", mode)
```

# 2. 수학 함수
![DALLE](/images/basecamp-numpy-pandas/chapter02/수학함수ver2.png '수학함수')

## 2.1 삼각함수

NumPy는 사인(np.sin()), 코사인(np.cos()), 탄젠트(np.tan()) 등의 삼각함수를 제공합니다. 이 함수들은 각도와 관련된 값을 계산하며, 물리학, 공학, 그리고 컴퓨터 그래픽스 등 다양한 분야에서 사용됩니다.

```python-exec
import numpy as np

angles = np.array([0, 30, 45, 60, 90])
radians = np.deg2rad(angles)
print("사인:", np.sin(radians))
print("코사인:", np.cos(radians))
print("탄젠트:", np.tan(radians))
```

## 2.2 지수함수, 로그함수

NumPy는 지수함수(np.exp()), 로그함수(np.log()) 등 다양한 수학 함수를 제공합니다. 이러한 함수들은 배열의 각 요소에 대해 효율적으로 연산을 수행합니다. 지수함수는 e의 거듭제곱을 계산하고, 로그함수는 그 반대 개념입니다. 이런 함수들은 과학 계산이나 데이터 분석에서 매우 중요하게 사용됩니다.

```python-exec
import numpy as np

angles = np.array([0, 30, 45, 60, 90])
radians = np.deg2rad(angles)
print("지수함수:", np.exp(np.array([1, 2, 3])))
print("로그함수:", np.log(np.array([1, 10, 100])))
```

## 2.3 제곱근, 거듭제곱

NumPy는 제곱근(np.sqrt())과 거듭제곱(np.power())을 계산하는 함수도 제공합니다. 제곱근은 어떤 수를 제곱했을 때 나오는 값을 거꾸로 구하는 것이고, 거듭제곱은 같은 수를 여러 번 곱하는 것입니다. 이런 함수들은 과학적 계산이나 데이터 스케일링에서 자주 사용됩니다.

```python-exec
import numpy as np

numbers = np.array([1, 4, 9, 16, 25])
print("제곱근:", np.sqrt(numbers))
print("거듭제곱 (2제곱):", np.power(numbers, 2))
print("거듭제곱 (3제곱):", np.power(numbers, 3))
```

# 3. 유틸리티 함수

## 3.1 np.where

np.where()는 주어진 조건을 만족하는 배열 요소의 인덱스를 찾아 반환하는 함수입니다. 이 함수는 마치 도서관에서 특정 주제의 책을 찾는 사서와 같습니다. 방대한 데이터 중에서 원하는 조건에 맞는 요소의 위치를 알려주어, 데이터 분석에서 특정 조건을 만족하는 데이터를 빠르게 찾아내는 데 매우 유용합니다.

```python-exec
import numpy as np

arr = np.array([1, 2, 3, 4, 5])
indices = np.where(arr > 3)
print("3보다 큰 요소의 인덱스:", indices)
```

## 3.2 np.unique

np.unique()는 배열에서 중복된 값을 제거하고, 유일한 값들만을 정렬된 상태로 반환하는 함수입니다. 이는 마치 수집가가 우표 컬렉션에서 중복된 우표를 제거하는 것과 비슷합니다. 데이터의 고유한 특성을 파악하거나, 범주형 데이터를 처리할 때 특히 유용합니다.

```python-exec
import numpy as np

arr = np.array([1, 2, 2, 3, 3, 3, 4, 4, 5])
unique_values = np.unique(arr)
print("고유한 값:", unique_values)
```

## 3.3 np.sort

np.sort()는 배열의 요소를 오름차순으로 정렬하는 함수입니다. 이는 마치 도서관에서 책을 번호순으로 정리하는 것과 같습니다. 정렬된 데이터는 원하는 정보를 빠르게 찾거나 전체적인 구조를 파악하는 데 도움을 줍니다.

```python-exec
import numpy as np

arr = np.array([3, 1, 4, 1, 5, 9, 2, 6])
sorted_arr = np.sort(arr)
print("정렬된 배열:", sorted_arr)
```

## 3.4 np.argmax / np.argmin

np.argmax()와 np.argmin()은 각각 배열에서 최대값과 최소값의 인덱스를 반환하는 함수입니다. 이는 마치 산에서 가장 높은 봉우리와 가장 낮은 골짜기를 찾는 것과 같습니다. 데이터에서 극값을 찾고 그 위치를 알아내는 데 매우 유용합니다.

```python-exec
import numpy as np

arr = np.array([3, 1, 4, 1, 5, 9, 2, 6])
max_index = np.argmax(arr)
min_index = np.argmin(arr)
print("최대값의 인덱스:", max_index)
print("최소값의 인덱스:", min_index)
```
## 3.5 np.reshape

np.reshape()는 배열의 형상(shape)을 변경하는 함수입니다. 이는 마치 레고 블록을 재조립하는 것과 같습니다. 같은 데이터로 다양한 구조를 만들 수 있어, 데이터의 차원을 재구성하여 다양한 분석이나 처리에 적합한 형태로 만드는 데 사용됩니다.

```python-exec
import numpy as np

arr = np.array([1, 2, 3, 4, 5, 6])
reshaped_arr = np.reshape(arr, (2, 3))
print("재구성된 배열:")
print(reshaped_arr)
```
## 3.6 np.clip

np.clip()은 배열의 값들을 특정 범위 내로 제한하는 함수입니다. 이는 마치 온도 조절기와 같아서, 데이터 값을 원하는 범위 내로 자동으로 조절해줍니다. 데이터 정규화나 이상치 처리에 매우 유용합니다.

```python-exec
import numpy as np

arr = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
clipped = np.clip(arr, 3, 8)
print("원본 배열:", arr)
print("클리핑된 배열:", clipped)
```

## 3.7 np.vectorize

np.vectorize()는 일반 Python 함수를 NumPy 배열에 적용 가능한 벡터화된 함수로 변환합니다. 이는 마치 공장의 자동화 시스템과 같아서, 일반 함수를 NumPy 배열 전체에 효율적으로 적용할 수 있게 해줍니다.

```python-exec
import numpy as np

def add_and_square(x, y):
    return (x + y) ** 2

vectorized_func = np.vectorize(add_and_square)

a = np.array([1, 2, 3])
b = np.array([4, 5, 6])

result = vectorized_func(a, b)
print("벡터화된 함수 결과:", result)
```

## 3.8 np.random.choice

np.random.choice()는 주어진 1차원 배열에서 무작위로 샘플을 추출하는 함수입니다. 이는 마치 추첨 상자와 같아서, 여러 데이터 중 일부를 무작위로 선택할 수 있습니다. 더 나아가, 각 공에 크기나 무게(확률)를 다르게 줄 수도 있어요. 확률적 시뮬레이션, 랜덤 샘플링, 또는 데이터 분석에서 서브셋을 선택할 때 매우 유용합니다.

```python-exec
import numpy as np

arr = np.array([1, 2, 3, 4, 5])
random_sample = np.random.choice(arr, size=3, replace=False)
print("무작위 샘플:", random_sample)
```

## 3.9 np.random.rand

np.random.rand()는 0과 1 사이의 균일 분포에서 무작위 숫자를 생성하는 함수입니다. 이는 마치 0부터 1 사이의 모든 실수를 똑같은 확률로 던질 수 있는 주사위와 같습니다. 시뮬레이션, 통계적 샘플링, 초기 가중치 설정 등 다양한 상황에서 사용됩니다.

```python-exec
import numpy as np
# 1차원 배열 생성
random_1d = np.random.rand(5)
print("1차원 난수 배열:", random_1d)

# 2차원 배열 생성
random_2d = np.random.rand(3, 2)
print("2차원 난수 배열:",)
print( random_2d)
```


## 3.10 np.load / np.save

np.save()와 np.load()는 각각 NumPy 배열을 바이너리 형식으로 저장하고 불러오는 함수입니다. 이는 마치 디지털 타임캡슐과 같아서, 현재의 데이터 상태를 그대로 '냉동 보존'했다가, 나중에 완전히 동일한 상태로 '해동'할 수 있게 해줍니다. 이 함수들은 NumPy의 고유 .npy 형식을 사용하여 데이터의 구조와 데이터 타입을 그대로 보존합니다.

```python-exec
import numpy as np
# 데이터 저장하기
data = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])
np.save('data.npy', data)

# 데이터 불러오기
loaded_data = np.load('data.npy')
print("불러온 데이터:", loaded_data)
```

