---
chapter: 3. SQL 7원칙
title: 2. SQL 2원칙 - From 내가 분석할 테이블 가져오기
date: 2024-05-10
---

# 수업목표

- 내가 분석하고자 하는 데이터를 From문을 활용해 가져올수 있습니다.
- 데이터를 SQL에서 출력할 수 있습니다. (Select 구문 사용)
- 데이터 갯수가 몇개인지 파악할수 있습니다. (Count 구문 사용)

# 개요

업무지시에 대한 이해가 완료되었다면 이제 SQL로 분석을 수행할 때 입니다. 하지만 아직 어떻게 해야할지 막막하실텐데요. SQL에서 가장 기본이 되는 `Select * from 테이블명` 을 배워보겠습니다.

# 실습 진행 설명

실습은 다음과 같이 5단계로 진행됩니다. 

1. 예상 업무 지침 내려보기
2. 머릿속으로 미리 결과를 예상해보기
3. 그림을 보고 어떻게 해야할지 정리하기
4. 코드로 구현해보기
5. 결과 확인하기

이러한 실습 구성은 여러분들이 실무에서 업무 지시를 받는 순간부터 SQL로 결과를 확인하는 순간까지의 전 과정을 다루는 효과를 얻게 됩니다.

# 내가 원하는 테이블을 가져오는 - From

SQL에서 가장 먼저 알아야하는 원칙은 `**From**` 입니다. 왜냐하면 `**From**` 은 테이블을 불러오는 중요한 구문이기 때문입니다. 

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/579fe283-28aa-489d-ae65-d683304becfc/a48b10bc-0ad6-4ddc-b0cc-5a8dcbe7005f/Untitled.png)

위에서 보여드린 Weniv SQL의 데이터베이스 화면입니다.

대부분의 회사에는 다음과 같이 데이터베이스에 데이터가 차곡차곡 쌓여있습니다. 이 데이터베이스에서 내가 원하는 테이블만 선택하는 구문이 바로 `**From**` 입니다. 그러면 실습을 진행해보겠습니다.

## 1) 내가 원하는 테이블 선택하기

처음으로 원하는 테이블을 선택하는 방법을 실습하겠습니다. 

### 1.1 예상업무지침 부여

<aside>
💡 김대리 고객 테이블에서 오늘까지 전체 주문수가 몇 건인지 집계해서 보고해

</aside>

라는 첫 업무를 부여받으셨습니다. 어떻게 해야할까요? 

### 1.2 머릿속으로 미리 결과를 예상해보기

전체주문수가 몇건인지 집계를 해야하니 모든 건수를 집계 해야겠죠? Weniv SQL에서 Sample Data를 보시면 전체 데이터 갯수를 알 수 있습니다. 그러면 데이터가 24개가 있는 것을 알 수 있습니다.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/579fe283-28aa-489d-ae65-d683304becfc/0919f74c-7c92-4601-9090-a3926737fd0d/Untitled.png)

SQL을 처음 배우는 단계이므로 조금 더 자세하게 다뤄보도록 하겠습니다. `**From**`은 데이터베이스에서 테이블을 불러오는 구문으로, 그 데이터가 어떻게 생겼는지를 살펴보는 것부터 데이터 분석이 시작됩니다.

그러므로 데이터를 가져오기 전에 해당하는 테이블을 확인해야 합니다. 전체 주문 건수를 파악해야 하니, ‘주문’ 테이블을 확인해 보아야겠죠?

주문 테이블은 어떻게 생겼을까요? 주문테이블은 다음과 같습니다. 앞으로 주문테이블로 수업을 진행할 예정이니 잘 파악해주세요.

[주문 테이블 예시]

24개의 행(고객 정보)와 8개의 열로 되어있는 24*8구조의 테이블입니다.

| 주문ID | 고객ID | 주문날짜 | 주문연도 | 주문월 | 주문일 | 배송주소 | 총주문금액 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 1001 | 301 | 2023-11-24 | 2023 | 11 | 24 | 서울특별시 강남구 한류로 123 | 1697000 |
| 1002 | 301 | 2023-12-08 | 2023 | 12 | 08 | 경상남도 거제시 바닷소리로 1616 | 69900 |
| … | … | … | … | … | … | … | … |
| 1024 | 302 | 2024-02-28 | 2024 | 02 | 28 | 부산광역시 해운대구 해맞이로 456 | 129000 |

그러면 예상되는 결과는 다음과 같겠네요? 

| 전체 주문 수 | 24건 |
| --- | --- |

이렇게 목표가 생기면 이제 실제로 구현할 준비를 해나가면 됩니다. 확인해야할 테이블의 구성을 확인하였으니, 다음으로 넘어가겠습니다. 다음 실습에서는 이렇게 까지 테이블을 살펴보지는 않습니다. 여러분들이 분석에 어려움을 겪는다면 이 과정을 꼭 거쳐주세요.

### 1.3 그림을 보고 어떻게 해야할지 정리하기

여러분들이 SQL을 다루기 전에 SQL이 어떻게 수행되는지를 그림을 보고 연상을 할 수 있도록 도와드립니다. 단계별로 잘 따라와주세요.

Step 1. 아무것도 수행하지 않은 상태입니다.

![[SQL]2원칙_From_1.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/579fe283-28aa-489d-ae65-d683304becfc/caabfafd-5f78-4f57-b789-5352aecfb793/SQL2%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8E%E1%85%B5%E1%86%A8_From_1.png)

Step 2. from을 입력하는 순간 데이터베이스 안에 있는 테이블들이 선택될 준비를 하게 됩니다.

![[SQL]2원칙_From_2.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/579fe283-28aa-489d-ae65-d683304becfc/23b4703f-97ab-45f9-91cc-2a6e61e621c7/SQL2%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8E%E1%85%B5%E1%86%A8_From_2.png)

Step 3. from 다음 한칸을 띄고 원하는 테이블을 입력하면 데이터베이스에서 해당하는 테이블이 선택이 됩니다. ‘주문’ 테이블을 선택해보겠습니다.

![[SQL]2원칙_From_3.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/579fe283-28aa-489d-ae65-d683304becfc/254a81a0-d312-4f80-9c14-7244fe1ffcdd/SQL2%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8E%E1%85%B5%E1%86%A8_From_3.png)

### 1.4 코드로 구현해보기

[코드 확인하기]

from 다음에 한칸을 띄고, 원하는 테이블 이름을 입력하시면 됩니다. from은 내가 분석할 테이블을 준비하는 것이라는 것을 기억하세요

```html
from 주문
```

### 1.5 결과 확인하기

자 이제 실행해볼까요? 

`Error: near "FROM": syntax error`

첫 시작부터 에러가 났네요. 그림에서도 제가 결과창에 아무것도 입력하지 않은 이유가 있습니다. 이게 어떻게 된 일일까요? SQL에서는 `**From**` 만 가지고는 아무것도 수행할 수가 없기 때문입니다. 선택된 테이블을 출력 하기 위해서는 SQL 구문이 한가지 더 필요합니다.

바로 `**Select**`입니다. Select에 대해서는 다음 챕터에서 자세히 설명할 테니, 이번 챕터에서는 필요한 데이터를 불러오는 데에 필요한 간단한 구문만 익혀보겠습니다.

## 2. 선택한 테이블 모두 출력하기

처음부터 다시 시작해봅시다. 사실 From은 Select라는 구문과 짝을 지어야합니다.

### 2.1 예상업무지침 부여

<aside>
💡 김대리 고객 테이블에서 오늘까지 전체 주문수가 몇 건인지 집계해서 보고해

</aside>

### 2.2 머릿속으로 미리 결과를 예상해보기

| 전체 주문 수 | 24건 |
| --- | --- |

### 2.3 그림을 보고 어떻게 해야할지 정리하기

**`From` 다음에 한칸을 띄고, 원하는 테이블 이름을 입력했습니다.**

이어서 SQL에 `Select` 구문을 추가했을때 어떻게 되는지 볼까요?

Step 4. Select라는 구문을 입력하면 테이블이 등장하게 됩니다. 그리고 Select도 From처럼 무언가를 입력해야합니다.

![[SQL]2원칙_From_4.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/579fe283-28aa-489d-ae65-d683304becfc/4ee09727-a7f6-4d89-a84b-39ccebc44f55/SQL2%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8E%E1%85%B5%E1%86%A8_From_4.png)

Step 5. Select 다음에 한칸을 띄고 *(별표)를 입력하고 Run SQL을 누르시면, 결과창에 결과가 출력되게 됩니다. *(별표)는 SQL에서 모든 ‘열’자료를 가져오는 기능을 가지고 있습니다.

![[SQL]2원칙_From_5.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/579fe283-28aa-489d-ae65-d683304becfc/9d27b01e-6503-4475-8c09-e2662843fcc1/SQL2%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8E%E1%85%B5%E1%86%A8_From_5.png)

이로써 첫번째 출력결과인 주문테이블의 모든 자료를 출력해보았습니다.

어떠신가요? 지금까지의 내용을 정리 하면 다음과 같습니다.

1. 어떤 테이블을 선택할지 파악한다.
2. from을 입력한다.
3. from 다음 한칸을 띄고 원하는 테이블을 입력한다.
4. select를 입력한다.
5. select 다음 한칸을 띄고 모든 자료를 출력하는 *을 입력한다.

### 2.4 코드로 구현해보기

select는 from보다 무조건 전에 나와야합니다. 기억해주세요. select 다음에 사용되는 *는 모든 열 자료를 가져오는 구문으로 결국 테이블에 있는 모든 자료를 가져오라는 구문과 동일합니다.

```html
select * from 주문
```

### 2.5 결과 확인하기

자 이제 실행해볼까요? 실행해보면 주문이라는 테이블과 같은 모양의 결과가 나오는 것을 볼 수 있습니다. 여러분은 SQL의 가장 기본 구문인 `Select * from 테이블명` 을 수행하셨습니다. 

| 주문ID | 고객ID | 주문날짜 | 주문연도 | 주문월 | 주문일 | 배송주소 | 총주문금액 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 1001 | 301 | 2023-11-24 | 2023 | 11 | 24 | 서울특별시 강남구 한류로 123 | 1697000 |
| 1002 | 301 | 2023-12-08 | 2023 | 12 | 08 | 경상남도 거제시 바닷소리로 1616 | 69900 |
| 1003 | 305 | 2023-12-14 | 2023 | 12 | 14 | 광주광역시 서구 무궁화로 202 | 244300 |
| 1004 | 310 | 2023-12-27 | 2023 | 12 | 27 | 강원도 강릉시 동해대로 707 | 65000 |

# 3. 선택한 데이터의 갯수 파악하기

우리의 업무지침이 어떤건지 기억하시나요? 다시 한번 살펴보겠습니다. 우리가 해야할것은 전체고객이 몇명인지 집계해야 하는 것입니다. 어떻게 해야할까요?

두 가지 방법이 있습니다.

먼저, Result 결과창을 보는 것입니다. Result 결과창을 보면 행 데이터의 수가 24개로 주문건수가 모두 24건이라는 것을 파악할 수 있습니다.

그러나 데이터가 엄청나게 많은 경우에는 일일이 셀수가 없습니다.

그렇기에  데이터 양이 많은 경우에는 두 번째 방법을 활용합니다. ‘count’라는 간단한 구문을 추가해 선택한 데이터의 갯수를 파악할 수 있습니다. 

### 3.1 예상업무지침 부여

<aside>
💡 김대리 고객 테이블에서 오늘까지 전체 주문수가 **몇 건**인지 집계해서 보고해

</aside>

### 3.2 머릿속으로 미리 결과를 예상해보기

그럼 데이터의 갯수를 아래와 같이 어떻게 셀수 있을까요?

| 전체 주문 수 | 24건 |
| --- | --- |

### 2.3 그림을 보고 어떻게 해야할지 정리하기

갯수를 세는 방법은 바로 count 라는 구문을 통해 가능합니다. 영어로도 count는 갯수를 세는 용어이죠? count는 괄호를 같이 써줘야하며, 괄호 안에는 * 또는 열자료가 들어가야합니다.

아까 `Select * from 주문` 에서 -> `Select count(*) from 주문` 로 변경을 하면 되는데요 *를 count()로 감싸면 됩니다.

![[SQL]2원칙_From_6.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/579fe283-28aa-489d-ae65-d683304becfc/cac3d93f-ef14-4362-85b6-de3d43464e8b/SQL2%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8E%E1%85%B5%E1%86%A8_From_6.png)

count 구문을 함께 쓰면 결과창에 전체 데이터의 갯수가 출력됩니다.

count 구문을 쓰기 이전과 비교해 봅시다. `Select * from 주문` 을 썼을 때는 아래처럼 결과 전체값이 보였습니다. 

![[SQL]2원칙_From_5.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/579fe283-28aa-489d-ae65-d683304becfc/c7aa3ac5-698d-47e0-aa7e-76b49bec2f19/SQL2%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8E%E1%85%B5%E1%86%A8_From_5.png)

이로써 우리는 하나의 업무를 끝내게 되었습니다. 어떠신가요? 그림을 따라하며 업무적인 내용을 하나하나 수행하다보니, 지시된 결과값을 얻었죠? 실무에서도 차근차근 위의 스텝을 따라하시면 업무를 끝내고 성취감도 얻으실 거예요.

# Tip. 원하는 만큼 출력하고 싶을때

데이터가 너무 큰 경우에는 Select * from 테이블명 을 수행할때 많은 시간이 걸릴 수 있습니다. 왜냐면 전체 데이터를 다 가져오기 때문이죠. 

이럴때 사용하는 방법이 있습니다. 바로 Limit 입니다. Limit는 데이터가 아무리 크더라도 제한된 숫자를 지정해두면 그만큼만 빠르게 출력하는 기능을 가지고 있습니다.

사용하는 방법은 가장 기본적인 구문 `Select * from 주문` 뒤에 limit를 입력하고 출력하고 싶은 숫자를 입력하면 됩니다. 보통은 5 또는 10, 100같은 숫자를 입력합니다. 

![[SQL]2원칙_From_Tip.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/579fe283-28aa-489d-ae65-d683304becfc/bf6a9ac3-42cf-4001-82bb-faff2f59e95a/SQL2%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8E%E1%85%B5%E1%86%A8_From_Tip.png)

# Summary

우리는 이번시간에 From을 비롯하여, 간단하게 Select, * , Count() 를 함께 사용하여 원하는 값을 추출하는 법에 대해 배웠습니다. 

1. 우리가 원하는 테이블을 선택하고 (From)
2. 원하는 테이블을 모두 출력하고 (Select *)
3. 원하는 테이블의 갯수를 파악했습니다.(Count(*))

이로써 우리가 분석을 위해 필요한 테이블을 추출하고, 살펴보고, 집계하는 방법에 대해서 알아봤는데요.

다음으로는 내가 원하는 열 정보만 가져오는 구문인 Select에 대해서 배워보도록 하겠습니다.

---

1.3 SQL 1원칙 - From 끝

# Tip. 데이터의 갯수를 잘 살펴봐야하는 이유

본격적으로 분석하기전에 살펴봐야할 것은 바로 데이터의 갯수입니다.

분석하면서 가장 많이 하는 실수중에 하나는 데이터의 갯수를 파악하지 못하는 실수가 발생됩니다.

물론 몇몇 SQL툴은 select * from 테이블명 만 실행해도 갯수를 파악할 수 있도록 하지만

테이블의 갯수파악은 생각보다 중요합니다.

1. 데이터가 적재될때 오류가 생겼을 경우 데이터가 줄어들거나 늘어날 수 있다.

 -> 이 부분을 인지하지 못한 상태로 분석을 하게 된다면 틀린 데이터 분석이 됩니다.

2. 데이터의 중복

 -> 데이터셋 내에 중복된 값이 존재할 수 있습니다. 김철수라는 사람은 한명밖에 없지만 두번 집계가 된다면 안되겠죠?

3. 시스템 오류로 인한 데이터 미적재

 -> 내부 시스템에 이해 데이터가 제대로 업데이트가 되지 않을 경우가 종종 발생합니다.

1. count(*)의 경우 비어있는 값도 집계함

→ 원래는 값이 있는 경우를 집계해야하지만 count(*)는 비어있는 값도 하나의 값으로 카운트를 합니다. 그렇기 때문에 채워져있는 값을 셀 경우에는 주의해야합니다.